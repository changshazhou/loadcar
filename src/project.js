window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AdType:[function(t,e,o){"use strict";cc._RF.push(e,"59c1b3IRh9Pqa+lGwGhZj1p","AdType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.BANNER=1]="BANNER",t[t.FLOAT=2]="FLOAT",t[t.PLAYER_DIED=4]="PLAYER_DIED",t[t.CENTER=8]="CENTER",t[t.EXPORT=16]="EXPORT",t[t.BACK=32]="BACK",t[t.MASK=64]="MASK",t[t.WAIT=128]="WAIT",t[t.PAUSE=256]="PAUSE",t[t.GAMEOVER_WIN=512]="GAMEOVER_WIN",t[t.END=1024]="END",t[t.RESPAWN=2048]="RESPAWN",t[t.LEFT=4096]="LEFT",t[t.GAMEOVER_FAIL=8192]="GAMEOVER_FAIL",t[t.GAME=16384]="GAME",t[t.BEFORE=32768]="BEFORE"}(o.AdType||(o.AdType={})),cc._RF.pop()},{}],AdViewItem:[function(t,e,o){"use strict";cc._RF.push(e,"e482fDqWsFOkKTB1y3IlvJw","AdViewItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/entity/EntityLogic"),s=t("../utils/EventType"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=t.call(this)||this;return e.logo=null,e.title=null,e.animLogo=null,e.nameBg=null,e.changeView=!1,e._isClip=!1,e._update=0,e._clipIdx=0,e._updateLimit=5,e}return n(e,t),e.prototype.start=function(){this.logo.node.on(cc.Node.EventType.TOUCH_END,this.onClickAd,this),this.mAdItem&&this.updateUI(this.mAdItem),""==this.logo.spriteFrame.getTexture().nativeUrl&&console.log("start 3")},e.prototype.onClickAd=function(){var t=this,e=this.mAdItem;if(this.changeView){var o=this.findNextAd();Lite.event.sendEventImmediately(s.default.AD_VIEW_CHANGE,{current:i({},this.mAdItem),next:o});var n=this.mAdItem.onCancel;console.log("\u56de\u8c03\u51fd\u6570",!!n),this.refreshImg(i({},o,{onCancel:n}))}moosnow.platform.navigate2Mini(e,function(){},function(){t.mAdItem.onCancel&&t.mAdItem.onCancel()})},e.prototype.findNextAd=function(){if(!this.LogicData.source)return null;if(!this.LogicData.showAppId)return null;for(var t=0;t<this.LogicData.source.length;t++){for(var e=!1,o=0;o<this.LogicData.showAppId.length;o++)this.LogicData.showAppId[o].appid==this.LogicData.source[t].appid&&(e=!0);if(!e)return this.LogicData.source[t]}return null},e.prototype.onAdViewChange=function(t){for(var e=t.current,o=t.next,n=0;n<this.LogicData.showAppId.length;n++)e.appid==this.LogicData.showAppId[n]&&(this.LogicData.showAppId[n]=o.appid);for(n=0;n<this.LogicData.source.length;n++)if(o.appid==this.LogicData.source[n].appid){this.LogicData.source.splice(n,1),this.LogicData.source.push(e);break}},e.prototype.onShow=function(){this.LogicData.onCancel,this.changeView&&Lite.event.addListener(s.default.AD_VIEW_CHANGE,this,this.onAdViewChange)},e.prototype.onHide=function(){this.mAdItem&&this.mAdItem.onCancel,Lite.event.removeListener(s.default.AD_VIEW_CHANGE,this)},e.prototype.onEnable=function(){console.log("ad view onEnable",this.node.uuid),""==this.logo.spriteFrame.getTexture().nativeUrl&&console.log("onEnable 1")},e.prototype.onLoad=function(){""==this.logo.spriteFrame.getTexture().nativeUrl&&console.log("onLoad 2")},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mAdItem=e,this.updateUI(e)},e.prototype.updateUI=function(t){var e=this;t.img&&cc.loader.load(t.img,function(t,o){var n=new cc.SpriteFrame(o);e.logo.spriteFrame=n}),this.title&&(this.title.string=t.title)},e.prototype.refreshImg=function(t){this.mAdItem=t,this.updateUI(t)},r([p(cc.Sprite)],e.prototype,"logo",void 0),r([p(cc.Label)],e.prototype,"title",void 0),r([p(cc.Sprite)],e.prototype,"animLogo",void 0),r([p(cc.Sprite)],e.prototype,"nameBg",void 0),r([p],e.prototype,"changeView",void 0),e=r([u],e)}(c.default);o.default=l,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType"}],AppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"689ee+Km5tOEo6OHhkAmR8K","AppConfig");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.avatarUrl="https://moyun-1257000992.cos.ap-guangzhou.myqcloud.com/avatar/",e.mLayoutConfig={},e.respawnNum="0",e.comboTime="1",e.killCoin="10",e.comboCoin={},e.killEnergy="10",e.respawnTime="10",e.coinPricePr="0",e.coinRewardTotalTime="0",e.coinRewardPr="0",e.coinRewardTime="0",e.comboVibrate="0",e.respawnSkillCF="0",e.killTips={},e.changeCoinCF="0",e.getDiamond="0",e.mapWidth=3600,e.mapHeight=3600,e.showInviteDelayTime="2",e.gameEndVideoChecked="0",e.showAdForm="0",e.showTryingForm="0",e.tryingLevel=[],e.tryingMode="0",e.bg="bg0",e.bgArr=["bg0","bg1"],e.isOpenVideo=!1,e.attackId=0,e.playerAttackId=0,e}return n(e,t),Object.defineProperty(e.prototype,"layoutConfig",{get:function(){return this.mLayoutConfig},set:function(t){this.mLayoutConfig=t},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.resUrl="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Game/Truckload2/1.2.2/",e}(t("./BaseModule").default);o.default=i,cc._RF.pop()},{"./BaseModule":"BaseModule"}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"318a7hxC4hEX61QK69AYWmB","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.shuffle=function(t){for(var e,o,n=t.length,i=n;i--;)i!==(o=Math.floor(Math.random()*n))&&(e=t[i],t[i]=t[o],t[o]=e);return t},t.prototype.indexOf=function(t,e){for(var o=-1,n=0,i=t.length;n<i;n++)if(t[n]==e){o=n;break}return o},t.prototype.replace=function(t,e,o){var n=t[e],i=t[o];t[o]=n,t[e]=i},t.prototype.merge=function(t,e){for(var o=0,n=t.length;o<n;o++)e.push(t[o]);return e},t.clone=function(t){new Array;return t.slice(0)},t.remove=function(t,e){for(var o=0;o<t.length;o++)if(t[o]==e)return t.splice(o,1),void o--},t}();o.default=n,cc._RF.pop()},{}],AudioModule:[function(t,e,o){"use strict";cc._RF.push(e,"755d365qBJHeKetwOxL4m/A","AudioModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseModule"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=t.call(this)||this;return e.gameMusic=null,e.btnSound=null,e.openDoor=null,e.loaderJump=null,e.truckSignal=null,e.truckEngineOn=null,e.truckEngineWorking=null,e.boxHit=null,e.loaderMagnet=null,e.menuMusic=null,e.blast=null,e.shutter=null,e.IS_MUTE="isMute",e.IS_MUTE_MUSIC="isMuteMusic",e.IS_MUTE_SOUND="isMuteSound",e.VOLUME_MUSIC="volumeMusic",e.VOLUME_SOUND="volumeSound",e._volumeMusic=1,e._volumeSound=1,e._isMuteMusic=!1,e._isMuteSound=!1,e._isMute=!1,e.gameCoinTime=0,e.mMusicId=null,e.magnetId=null,e.getSave(),e}return n(e,t),e.prototype.onEnable=function(){Lite.audio=this},e.prototype.start=function(){},Object.defineProperty(e.prototype,"MusicId",{get:function(){return this.mMusicId},enumerable:!0,configurable:!0}),e.prototype.playGameMusic=function(){this.mMusicId=this.playMusic(this.gameMusic)},e.prototype.playMainMusic=function(){this.mMusicId=this.playMusic(this.menuMusic)},e.prototype.playBossMusic=function(){this.mMusicId=this.playMusic(this.gameMusic)},e.prototype.playClickEffect=function(){this.playSound(this.btnSound)},e.prototype.playDoorEffect=function(){this.playSound(this.openDoor)},e.prototype.playJump=function(){this.playSound(this.loaderJump)},e.prototype.playTruckSignal=function(){this.playSound(this.truckSignal)},e.prototype.playTruckEngineOn=function(){var t=this;this.playSound(this.truckEngineOn,!1,function(){t.playTruckEngineWorking()})},e.prototype.playBoxHit=function(){this.playSound(this.boxHit)},e.prototype.playShutter=function(){this.playSound(this.shutter)},e.prototype.playRespawnEffect=function(t){t&&t()},e.prototype.playLoaderMagnet=function(){this.magnetId=this.playSound(this.loaderMagnet,!0)},e.prototype.stopLoaderMagnet=function(){this.magnetId&&cc.audioEngine.stopEffect(this.magnetId)},e.prototype.playBlast=function(){this.playSound(this.blast)},e.prototype.playTruckEngineWorking=function(){this.playSound(this.truckEngineWorking)},e.prototype.playGameCoinEffect=function(){var t=Date.now();t-this.gameCoinTime>=100&&(this.gameCoinTime=t)},e.prototype.destroySound=function(t){},e.prototype.stopAll=function(){},e.prototype.stopAllSound=function(){},e.prototype.stopMusic=function(){this.mMusicId&&cc.audioEngine.stop(this.mMusicId)},e.prototype.playSound=function(t,e,o,n,i){if(void 0===e&&(e=!1),void 0===o&&(o=null),void 0===n&&(n=null),void 0===i&&(i=0),!this.isMute){var r=cc.audioEngine.playEffect(t,e);return cc.audioEngine.setFinishCallback(r,function(t){o&&o(t),e||cc.audioEngine.stop(r)}),r}},e.prototype.playMusic=function(t,e,o,n){if(void 0===e&&(e=!0),void 0===o&&(o=null),void 0===n&&(n=0),!this.isMute)return cc.audioEngine.playMusic(t,e)},Object.defineProperty(e.prototype,"volumeMusic",{get:function(){return this._volumeMusic},set:function(t){this._volumeMusic=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volumeSound",{get:function(){return this._volumeSound},set:function(t){this._volumeSound=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMuteMusic",{get:function(){return this._isMuteMusic},set:function(t){this._isMuteMusic=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMuteSound",{get:function(){return this._isMuteSound},set:function(t){this._isMuteSound=t,this.save()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMute",{get:function(){return this._isMute},set:function(t){this._isMute=t,this.save()},enumerable:!0,configurable:!0}),e.prototype.save=function(){cc.sys.localStorage.setItem(this.IS_MUTE,""+this.isMute),cc.sys.localStorage.setItem(this.IS_MUTE_MUSIC,""+this.isMuteMusic),cc.sys.localStorage.setItem(this.IS_MUTE_SOUND,""+this.isMuteSound)},e.prototype.getSave=function(){this.isMute="true"==cc.sys.localStorage.getItem(this.IS_MUTE),this.isMuteMusic="true"==cc.sys.localStorage.getItem(this.IS_MUTE_MUSIC),this.isMuteSound="true"==cc.sys.localStorage.getItem(this.IS_MUTE_SOUND)},e.prototype.onDisable=function(){},i([a({type:cc.AudioClip})],e.prototype,"gameMusic",void 0),i([a({type:cc.AudioClip})],e.prototype,"btnSound",void 0),i([a({type:cc.AudioClip})],e.prototype,"openDoor",void 0),i([a({type:cc.AudioClip})],e.prototype,"loaderJump",void 0),i([a({type:cc.AudioClip})],e.prototype,"truckSignal",void 0),i([a({type:cc.AudioClip})],e.prototype,"truckEngineOn",void 0),i([a({type:cc.AudioClip})],e.prototype,"truckEngineWorking",void 0),i([a({type:cc.AudioClip})],e.prototype,"boxHit",void 0),i([a({type:cc.AudioClip})],e.prototype,"loaderMagnet",void 0),i([a({type:cc.AudioClip})],e.prototype,"menuMusic",void 0),i([a({type:cc.AudioClip})],e.prototype,"blast",void 0),i([a({type:cc.AudioClip})],e.prototype,"shutter",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"./BaseModule":"BaseModule"}],BannerClickType:[function(t,e,o){"use strict";cc._RF.push(e,"1d9aa4vXuRE5pWST2K3BkSD","BannerClickType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.AUTO_HIDE=1]="AUTO_HIDE",t[t.MAST=2]="MAST"}(o.BannerClickType||(o.BannerClickType={})),cc._RF.pop()},{}],BaseModule:[function(t,e,o){"use strict";cc._RF.push(e,"32467evvihFDoJEB0n0C/Xm","BaseModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=t.call(this)||this;return e.moduleName="",e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BoxControl:[function(t,e,o){"use strict";cc._RF.push(e,"fb4ddKtdp1O3odxnSTt4XuZ","BoxControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enum/BoxType"),c=t("../framework/entity/EntityLogic"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxType=r.BoxType.BOX,e.fragile=null,e.isFragile=!1,e.upward=null,e.isUpward=!1,e}return n(e,t),Object.defineProperty(e.prototype,"BoxBody",{get:function(){return this.mBoxBody||(this.mBoxBody=this.node.getComponent(cc.RigidBody)),this.mBoxBody},enumerable:!0,configurable:!0}),e.prototype.willShow=function(){},e.prototype.onShow=function(t){this.setType(cc.RigidBodyType.Static),this.node.position=new cc.Vec2(t.x,t.y),this.node.angle=t.rotation,this.setType(cc.RigidBodyType.Dynamic)},e.prototype.setType=function(t){var e=this.node.getComponent(cc.RigidBody);e.type=t,e.linearVelocity=cc.Vec2.ZERO,e.angularVelocity=0},e.prototype.sleepBody=function(t){this.node.getComponent(cc.RigidBody).active=!t},e.prototype.cutRope=function(){},e.prototype.onBeginContact=function(t,e,o){"road"==o.node.group&&Lite.audio.playBoxHit()},e.prototype.onEndContact=function(t,e,o){},e.prototype.update=function(t){this.cutRope()},i([u({type:cc.Enum(r.BoxType),serializable:!0,displayName:"\u76d2\u5b50\u7c7b\u578b"})],e.prototype,"boxType",void 0),i([u(cc.Node)],e.prototype,"fragile",void 0),i([u],e.prototype,"isFragile",void 0),i([u(cc.Node)],e.prototype,"upward",void 0),i([u],e.prototype,"isUpward",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../enum/BoxType":"BoxType","../framework/entity/EntityLogic":"EntityLogic"}],BoxType:[function(t,e,o){"use strict";cc._RF.push(e,"dbd74oVmoxEMLRpocIE1YUL","BoxType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.BOX=0]="BOX",t[t.LONGBOX=1]="LONGBOX",t[t.CIRCLE=2]="CIRCLE",t[t.BIGBOX=3]="BIGBOX",t[t.UPWARDBOX=4]="UPWARDBOX",t[t.UPWARDBIGBOX=5]="UPWARDBIGBOX",t[t.UPWARDLONGBOX=6]="UPWARDLONGBOX"}(o.BoxType||(o.BoxType={})),cc._RF.pop()},{}],ButtonEx:[function(t,e,o){"use strict";cc._RF.push(e,"9c1e2AO8wZPWbAgk+CIA9Na","ButtonEx");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEffect=!0,e.enableMusic=!0,e.autoScale=!1,e.autoSwing=!1,e.zoomTime=1,e.scaleMax=1,e.scaleMin=.8,e.enableLogPoint=!1,e.logPointName="",e.mDownEffect=!1,e.mSwingAction=cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever(),e}return n(e,t),e.prototype.runAnim=function(){this.autoScale?this.autoScaleZoomOut():this.autoSwing&&this.node.runAction(this.mSwingAction)},e.prototype.start=function(){this.runAnim()},e.prototype.onEnable=function(){this.node.scale=1,this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.onMouseDown=function(){this.mDownEffect||(this.mDownEffect=!0,Lite.audio.playClickEffect(),this.enableEffect&&this.mouseDownEffect())},e.prototype.removeMouseEffect=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDownEffect,this),this.node.off(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.mouseDownEffect=function(){this.node.scale=1,this.node.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.prototype.mouseUpEffect=function(){var t=this;this.node.stopAllActions(),this.runAnim(),this.node.scale=.7,this.node.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){t.mDownEffect=!1},this)))},e.prototype.autoScaleZoomOut=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMin,this.scaleMin),cc.callFunc(function(){t.autoScaleZoomIn()},this)))},e.prototype.autoScaleZoomIn=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMax,this.scaleMax),cc.callFunc(function(){t.autoScaleZoomOut()},this)))},e.prototype.onDisable=function(){this.removeMouseEffect()},i([s],e.prototype,"enableEffect",void 0),i([s],e.prototype,"enableMusic",void 0),i([s],e.prototype,"autoScale",void 0),i([s],e.prototype,"autoSwing",void 0),i([s],e.prototype,"zoomTime",void 0),i([s],e.prototype,"scaleMax",void 0),i([s],e.prototype,"scaleMin",void 0),i([s],e.prototype,"enableLogPoint",void 0),i([s],e.prototype,"logPointName",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Coin:[function(t,e,o){"use strict";cc._RF.push(e,"406dco9odlP26BLd5jEtp7i","Coin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onShow=function(t){this.node.zIndex=9999},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"f8b10NknwBFGqyF+RuufBW3","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./EventType"),i=function(){function t(){}return t.getRandomArr=function(t,e,o){void 0===o&&(o=0);for(var n=[],i=(e-t)/2,r=0,c=0;c<=e-t;c++){n[c]=1;for(var s=Math.abs(c-i),a=0;a<s;a++)n[c]*=o;r+=n[c]}for(c=0;c<n.length;c++)n[c]=n[c]/r,c-1>=0&&(n[c]=n[c]+n[c-1]);var u=Math.random(),p=0;for(c=0;c<n.length;c++)if(u<=n[c]){p=c;break}return p+t},t.convertSpeedByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.convertRotationByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.titleCase=function(t){var e,o=t.toLowerCase().split(/\s+/);for(e=0;e<o.length;e++)o[e]=o[e].slice(0,1).toUpperCase()+o[e].slice(1);return o.join(" ")},t.numFixed=function(t,e){return parseFloat(parseFloat(t).toFixed(e))},t.parseMoney=function(t){return isNaN(t)?0:parseFloat(parseFloat(t).toFixed(2))},t.formatMoney=function(t){return isNaN(t)&&(t=0),t<9999?parseInt(""+t):t<9999999?parseFloat(""+t/1e3).toFixed(2)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(2)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(2)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(2)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(2)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(2)+"E":parseFloat(""+t/1e21).toFixed(2)+"B"},t.formatDiamond=function(t){return isNaN(t)&&(t=0),t<9999?parseFloat(t).toFixed(0):t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":parseFloat(""+t/1e6).toFixed(0)+"M"},t.formatAttack=function(t){return isNaN(t)&&(t=0),t<9999?""+t:t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(0)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(0)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(0)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(0)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(0)+"E":parseFloat(""+t/1e21).toFixed(0)+"B"},t.objKeySort=function(t){for(var e=Object.keys(t).sort(),o={},n=0;n<e.length;n++)o[e[n]]=t[e[n]];return o},t.isWeChat=function(){return!!window.wx},t.isQQPlay=function(){return!1},t.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},t.object2Query=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},t.format=function(){var t=arguments[0];if(void 0===t||null==t||""==t||"undefined"==t)return t;for(var e=1;e<arguments.length;e++){var o=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(o,arguments[e])}return t},t.isFunction=function(t){return"function"==typeof t},t.isEmpty=function(t){if("object"==typeof t){var e;for(e in t)return!1;return!0}return null===t||void 0===t||"null"===t||"undefined"===t||""===t},t.dateFtt=function(t,e){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},t.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();t.getHours(),t.getMinutes(),t.getSeconds();return[e,o,n].map(this.formatNumber).join("/")},t.millisecondToDate=function(t){return this.secondToDate(t/1e3)},t.secondToDate=function(t){var e="";if(t&&(t<60&&(e=this.formatNumber(0)+":"+this.formatNumber(t)),t>60&&t<3600)){var o=parseInt(""+t/60),n=t-60*o;e=this.formatNumber(o)+":"+this.formatNumber(n)}return e},t.getCurrentDay=function(){var t=new Date;return t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()},t.getzf=function(t){return parseInt(""+t)<10?"0"+t:""+t},t.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},t.colorRGB2Hex=function(t){var e=t.split(",");return"#"+((1<<24)+(parseInt(e[0].split("(")[1])<<16)+(parseInt(e[1])<<8)+parseInt(e[2].split(")")[0])).toString(16).slice(1)},t.copy=function(t,e){for(var o in t)e[o]=t[o]},t.deepCopy=function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(t[o]&&"object"==typeof t[o]?e[o]=this.deepCopy(t[o]):e[o]=t[o]);return e},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.randomToRatio=function(t,e,o){return this.randomNumBoth(t,e)<=o},t.randName=function(){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e="",o=0;o<8;o++){var n=t[this.randomNumBoth(0,t.length-1)];n&&(e+=n)}return e+=this.randomNumBoth(100,999)},t.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})},t.isNumber=function(t){return"number"==typeof t||"[object Number]"==Object.prototype.toString.call(t)},t.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.popOpenAnim=function(t){var e=this;return new Promise(function(o){t.scale=.8,t.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){o()},e)))})},t.popCloseAnim=function(t){var e=this;return new Promise(function(o){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){o()},e)))})},t.addCoin=function(e,o,i){for(var r=this,c=function(o){var n=t.randomNumBoth(0,100)/200,i=Lite.entity.showEntity("coin",e,{x:t.randomNumBoth(-100,100),y:t.randomNumBoth(-100,100)});console.log("addCoin",i.node.x,i.node.y,i.node.active),i.node.runAction(cc.sequence(cc.delayTime(n),cc.spawn(cc.moveTo(1,-530,315),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(i,null,!0)})))},s=0;s<30;s++)c();var a=setTimeout(function(){Lite.data.addCoin(o),Lite.data.saveCoin(),Lite.event.sendEventImmediately(n.default.COIN_CHANGED,null),clearTimeout(a),r.isFunction(i)&&i()},2100)},t}();o.default=i,cc._RF.pop()},{"./EventType":"EventType"}],ConfigData:[function(t,e,o){"use strict";cc._RF.push(e,"f1386HytD9EyIBXroe5OUvv","ConfigData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.init=function(){var t,o=r.SheetManager.getList("ConfigData");for(var n in console.log("ConfigData",o),o)"keys"!=n&&(t=e.get(n)),t&&(this[t.name]=t.value,t=null)},e.get=function(t){return this[t]?this[t]:r.SheetManager.get("ConfigData",t,e)},e}(i.ConfigDataBase);o.ConfigData=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],Delay:[function(t,e,o){"use strict";cc._RF.push(e,"efc2baB0I9Af7MyCBRLxWXZ","Delay"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.clearAll=function(){},t.delay=function(t){return new Promise(function(e){0!=t?cc.Canvas.instance.scheduleOnce(function(){e(!0)},t):e()})},t.delay1=function(t){return new Promise(function(e){0!=t?setTimeout(function(){e(!0)},t):e()})},t.delayTo=function(t,e){return new Promise(function(o){cc.Canvas.instance.schedule(function(){o(e)},t)})},t}();o.Delay=n,cc._RF.pop()},{}],DoorControl:[function(t,e,o){"use strict";cc._RF.push(e,"99669x4dZ1JnpKowzEbMOND","DoorControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.door=null,e.doorSwitch=null,e.customMoveVec=cc.Vec2.ZERO,e.moveDuration=.5,e}return n(e,t),e.prototype.start=function(){this.mPos=this.node.position},e.prototype.onEnable=function(){this.addListener()},e.prototype.onDisable=function(){this.removeListener()},e.prototype.addListener=function(){var t=this;Lite.event.addListener(c.default.DOOR_MOVE,this,function(e){e.uuid==t.doorSwitch.uuid&&t.doorMove(e.opened)})},e.prototype.removeListener=function(){Lite.event.removeListener(c.default.DOOR_MOVE,this)},e.prototype.doorMove=function(t){Lite.audio.playDoorEffect(),this.node.stopAllActions(),t?this.node.runAction(cc.moveTo(this.moveDuration,this.customMoveVec)):this.node.runAction(cc.moveTo(this.moveDuration,this.mPos))},i([u(cc.Node)],e.prototype,"door",void 0),i([u(cc.Node)],e.prototype,"doorSwitch",void 0),i([u(cc.Vec2)],e.prototype,"customMoveVec",void 0),i([u],e.prototype,"moveDuration",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType"}],EasterEggAnim:[function(t,e,o){"use strict";cc._RF.push(e,"9e5d11kSxBL07hS0x/MFv0f","EasterEggAnim");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/UIForms"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.egg=null,e.light=null,e}return n(e,t),e.prototype.onEnable=function(){this.light.runAction(cc.rotateBy(3,360).repeatForever()),this.egg.runAction(cc.sequence(cc.moveBy(.5,new cc.Vec2(0,10)),cc.moveBy(.5,new cc.Vec2(0,-10))).repeatForever()),this.addListener()},e.prototype.onDisable=function(){this.removeListener()},e.prototype.openEasterEggForm=function(){Lite.ui.pushUIForm(r.default.EasterEggForm,null)},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.openEasterEggForm,this)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.openEasterEggForm,this)},i([a(cc.Node)],e.prototype,"egg",void 0),i([a(cc.Node)],e.prototype,"light",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../config/UIForms":"UIForms"}],EasterEggItem:[function(t,e,o){"use strict";cc._RF.push(e,"3348edpE/FOzb0go8VaFbgA","EasterEggItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.egg1=null,e.egg2=null,e.egg3=null,e.egg4=null,e.btnVideo=null,e.btnUse=null,e.useTag=null,e.logo=null,e}return n(e,t),e.prototype.start=function(){var t=this;this.btnVideo.on(cc.Node.EventType.TOUCH_END,function(){moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:case moosnow.VIDEO_STATUS.END:t.btnUse.active=!1,t.btnVideo.active=!1,Lite.event.sendEventImmediately(c.default.EGG_TIP,t.LogicData.ID)}})},this),this.btnUse.on(cc.Node.EventType.TOUCH_END,function(){Lite.data.useEggSkin(t.LogicData.ID),Lite.event.sendEventImmediately(c.default.EGG_SKIN_USE,t.LogicData.ID)},this),Lite.event.addListener(c.default.EGG_SKIN_USE,this,function(e){t.LogicData.ID==e?(t.btnUse.active=!1,t.useTag.active=!0):(t.btnUse.active=!0,t.useTag.active=!1)})},e.prototype.hasEggSkin=function(){return Lite.data.getCurrentLevel()>=this.LogicData.level},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.btnVideo.active=!this.hasEggSkin(),this.useTag.active=Lite.data.getUseEggSkin()==e.ID,this.btnUse.active=!this.useTag.active&&this.hasEggSkin(),this.egg1.active=!1,this.egg2.active=!1,this.egg3.active=!1,this.egg4.active=!1,this.logo.node.active=!1,this.btnVideo.active?this["egg"+e.skin].active=!0:this.showLogo()},e.prototype.showLogo=function(){var t=this;this.egg1.active=!1,this.egg2.active=!1,this.egg3.active=!1,this.egg4.active=!1,this.logo.node.active=!0,Lite.resource.loadAsset("skin/"+this.LogicData.ID+"/7",cc.SpriteFrame,function(e,o){e||(t.logo.spriteFrame=o)})},i([u(cc.Node)],e.prototype,"egg1",void 0),i([u(cc.Node)],e.prototype,"egg2",void 0),i([u(cc.Node)],e.prototype,"egg3",void 0),i([u(cc.Node)],e.prototype,"egg4",void 0),i([u(cc.Node)],e.prototype,"btnVideo",void 0),i([u(cc.Node)],e.prototype,"btnUse",void 0),i([u(cc.Node)],e.prototype,"useTag",void 0),i([u(cc.Sprite)],e.prototype,"logo",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType"}],EasterEgg:[function(t,e,o){"use strict";cc._RF.push(e,"89fe325KxlMW43YSpkTKtDn","EasterEgg");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("EasterEgg",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("EasterEgg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.EasterEggBase);o.EasterEgg=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ElevatorControl:[function(t,e,o){"use strict";cc._RF.push(e,"a71aev7u7tBb5Q0McNmbWyr","ElevatorControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=t("../enum/ElevatorType"),s=t("./SwitchControl"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.floor=null,e.doorSwitch=null,e.switchList=[],e.moveDuration=3,e.waiting=5,e.upVec=cc.Vec2.ZERO,e.upFor=null,e.beginUp=!0,e.downVec=cc.Vec2.ZERO,e.downFor=null,e.beginDown=!1,e.elevatorType=c.ElevatorType.SWITCH,e.mIsMoveing=!1,e.mToUp=!0,e.mMoveIndex=0,e}return n(e,t),e.prototype.start=function(){this.mPos=this.node.position},e.prototype.onEnable=function(){this.initElevator(),Lite.event.addListener(r.default.GAME_STATE_END,this,this.onGameEnd),this.elevatorType!=c.ElevatorType.AUTO||this.doorSwitch||0!=this.switchList.length?this.addListener():this.scheduleOnce(this.moveToUp,this.waiting)},e.prototype.onDisable=function(){this.removeListener()},e.prototype.onRespawn=function(t){t.timeout&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.floor.stopAllActions(),this.mIsMoveing=!1)},e.prototype.onGameEnd=function(t){t.isWin&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.floor.stopAllActions(),this.mIsMoveing=!1)},e.prototype.initElevator=function(){if(this.upFor){var t=this.upFor.convertToWorldSpaceAR(new cc.Vec2(0,this.upFor.height/2)),e=this.node.convertToNodeSpaceAR(t);this.upVec.y=e.y-this.floor.height/2}if(this.downFor){t=this.downFor.convertToWorldSpaceAR(new cc.Vec2(0,this.downFor.height/2)),e=this.node.convertToNodeSpaceAR(t);this.downVec.y=e.y-this.floor.height/2}this.beginUp&&(this.floor.position=this.upVec),this.beginDown&&(this.floor.position=this.downVec)},e.prototype.moveToUp=function(){var t=this;this.floor.stopAllActions(),this.mIsMoveing=!0;var e=this.moveDuration*(this.upVec.y-this.floor.y)/(this.upVec.y-this.downVec.y);this.mToUp=!0,this.floor.runAction(cc.sequence(cc.moveTo(e,this.upVec),cc.callFunc(function(){t.mIsMoveing=!1,t.elevatorType==c.ElevatorType.AUTO&&t.scheduleOnce(t.moveToDown,t.waiting)},this)))},e.prototype.moveToDown=function(){var t=this;this.floor.stopAllActions(),this.mIsMoveing=!0;var e=this.moveDuration*(this.floor.y-this.downVec.y)/(this.upVec.y-this.downVec.y);this.mToUp=!1,this.floor.runAction(cc.sequence(cc.moveTo(e,this.downVec),cc.callFunc(function(){t.mIsMoveing=!1,t.elevatorType==c.ElevatorType.AUTO&&t.scheduleOnce(t.moveToUp,t.waiting)},this)))},e.prototype.addListener=function(){var t=this;Lite.event.addListener(r.default.DOOR_MOVE,this,function(e){t.doorSwitch&&e.uuid==t.doorSwitch.uuid?t.elevatorType==c.ElevatorType.AUTO?t.beginUp?t.moveToDown():t.moveToUp():t.onMove(e.opened):t.switchList.forEach(function(o){o.uuid==e.uuid&&t.onMove(e.opened)})})},e.prototype.removeListener=function(){Lite.event.removeListener(r.default.DOOR_MOVE,this)},e.prototype.onMove=function(t){if(this.elevatorType==c.ElevatorType.AUTO)t?this.moveToUp():this.floor.stopAllActions();else if(this.elevatorType==c.ElevatorType.SWITCH){this.doorSwitch.getComponent(s.default).keep&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.beginDown?t?this.scheduleOnce(this.moveToUp,this.waiting):this.scheduleOnce(this.moveToDown,this.waiting):t?this.scheduleOnce(this.moveToDown,this.waiting):this.scheduleOnce(this.moveToUp,this.waiting))}else this.elevatorType==c.ElevatorType.MULTI_SWITCH?parseInt(""+this.floor.y)==parseInt(""+this.upVec.y)?this.scheduleOnce(this.moveToDown,this.waiting):this.scheduleOnce(this.moveToUp,this.waiting):(this.mMoveIndex+=1,this.mMoveIndex%2==0?this.moveToUp():this.moveToDown())},e.prototype.onBeginContact=function(t,e,o){console.log("ElevatorControl",Date.now())},e.prototype.update=function(t){this.elevatorType,c.ElevatorType.LOADER},i([p(cc.Node)],e.prototype,"floor",void 0),i([p(cc.Node)],e.prototype,"doorSwitch",void 0),i([p({type:cc.Node})],e.prototype,"switchList",void 0),i([p],e.prototype,"moveDuration",void 0),i([p({serializable:!0,displayName:"\u7b49\u5f85\u65f6\u95f4"})],e.prototype,"waiting",void 0),i([p(cc.Vec2)],e.prototype,"upVec",void 0),i([p({type:cc.Node,serializable:!0,displayName:"\u9876\u90e8\u9f50\u5e73\u7684\u5bf9\u8c61"})],e.prototype,"upFor",void 0),i([p],e.prototype,"beginUp",void 0),i([p(cc.Vec2)],e.prototype,"downVec",void 0),i([p({type:cc.Node,serializable:!0,displayName:"\u5e95\u90e8\u9f50\u5e73\u7684\u5bf9\u8c61"})],e.prototype,"downFor",void 0),i([p],e.prototype,"beginDown",void 0),i([p({type:cc.Enum(c.ElevatorType),serializable:!0,displayName:"\u5347\u964d\u673a\u7c7b\u578b"})],e.prototype,"elevatorType",void 0),e=i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../enum/ElevatorType":"ElevatorType","../utils/EventType":"EventType","./SwitchControl":"SwitchControl"}],ElevatorMove:[function(t,e,o){"use strict";cc._RF.push(e,"d50c606cVxAx6oLENENtvWH","ElevatorMove"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.NONE=2]="NONE"}(o.ElevatorMove||(o.ElevatorMove={})),cc._RF.pop()},{}],ElevatorType:[function(t,e,o){"use strict";cc._RF.push(e,"b8f715MLgBI5KVcoiaU69Yx","ElevatorType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.AUTO=0]="AUTO",t[t.SWITCH=1]="SWITCH",t[t.MULTI_SWITCH=2]="MULTI_SWITCH",t[t.LOADER=3]="LOADER"}(o.ElevatorType||(o.ElevatorType={})),cc._RF.pop()},{}],Entity3DLogic:[function(t,e,o){"use strict";cc._RF.push(e,"e58d7SnVYpHaL0P0jersUWl","Entity3DLogic");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../utils/Utils3D"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=t.call(this)||this;return e.url="",e.poolName="",e.collisionStay=!1,e}return n(e,t),Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(t){var e=this.node;t&&(t.position&&r.Utils3D.position(e,t.position.x,t.position.y,t.position.z),t.rotation&&r.Utils3D.rotation(e,t.rotation.x,t.rotation.y,t.rotation.z),t.scale&&r.Utils3D.scale(e,t.scale.x,t.scale.y,t.scale.z)),this.mLogicData=t},e.prototype.onShow=function(t){},e.prototype.onFwUpdate=function(t){},e.prototype.willHide=function(t){},e.prototype.onHide=function(t){},e.prototype.onCollision=function(t){},e.prototype.onDisable=function(){},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../utils/Utils3D":"Utils3D"}],EntityData:[function(t,e,o){"use strict";cc._RF.push(e,"61c0cZlORJOErpyU98cY99v","EntityData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o){this.position=null,this.scale=null,this.rotation=null,this.data=null,t&&this.positionEmpty(),e&&this.rotationEmpty(),o&&this.scaleEmpty()}return Object.defineProperty(t,"empty",{get:function(){return new t},enumerable:!0,configurable:!0}),t.prototype.positionEmpty=function(){this.position={x:0,y:0,z:0}},t.prototype.scaleEmpty=function(){this.scale={x:1,y:1,z:1}},t.prototype.rotationEmpty=function(){this.rotation={x:0,y:0,z:0}},t}();o.EntityData=n,cc._RF.pop()},{}],EntityLogic:[function(t,e,o){"use strict";cc._RF.push(e,"7864cG1795NOa98YZB1c+kZ","EntityLogic");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.poolName="",e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.start=function(){},Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(t){this.mLogicData=t,t&&(t.x&&(this.node.x=t.x),t.y&&(this.node.y=t.y))},e.prototype.onShow=function(t){},e.prototype.onFwUpdate=function(t){},e.prototype.willHide=function(t){},e.prototype.onHide=function(t){},e.prototype.onCollision=function(t){},e.prototype.unuse=function(){},e.prototype.reuse=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.onDisable=function(){},e}(cc.Component);o.default=i,cc._RF.pop()},{}],EntityModule:[function(t,e,o){"use strict";cc._RF.push(e,"fe74emKzDVBTpEvlAcYM4oB","EntityModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../entity/EntityLogic"),c=t("./BaseModule"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=t.call(this)||this;return e.adFloatLeftItem1=null,e.adFloatLeftItem2=null,e.adFloatLeftItem3=null,e.adListBannerItem=null,e.adListCenterItem=null,e.adListEndItem=null,e.adListExportItem=null,e.adListLeftItem=null,e.coin=null,e.easterEggItem=null,e.gameCountdown=null,e.inviteBox=null,e.level1=null,e.level2=null,e.level3=null,e.level4=null,e.level5=null,e.level6=null,e.level7=null,e.level8=null,e.level9=null,e.level10=null,e.level11=null,e.level12=null,e.level13=null,e.level14=null,e.level15=null,e.level16=null,e.level17=null,e.level18=null,e.level19=null,e.level20=null,e.level21=null,e.level22=null,e.level23=null,e.level24=null,e.level25=null,e.level26=null,e.level27=null,e.level28=null,e.level29=null,e.level30=null,e.mapItem=null,e.nativeAd=null,e.nativeAdVIVO=null,e.nativeSmallAdVIVO=null,e.openBoxItem=null,e.packingBigBox=null,e.packingBox=null,e.packingCircle=null,e.packingLongBox=null,e.packingUpwardBigBox=null,e.packingUpwardBox=null,e.packingUpwardLongBox=null,e.playerBoom=null,e.playerCar=null,e.playerCarPart=null,e.skinItem=null,e.truckLoader=null,e.entityLogics=[],e._serializeId=0,e.paused=!0,e.prefabPath="prefab/entity/",e.mEntity3DPools=[],e.mEntity3DLogics=[],e.entityPools=[],e.mIsSlow=!0,e.entityLogics=[],e.mEntity3DPools=[],e.mEntity3DLogics=[],e._serializeId=0,e._serializeId=0,e}return n(e,t),e.prototype.start=function(){Lite.entity=this,this.resume()},e.prototype.update=function(t){if(!this.paused)for(var e=0;e<this.entityLogics.length;e++){this.entityLogics[e].onFwUpdate(t)}},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(e){return e.poolName==t})},e.prototype.showEntity=function(t,e,o){var n=this._showEntity(t);return n.id=this._serializeId++,n.node.parent=e,n.willShow(o),n.node.active=!0,n.node.zIndex=n.id,n.onShow(o),this.entityLogics.push(n),n},e.prototype.hideEntity=function(t,e,o){void 0===o&&(o=!1),this._hideEntity(t,e,o)},e.prototype.hideAllEntity=function(t,e){void 0===e&&(e=!1);for(var o=0;o<this.entityLogics.length;o++){var n=this.entityLogics[o];n.poolName==t&&(this.hideEntity(n,null,e),o--)}},e.prototype._showEntity=function(t){var e=this._getOrNewEntityPool(t),o=e.get();null==o&&(o=this._createEntity(t));var n=o.getComponent(r.default);return n.poolName=e.name,n},e.prototype._hideEntity=function(t,e,o){if(void 0===o&&(o=!1),o)t.willHide(e),t.node.active=!1,t.onHide(e),t.destroy();else{var n=this._getOrNewEntityPool(t.poolName);t.willHide(e),n.put(t.node),t.node.active=!1,t.onHide(e)}cc.js.array.remove(this.entityLogics,t)},e.prototype._createEntity=function(t){var e=this._getPrefabByName(t);return cc.instantiate(e)},e.prototype._getPrefabByName=function(t){return this[t]},e.prototype._getOrNewEntityPool=function(t){var e=this._getEntityPool(t);return null==e&&(e=this._newEntityPool(t)),e},e.prototype._getEntityPool=function(t){for(var e=0;e<this.entityPools.length;e++){var o=this.entityPools[e];if(o.name===t)return o}return null},e.prototype._newEntityPool=function(t){var e=new cc.NodePool(t);return e.name=t,this.entityPools.push(e),e},i([u(cc.Prefab)],e.prototype,"adFloatLeftItem1",void 0),i([u(cc.Prefab)],e.prototype,"adFloatLeftItem2",void 0),i([u(cc.Prefab)],e.prototype,"adFloatLeftItem3",void 0),i([u(cc.Prefab)],e.prototype,"adListBannerItem",void 0),i([u(cc.Prefab)],e.prototype,"adListCenterItem",void 0),i([u(cc.Prefab)],e.prototype,"adListEndItem",void 0),i([u(cc.Prefab)],e.prototype,"adListExportItem",void 0),i([u(cc.Prefab)],e.prototype,"adListLeftItem",void 0),i([u(cc.Prefab)],e.prototype,"coin",void 0),i([u(cc.Prefab)],e.prototype,"easterEggItem",void 0),i([u(cc.Prefab)],e.prototype,"gameCountdown",void 0),i([u(cc.Prefab)],e.prototype,"inviteBox",void 0),i([u(cc.Prefab)],e.prototype,"level1",void 0),i([u(cc.Prefab)],e.prototype,"level2",void 0),i([u(cc.Prefab)],e.prototype,"level3",void 0),i([u(cc.Prefab)],e.prototype,"level4",void 0),i([u(cc.Prefab)],e.prototype,"level5",void 0),i([u(cc.Prefab)],e.prototype,"level6",void 0),i([u(cc.Prefab)],e.prototype,"level7",void 0),i([u(cc.Prefab)],e.prototype,"level8",void 0),i([u(cc.Prefab)],e.prototype,"level9",void 0),i([u(cc.Prefab)],e.prototype,"level10",void 0),i([u(cc.Prefab)],e.prototype,"level11",void 0),i([u(cc.Prefab)],e.prototype,"level12",void 0),i([u(cc.Prefab)],e.prototype,"level13",void 0),i([u(cc.Prefab)],e.prototype,"level14",void 0),i([u(cc.Prefab)],e.prototype,"level15",void 0),i([u(cc.Prefab)],e.prototype,"level16",void 0),i([u(cc.Prefab)],e.prototype,"level17",void 0),i([u(cc.Prefab)],e.prototype,"level18",void 0),i([u(cc.Prefab)],e.prototype,"level19",void 0),i([u(cc.Prefab)],e.prototype,"level20",void 0),i([u(cc.Prefab)],e.prototype,"level21",void 0),i([u(cc.Prefab)],e.prototype,"level22",void 0),i([u(cc.Prefab)],e.prototype,"level23",void 0),i([u(cc.Prefab)],e.prototype,"level24",void 0),i([u(cc.Prefab)],e.prototype,"level25",void 0),i([u(cc.Prefab)],e.prototype,"level26",void 0),i([u(cc.Prefab)],e.prototype,"level27",void 0),i([u(cc.Prefab)],e.prototype,"level28",void 0),i([u(cc.Prefab)],e.prototype,"level29",void 0),i([u(cc.Prefab)],e.prototype,"level30",void 0),i([u(cc.Prefab)],e.prototype,"mapItem",void 0),i([u(cc.Prefab)],e.prototype,"nativeAd",void 0),i([u(cc.Prefab)],e.prototype,"nativeAdVIVO",void 0),i([u(cc.Prefab)],e.prototype,"nativeSmallAdVIVO",void 0),i([u(cc.Prefab)],e.prototype,"openBoxItem",void 0),i([u(cc.Prefab)],e.prototype,"packingBigBox",void 0),i([u(cc.Prefab)],e.prototype,"packingBox",void 0),i([u(cc.Prefab)],e.prototype,"packingCircle",void 0),i([u(cc.Prefab)],e.prototype,"packingLongBox",void 0),i([u(cc.Prefab)],e.prototype,"packingUpwardBigBox",void 0),i([u(cc.Prefab)],e.prototype,"packingUpwardBox",void 0),i([u(cc.Prefab)],e.prototype,"packingUpwardLongBox",void 0),i([u(cc.Prefab)],e.prototype,"playerBoom",void 0),i([u(cc.Prefab)],e.prototype,"playerCar",void 0),i([u(cc.Prefab)],e.prototype,"playerCarPart",void 0),i([u(cc.Prefab)],e.prototype,"skinItem",void 0),i([u(cc.Prefab)],e.prototype,"truckLoader",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic","./BaseModule":"BaseModule"}],Entitys:[function(t,e,o){"use strict";cc._RF.push(e,"3918bLsqGdEqbUk+ioPm3hm","Entitys");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e,"mapping",{get:function(){var t,e;return{nativeAd:(t={},t[moosnow.APP_PLATFORM.HW]="nativeAd",t[moosnow.APP_PLATFORM.OPPO]="nativeAd",t[moosnow.APP_PLATFORM.OPPO_ZS]="nativeAd",t[moosnow.APP_PLATFORM.VIVO]="nativeAdVIVO",t),nativeSmallAd:(e={},e[moosnow.APP_PLATFORM.VIVO]="nativeSmallAdVIVO",e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nativeAd",{get:function(){return this.convertUIName(this.mapping.nativeAd)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nativeSmallAd",{get:function(){return this.convertUIName(this.mapping.nativeSmallAd)},enumerable:!0,configurable:!0}),e}(t("./UIMapping").default);o.default=i,cc._RF.pop()},{"./UIMapping":"UIMapping"}],EventModule:[function(t,e,o){"use strict";cc._RF.push(e,"851a0pdCz5F5pkup89ojohk","EventModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BaseModule"),r=t("../../utils/ArrayUtil"),c=function(t){function e(){var e=t.call(this)||this;return e._eventList=[],e._waitingForSendList=[],e._eventList=[],e._waitingForSendList=[],e}return n(e,t),e.prototype.addListener=function(t,e,o){this._addListener(t,e,!1,o)},e.prototype.addToSendQueue=function(t,e){this._addToSendList(t,e)},e.prototype.sendEventImmediately=function(t,e){this._sendEvent(t,e)},e.prototype.removeListener=function(t,e){if(null!=t&&""!=t)for(var o=0;o<this._eventList.length;o++){var n=this._eventList[o];if(n.eventName===t){for(var i=0;i<n.listeners.length;i++){var c=n.listeners[i];if(c.target===e){r.default.remove(n.listeners,c);break}}0==n.listeners.length&&r.default.remove(this._eventList,n);break}}else console.error("eventName:"+t+"\u4e0d\u5408\u6cd5\uff01")},e.prototype.removeAllListener=function(){this._eventList.length=0,this._eventList=[],this._waitingForSendList.length=0,this._waitingForSendList=[]},e.prototype._addListener=function(t,e,o,n){if(null!=t&&""!=t){var i=new s;n instanceof Function?i.callback=n:console.error("callback\u4e0d\u662f\u4e00\u4e2a\u65b9\u6cd5"),e?i.target=e:console.error("target\u4e3a\u7a7a"),i.once=o;var r=!1;if(this._eventList.length>0){for(var c=0;c<this._eventList.length;c++){var u=this._eventList[c];if(t===u.eventName)return u.listeners.push(i),void(r=!0)}if(!r)(p=new a).eventName=t,p.listeners.push(i),this._eventList.push(p)}else{var p;(p=new a).eventName=t,p.listeners.push(i),this._eventList.push(p)}}else console.error("eventName:"+t+"\u4e0d\u5408\u6cd5\uff01")},e.prototype._addToSendList=function(t,e){if(null!=t&&""!=t){var o={eventName:t,data:e};this._waitingForSendList.push(o)}else console.error("eventName:"+t+"\u4e0d\u5408\u6cd5\uff01")},e.prototype._sendEvent=function(t,e){for(var o=this._eventList,n=0;n<o.length;n++){var i=o[n];if(i.eventName===t)for(var c=i.listeners,s=c.length-1;s>=0;s--){var a=c[s],u=a.callback,p=a.target;p?(u.call(p,e),a.once&&this._eventList[n].listeners[s]&&(r.default.remove(this._eventList[n].listeners,a),n--)):(r.default.remove(this._eventList[n].listeners,a),s--)}}},e.prototype.onUpdate=function(){if(0!=this._waitingForSendList.length)for(var t=0;t<this._waitingForSendList.length;t++){var e=this._waitingForSendList[t];this._sendEvent(e.eventName,e.data),r.default.remove(this._waitingForSendList,e),t--}},e.prototype.onDisable=function(){},e}(i.default);o.default=c;var s=function(){return function(){this.callback=null,this.target=[],this.once=!1,this.callback=null,this.target=null,this.once=!1}}();o.MListener=s;var a=function(){return function(){this.eventName="",this.listeners=[],this.eventName="",this.listeners=[]}}();o.MLEvent=a,cc._RF.pop()},{"../../utils/ArrayUtil":"ArrayUtil","./BaseModule":"BaseModule"}],EventType:[function(t,e,o){"use strict";cc._RF.push(e,"84144IDHxFCyKrGLYLIXVsv","EventType"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.GAME_STATE_START="GAME_STATE_START",t.GAME_STATE_OVER="GAME_STATE_OVER",t.GAME_STATE_END="GAME_STATE_END",t.GAME_STATE_RESPAWN="GAME_STATE_RESPAWN",t.GAME_STATE_PAUSE="GAME_STATE_PAUSE",t.GAME_STATE_RESUME="GAME_STATE_RESUME",t.GAME_STATE_NEXT="GAME_STATE_NEXT",t.GAME_STATE_REPLAY="GAME_STATE_REPLAY",t.GAME_STATE_CANCEL="GAME_STATE_CANCEL",t.GAME_STATE_FAST_END="GAME_STATE_FAST_END",t.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",t.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",t.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",t.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",t.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",t.GAME_TIME_OUT="GAME_TIME_OUT",t.AD_VIEW_CHANGE="AD_VIEW_CHANGE",t.ADFORM_CHANGE="ADFORM_CHANGE",t.SKIN_CHANGE="SKIN_CHANGE",t.SKIN_UNLOCK="SKIN_UNLOCK",t.SKIN_SELECT="SKIN_SELECT",t.GAME_STATE_RESPAWN_COMPLETED="GAME_STATE_RESPAWN_COMPLETED",t.GAME_PROGRESS="GAME_PROGRESS",t.TRUCK_MOVE_OUT="TRUCK_MOVE_OUT",t.TOUCH_UP="TOUCH_UP",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_DOWN="TOUCH_DOWN",t.ROCKER_MOVE="ROCKER_MOVE",t.ROCKER_END="ROCKER_END",t.SCENE_LOADED="SCENE_LOADED",t.LEVEL_CHANGED="LEVEL_CHANGED",t.COIN_CHANGED="LEVEL_CHANGED",t.DIAMOND_CHANGED="DIAMOND_CHANGED",t.GOTO_HOME="GOTO_HOME",t.PLAYER_DIED="PLAYER_DIED",t.TRYING="TRYING",t.LAYOUT_LOADED="LAYOUT_LOADED",t.GAME_LOGIN="GAMELOGIN",t.CAMERA_FOLLOW_FRIENDLY="CAMERA_FOLLOW_FRIENDLY",t.RELOAD_LEVEL="RELOAD_LEVEL",t.LEVEL_FINAL="LEVEL_FINAL",t.ROLE_MOVE="ROLE_MOVE",t.CLAW_MOVE="CLAW_MOVE",t.AD_LOADED="AD_LOADED",t.DOOR_MOVE="DOOR_MOVE",t.JUMP="JUMP",t.SUCKER_START="SUCKER_START",t.SUCKER_END="SUCKER_END",t.BOX_STOP="BOX_STOP",t.PRIZE_BOX_UNLOCAK="PRIZE_BOX_UNLOCAK",t.EGG_TIP="EGG_TIP",t.EGG_SKIN_USE="EGG_SKIN_USE",t}();o.default=n,cc._RF.pop()},{}],FloorControl:[function(t,e,o){"use strict";cc._RF.push(e,"e4815hqePtP3qe00hdwVALe","FloorControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GameCountdown:[function(t,e,o){"use strict";cc._RF.push(e,"cdfedNFOl9Jb4ceLHYhtzeT","GameCountdown");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/Common"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tip=null,e.time=null,e.mIsTimeout=!1,e.mBoxIndex=0,e.mBoxNum=1,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.node.x=e.x,this.node.y=e.y,this.reset()},e.prototype.reset=function(){this.mIsTimeout=!1,this.node.active=!0,this.tip.node.active=!0,this.mBoxIndex=0,this.mBoxNum=1,this.time.string="00:00"},e.prototype.updateTime=function(t){var e=Math.floor(t/60),o=parseInt(""+t%60);this.time.string=c.default.formatNumber(e)+":"+c.default.formatNumber(o)},Object.defineProperty(e.prototype,"boxIndex",{set:function(t){this.mBoxIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BoxNum",{set:function(t){this.mBoxNum=t},enumerable:!0,configurable:!0}),e.prototype.timeout=function(){this.mIsTimeout=!0,this.tip.string="\u88c5\u8f7d\u7bb1\u5b50\u8fc7\u6162\uff0c\u53f8\u673a\u4e0d\u8010\u70e6\u4e86\uff0c\u8d70\u4e86"},e.prototype.onFwUpdate=function(){if(this.node.zIndex=99,!this.mIsTimeout){var t=void 0;t=this.mBoxIndex<this.mBoxNum-1?this.mBoxIndex+1:this.mBoxNum,this.tip.string="\u88c5\u8f7d\u7b2c"+t+"\u4e2a\u8d27\u7bb1\u65f6\u95f4\u5012\u8ba1\u65f6"}},i([u(cc.Label)],e.prototype,"tip",void 0),i([u(cc.Label)],e.prototype,"time",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common"}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"20893XGhcFIXq/Eim7yIV/L","GameDataCenter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../framework/modules/BaseModule"),r=t("../utils/EventType"),c=t("../utils/Common"),s=t("../../sheets/vo/LevelCfg"),a=t("../../sheets/vo/Skin"),u=function(t){function e(){var e=t.call(this)||this;return e.CURRENT_NEW_USER="CURRENT_NEW_USER",e.VIBRATE_SWITCH="VIBRATE_SWITCH",e.CURRENT_LEVEL="CURRENT_LEVEL",e.TOKEN="token",e.OPEN_ID="OPEN_ID",e.USER_LEVEL="USER_LEVEL",e.COIN="COIN",e.DIAMOND="DIAMOND",e.SIGN_NUM="SIGN_NUM",e.SIGN_DATE="SIGN_DATE",e.TRYING_DATE="TRYING_DATE",e.TRYING_GUN="TRYING_GUN",e.EGG_SKIN="EGG_SKIN",e.USE_EGG_SKIN="USE_EGG_SKIN",e.REPLAY_NUM="REPLAY_NUM",e.SIGN_VIDEO_DATE="SIGN_VIDEO_DATE",e.COIN_ADD="COIN_ADD",e.AIR_DROP_NUM="AIR_DROP_NUM",e.BENEFITS_TIME="BENEFITS_TIME",e.CURRENT_SKIN="CURRENT_SKIN",e.USER_SKIN="USER_SKIN",e.USER_PRIZE_BOX="USER_PRIZE_BOX",e.USER_PRIZE_KEY="USER_PRIZE_KEY",e.MIS_TOUCH_POS_COUNT="MIS_TOUCH_POS_COUNT",e.mCurrentMisTouchCount=0,e.mUserLevel=null,e.mCoin=0,e.mDiamond=0,e.mMistouchTag=1,e.initNewData(),e}return n(e,t),e.prototype.getCurrentMisTouchCount=function(){return this.mCurrentMisTouchCount},e.prototype.setCurrentMisTouchCount=function(t){this.mCurrentMisTouchCount=t},e.prototype.getCoinAdd=function(){return Lite.setting.getInt(this.COIN_ADD,1)},e.prototype.setCoinAdd=function(t){Lite.setting.setValue(this.COIN_ADD,t)},e.prototype.getIsNew=function(){return Lite.setting.getBool(this.CURRENT_NEW_USER,!0)},e.prototype.setIsNew=function(t){Lite.setting.setBool(this.CURRENT_NEW_USER,t)},e.prototype.getToken=function(){return Lite.setting.getString(this.TOKEN,"")},e.prototype.setToken=function(t){Lite.setting.setValue(this.TOKEN,t)},e.prototype.getOpenid=function(){return Lite.setting.getString(this.OPEN_ID,"")},e.prototype.setOpenid=function(t){Lite.setting.setValue(this.OPEN_ID,t)},e.prototype.getVibrateSetting=function(){return Lite.setting.getBool(this.VIBRATE_SWITCH,!0)},e.prototype.setVibrateSetting=function(t){Lite.setting.setBool(this.VIBRATE_SWITCH,t),Lite.event.sendEventImmediately(r.default.VIBRATESWITCH_CHANGED,t)},e.prototype.initNewData=function(){this.getToken()||(Lite.setting.setValue(this.CURRENT_LEVEL,0),Lite.setting.setValue(this.COIN,500),Lite.setting.setObject(this.USER_SKIN,{10001:{coinNum:1e3}}))},e.prototype.getAirdropNum=function(){return Lite.setting.getInt(this.AIR_DROP_NUM,10)},e.prototype.setAirdropNum=function(t){void 0===t&&(t=1);Lite.setting.setValue(this.AIR_DROP_NUM,t)},e.prototype.getBenefitsTime=function(){return Lite.setting.getInt(this.BENEFITS_TIME,0)},e.prototype.setBenefitsTime=function(t){Lite.setting.setValue(this.BENEFITS_TIME,t)},e.prototype.getCurrentLevel=function(){return this.mCurrentLevel?this.mCurrentLevel:Lite.setting.getInt(this.CURRENT_LEVEL,0)},e.prototype.setCurrentLevel=function(t){return this.mCurrentLevel=t,Lite.setting.getInt(this.CURRENT_LEVEL,t)},e.prototype.addCurrentLevel=function(t){void 0===t&&(t=1);var e=Lite.setting.appendInt(this.CURRENT_LEVEL,t);this.mCurrentLevel=e,Lite.event.sendEventImmediately(r.default.LEVEL_CHANGED,e)},e.prototype.getUserLevel=function(){return this.mUserLevel||(this.mUserLevel=Lite.setting.getObject(this.USER_LEVEL,"{}")),this.mUserLevel},e.prototype.getMaxLevel=function(){var t=0,e=Lite.data.getUserLevel();for(var o in e)parseInt(o)>t&&(t=parseInt(o));return t+1},e.prototype.initUserLevel=function(){var t=s.LevelCfg.getAll(),e=this.getUserLevel();if(c.default.isEmpty(e)){for(var o=0;o<t.length;o++){var n=t[o].prefab;e[o]={time:0,prefab:n}}Lite.setting.setObject(this.USER_LEVEL,this.mUserLevel)}},e.prototype.setUserLevel=function(t,e){void 0===e&&(e=0);var o=this.getUserLevel();o[t]&&(o[t].time=e),Lite.setting.setObject(this.USER_LEVEL,this.mUserLevel)},e.prototype.getNextLevel=function(){var t=this.getUserLevel(),e=this.getCurrentLevel();for(var o in t)0==t[o].time&&parseInt(o)<e&&(e=parseInt(o));return e},e.prototype.getCoin=function(){return 0==this.mCoin&&(this.mCoin=Lite.setting.getInt(this.COIN,0)),this.mCoin},e.prototype.subCoin=function(t){this.mCoin-=t,Lite.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.addCoin=function(t){this.mCoin+=t,Lite.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.setCoin=function(t){this.mCoin=t,Lite.event.sendEventImmediately(r.default.COIN_CHANGED,this.mCoin)},e.prototype.saveCoin=function(){Lite.setting.setValue(this.COIN,this.mCoin)},e.prototype.getDiamond=function(){return 0==this.mDiamond&&(this.mDiamond=Lite.setting.getInt(this.DIAMOND,0)),this.mDiamond},e.prototype.subDiamond=function(t){this.mDiamond-=t,Lite.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.addDiamond=function(t){this.mDiamond+=t,Lite.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.setDiamond=function(t){this.mDiamond=t,Lite.event.sendEventImmediately(r.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.saveDiamond=function(){Lite.setting.setValue(this.DIAMOND,this.mDiamond)},e.prototype.getSignNum=function(){return Lite.setting.getInt(this.SIGN_NUM,0)},e.prototype.addSignNum=function(){Lite.setting.appendInt(this.SIGN_NUM,1),Lite.setting.setValue(this.SIGN_DATE,c.default.formatTime(new Date))},e.prototype.setVideoSign=function(){Lite.setting.setValue(this.SIGN_VIDEO_DATE,c.default.formatTime(new Date))},e.prototype.getIsSign=function(){return c.default.formatTime(new Date)==Lite.setting.getString(this.SIGN_DATE,"")},e.prototype.getIsVideoSign=function(){return c.default.formatTime(new Date)==Lite.setting.getString(this.SIGN_VIDEO_DATE,"")},e.prototype.getCurrentSkinId=function(){return this.mCurrentSkinId||(this.mCurrentSkinId=Lite.setting.getInt(this.CURRENT_SKIN,10001)),this.mCurrentSkinId},e.prototype.setCurrentSkinId=function(t){return this.mCurrentSkinId=t,Lite.setting.setValue(this.CURRENT_SKIN,t),this.mCurrentSkinId},e.prototype.getUserSkin=function(){return this.mUserSkin||(this.mUserSkin=Lite.setting.getObject(this.USER_SKIN,"{}")),this.mUserSkin},e.prototype.addUserSkinCoin=function(t){var e=this.getUserSkin(),o=a.Skin.get(t);return e[t]||(e[t]={coinNum:o.coinNum}),this.mUserSkin=e,Lite.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.addUserSkinVideo=function(t){var e=this.getUserSkin();return e[t]?e[t].videoNum+=1:e[t]={videoNum:1},this.mUserSkin=e,Lite.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.getUserSkinById=function(t){return this.getUserSkin()[t]},e.prototype.addTrying=function(t){Lite.setting.setValue(this.TRYING_GUN,t),Lite.setting.setValue(this.TRYING_DATE,c.default.formatTime(new Date))},e.prototype.getIsTrying=function(){return c.default.formatTime(new Date)==Lite.setting.getString(this.TRYING_DATE,"")},e.prototype.getTrying=function(){return Lite.setting.getInt(this.TRYING_GUN,0)},e.prototype.getSelectSkin=function(){return this.mSelectSkin||(this.mSelectSkin=this.getCurrentSkinId()),this.mSelectSkin},e.prototype.setSelectSkin=function(t){this.mSelectSkin=t},e.prototype.getMistouchTag=function(){return this.mMistouchTag},e.prototype.setMistouchTag=function(t){this.mMistouchTag=t},e.prototype.getPrizeBox=function(){return this.mPrizeBox||(this.mPrizeBox={}),this.mPrizeBox},e.prototype.clearPrizeBox=function(){this.mPrizeBox={}},e.prototype.lockPrizeBox=function(t,e,o){void 0===o&&(o=0);var n=this.getPrizeBox();n[t]={prizeId:t,type:0==e?0:1,coinNum:o},this.mPrizeBox=n},e.prototype.getUserPrizeBoxById=function(t){return this.getPrizeBox()[t]},e.prototype.getPrizeKey=function(){return null==this.mPrizeKey&&(this.mPrizeKey=3),this.mPrizeKey},e.prototype.addPrizeKey=function(t){this.mPrizeKey+=t},e.prototype.clearPrizeKey=function(){this.mPrizeKey=null,Lite.setting.setValue(this.USER_PRIZE_KEY,"")},e.prototype.getEggSkin=function(){return this.mEggSkin||(this.mEggSkin=Lite.setting.getObject(this.EGG_SKIN,"{}")),this.mEggSkin},e.prototype.hasEggSkin=function(t){return!!this.getEggSkin()[t]},e.prototype.unlockEggSkin=function(t){var e=this.getEggSkin();e[t]=!0,Lite.setting.setObject(this.EGG_SKIN,e)},e.prototype.useEggSkin=function(t){Lite.setting.setValue(this.USE_EGG_SKIN,t)},e.prototype.getUseEggSkin=function(){return Lite.setting.getInt(this.USE_EGG_SKIN,0)},e.prototype.clearUseEggSkin=function(){Lite.setting.setValue(this.USE_EGG_SKIN,"0")},e.prototype.getReplayNum=function(){if(!this.mReplayNum){var t=Lite.setting.getObject(this.REPLAY_NUM,"{}"),e=(new Date,c.default.getCurrentDay());isNaN(t[e])&&(t[e]=3),this.mReplayNum=t[e]}return this.mReplayNum},e.prototype.addReplayNum=function(t){var e,o=this.getReplayNum();this.mReplayNum=o+t,Lite.setting.setObject(this.REPLAY_NUM,((e={})[c.default.getCurrentDay()]=this.mReplayNum,e))},e}(i.default);o.default=u,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../../sheets/vo/Skin":"Skin","../framework/modules/BaseModule":"BaseModule","../utils/Common":"Common","../utils/EventType":"EventType"}],GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"3372cAZdgVPy5M0W6kKU1nw","GameLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.default=n,cc._RF.pop()},{}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"29d36fvbKREO4YivNicuP/G","GameScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Rope"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabRope=null,e.nodeRope=null,e.fixed=!1,e.ropeLength=3,e._arrayRope=[],e._canvas=null,e._touchLocation=cc.Vec2.ZERO,e._touch=!0,e}return n(e,t),e.prototype.start=function(){for(var t=0;t<this.ropeLength;t++){var e=cc.instantiate(this.prefabRope);e.parent=this.nodeRope,this._arrayRope.push(e);var o=e.getComponent(r.default);if(0==t)o.init(0,0,12,0);else{var n=this._arrayRope[t-1].getComponent(r.default);o.init(n.getTargetPoint().x,n.getTargetPoint().y,12,0-t)}}this.node.on("touchstart",this.onTouchMove,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchMove,this),this._canvas=this.nodeRope.getComponent(cc.Graphics),this.update(0),this._touch=!1},e.prototype.update=function(t){if(this._touch){for(var e=this._arrayRope.length-1;e>=0;e--){var o=this._arrayRope[e].getComponent(r.default);if(e==this._arrayRope.length-1)o.calcSelf(this._touchLocation);else{var n=this._arrayRope[e+1].getComponent(r.default);o.calcSelf(n.getSelfPoint())}o.calcTarget()}if(this.fixed){this._arrayRope[0].getComponent(r.default).setSelfPoint(cc.Vec2.ZERO);for(e=1;e<this._arrayRope.length;e++){o=this._arrayRope[e].getComponent(r.default),n=this._arrayRope[e-1].getComponent(r.default);o.calcSelf(n.getSelfPoint()),o.calcTarget()}}}},e.prototype.onTouchMove=function(t){if(this._touch=!0,this.fixed){var e=this.nodeRope.position.sub(t.getLocation()).normalizeSelf(),o=cc.v2(e.x*this.ropeLength*12,e.y*this.ropeLength*12);console.log("last point ",t.getLocation(),o),this._touchLocation=this.node.convertToNodeSpaceAR(o)}else this._touchLocation=this.node.convertToNodeSpaceAR(t.getLocation())},e.prototype.onTouchEnd=function(t){this._touch=!1},i([a(cc.Prefab)],e.prototype,"prefabRope",void 0),i([a(cc.Node)],e.prototype,"nodeRope",void 0),i([a()],e.prototype,"fixed",void 0),i([a()],e.prototype,"ropeLength",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Rope":"Rope"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"4d881ReJm5KApHRf8YU4oiY","GameState");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseModule"),c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../enum/AdType"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePause=!0,e.gameStarted=!1,e.currentLevel=1,e.isBoss=!1,e.mBeginTime=0,e.pauseAllTime=0,e.pauseBegin=0,e.pauseEnd=0,e}return n(e,t),e.prototype.start=function(){var t=this;Lite.myGame=this,Lite.event.addListener(s.default.GAME_STATE_START,this,this.startGame),Lite.event.addListener(s.default.GAME_STATE_OVER,this,this.gameOver),Lite.event.addListener(s.default.GAME_STATE_RESPAWN,this,this.respawn),Lite.event.addListener(s.default.GAME_STATE_RESUME,this,this.resumeGame),Lite.event.addListener(s.default.GAME_STATE_PAUSE,this,this.pauseGame),Lite.event.addListener(s.default.GAME_STATE_NEXT,this,this.nextGame),Lite.event.addListener(s.default.RELOAD_LEVEL,this,this.onLevelReload),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this,function(t){console.log("game state  ON_PLATFORM_HIDE ",t),Lite.audio.stopMusic(),Lite.audio.stopLoaderMagnet()}),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this,function(e){console.log("game state  ON_PLATFORM_SHOW ",e),moosnow.platform.videoPlaying||t.playBgMusic()})},e.prototype.playBgMusic=function(){this.isBoss?Lite.audio.playBossMusic():Lite.audio.playGameMusic()},e.prototype.startGame=function(t){var e=this;this.mBeginTime=Date.now(),this.isBoss=!1,Lite.audio.stopMusic(),Lite.ui.hideUIForm(c.default.HomeForm,null,function(){e.playBgMusic(),e.resumeGame(),moosnow.platform.startRecord(),e.gameStarted=!0,console.log("\u6e38\u620f\u5173\u5361 ",t),Lite.ui.getUIFrom(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{lvIndex:t,beginTime:e.mBeginTime})}),moosnow.http.startGame(t)},e.prototype.onGameCancel=function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.onLevelReload=function(){this.resumeGame()},e.prototype.pauseGame=function(){this.gamePause=!0,Lite.entity.pause(),this.pauseBegin=Date.now()},e.prototype.resumeGame=function(){this.gamePause=!1,this.pauseAllTime+=Date.now()-this.pauseBegin,Lite.entity.resume()},e.prototype.respawn=function(){var t=this;Lite.audio.playRespawnEffect(function(){t.playBgMusic()}),this.resumeGame()},e.prototype.gameOver=function(t){if(this.gameStarted){this.pauseGame(),this.gameStarted=!1,Lite.audio.stopMusic();parseInt(Lite.config.respawnNum);var e=Lite.data.getCurrentLevel(),o=Date.now()-this.mBeginTime-this.pauseAllTime,n=moosnow.getAppPlatform();n==moosnow.APP_PLATFORM.BYTEDANCE?(Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.pushUIForm(c.default.ShareForm,{isWin:t.isWin,fail:t.fail,level:t.level,useTime:o},function(){t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&Lite.data.addCurrentLevel()),moosnow.http.endGame(t.level,t.isWin)})):n==moosnow.APP_PLATFORM.QQ?(Lite.ui.hideUIForm(c.default.GameForm,null),moosnow.http.getMisTouchNum(function(n){0==n?Lite.ui.pushUIForm(c.default.TotalForm,{isWin:t.isWin,fail:t.fail,level:t.level,useTime:o},function(){t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&Lite.data.addCurrentLevel()),moosnow.http.endGame(t.level,t.isWin)}):Lite.ui.pushUIForm(c.default.MistouchForm,{mistouchType:4,isWin:t.isWin,fail:t.fail,level:t.level,useTime:o},function(){t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&Lite.data.addCurrentLevel()),moosnow.http.endGame(t.level,t.isWin)})})):n==moosnow.APP_PLATFORM.OPPO||n==moosnow.APP_PLATFORM.OPPO_ZS||n==moosnow.APP_PLATFORM.VIVO?(Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.pushUIForm(c.default.TotalForm,{isWin:t.isWin,fail:t.fail,level:t.level,useTime:o},function(){t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&Lite.data.addCurrentLevel()),moosnow.http.endGame(t.level,t.isWin)})):(moosnow.platform.hideBanner(),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:(t.isWin,a.AdType.END|a.AdType.BACK|a.AdType.WAIT),zIndex:4,callback:function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.pushUIForm(c.default.EndForm,{isWin:t.isWin,fail:t.fail,level:t.level,useTime:o},function(){t.isWin&&(Lite.data.setUserLevel(t.level,o),t.level==e&&Lite.data.addCurrentLevel()),moosnow.http.endGame(t.level,t.isWin)})}}))}},e.prototype.nextGame=function(t){if(!this.gameStarted){this.gameStarted=!0,this.resumeGame(),this.playBgMusic();var e=Lite.data.getCurrentLevel();this.mBeginTime=Date.now(),Lite.ui.getUIFrom(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{lvIndex:e,beginTime:this.mBeginTime})}},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../utils/EventType":"EventType","./BaseModule":"BaseModule"}],HttpModule:[function(t,e,o){"use strict";cc._RF.push(e,"b21c4hWh45OZZfHGwNCtG87","HttpModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BaseModule"),r=t("../../utils/Common"),c=function(t){function e(){var e=t.call(this)||this;return e.appid="",e.secret="",e.versionNumber="",e.version="1_0_3",e.configUrl="https://cdn.liteplay.com.cn/config/tp_gunking_config_wx.json",e.url="https://api.liteplay.com.cn/admin/",e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.request=function(t,e,o,n,i,r){var c=cc.loader.getXMLHttpRequest();c.onreadystatechange=function(){if(4==c.readyState){var t=c.responseText;if(c.status>=200&&c.status<400){var e={};try{e=JSON.parse(t)}catch(e){console.error("json parse error ",t),i&&i(e)}n&&n(e)}else console.error("error ",t),i&&i(t)}else console.log("caller state change  ",c)},c.timeout=3e3,c.ontimeout=function(t){console.error("error ",t),i&&i(t)},c.open(o,t,!0),"POST"==o?(c.open("POST",t),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(this._object2Query(e))):c.send()},e.prototype._object2Query=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},e.prototype.isDisableArea=function(t){},e.prototype.wxLogin=function(){return new Promise(function(t){if(Lite.data.getToken())t();else{var e=r.default.generateUUID();Lite.data.setToken(e),Lite.data.setOpenid(e),t()}})},e.prototype.startGame=function(t){var e=t+"."+t;moosnow.http.startGame(e)},e.prototype.endGame=function(t,e){var o=e+"."+e;moosnow.http.endGame(o,t)},e.prototype.loadAdData=function(t,e,o){this.request(""+t,e,"POST",function(t){o&&o(t)})},e.prototype.navigate=function(t,e,o){this.request(""+t,e,"POST",function(t){o&&o(t)})},e.prototype.getShareInfo=function(t){this.request(this.url+"wx_share/getShare",{appid:this.appid},"POST",function(e){t(e.data)})},e}(i.default);o.HttpModule=c,cc._RF.pop()},{"../../utils/Common":"Common","./BaseModule":"BaseModule"}],Level1Ex:[function(t,e,o){"use strict";cc._RF.push(e,"1682erfrnNCZbeq2vMWGEnw","Level1Ex");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gudie1=null,e.gudie2=null,e.truckLoader=null,e.isFinal=!1,e}return n(e,t),e.prototype.onEnable=function(){},e.prototype.onLevelFinal=function(t){this.player=Lite.entity.getAllEntity("playerCar")[0],this.isFinal=t},e.prototype.update=function(){if(this.isFinal){var t=this.mTruckCtl.load.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.player.node.convertToWorldSpaceAR(cc.Vec2.ZERO);e.x>=t.x-this.mTruckCtl.load.width/2&&e.x<=t.x+this.mTruckCtl.load.width/2?this.gudie2.active=!0:this.gudie2.active=!1}},i([s(cc.Node)],e.prototype,"gudie1",void 0),i([s(cc.Node)],e.prototype,"gudie2",void 0),i([s(cc.Node)],e.prototype,"truckLoader",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],LevelAdType:[function(t,e,o){"use strict";cc._RF.push(e,"99e1bMpCEdM96u+iW12q3LU","LevelAdType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.SHOW=1]="SHOW",t[t.HIDE=2]="HIDE"}(o.LevelAdType||(o.LevelAdType={})),cc._RF.pop()},{}],LevelCfg:[function(t,e,o){"use strict";cc._RF.push(e,"dd1cdykPRVLR6MRisEmvYlK","LevelCfg");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("LevelCfg",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("LevelCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.LevelCfgBase);o.LevelCfg=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],LevelMap:[function(t,e,o){"use strict";cc._RF.push(e,"87330zsAkRNyIKu+ySbafE2","LevelMap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/entity/EntityLogic"),s=t("../extends/BoxControl"),a=t("../utils/EventType"),u=t("./TruckLoader"),p=t("../extends/TargetBoxControl"),l=t("../config/PackingMapping"),h=t("../config/UIForms"),d=t("../enum/AdType"),f=t("../enum/LevelAdType"),m=t("../../sheets/vo/LevelCfg"),y=cc._decorator,v=y.ccclass,_=y.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.packageBox=null,e.truckLoader=null,e.targetBox=null,e.playerCar=null,e.guideTip=null,e.followPlayer=!1,e.triggerFinal=!1,e.mGameCountdownCtl=null,e.mLevelBegin=!1,e.mLevelAdType=f.LevelAdType.NONE,e.mAdNum=0,e.mGameExportType=1,e.mEnableCountdown=!0,e.mCurrntRespawnNum=0,e.mRespawnMaxNum=2,e.mCurrentSecond=0,e.mTotalSecond=0,e}return n(e,t),e.prototype.start=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mLevelAdType=f.LevelAdType.NONE,this.initLevel(),this.addListener(),this.mGameCountdownCtl&&this.mGameCountdownCtl.reset(),this.mCurrntRespawnNum=0,this.beginCountdown(),this.changeBrick()},e.prototype.willHide=function(){this.removeListener(),console.log("\u5220\u9664\u5173\u5361\u4e8b\u4ef6")},e.prototype.onShow=function(){var t=moosnow.getAppPlatform();moosnow.APP_PLATFORM.OPPO!=t&&moosnow.APP_PLATFORM.OPPO_ZS!=t&&moosnow.APP_PLATFORM.VIVO!=t||moosnow.platform.showBanner(!1),this.schedule(this.clipRecord,15)},e.prototype.changeBrick=function(){var t=this;Lite.resource.loadAsset("texture/game/brick"+(Math.random()>.5?1:2),cc.SpriteFrame,function(e,o){var n=t.node.getChildByName("road");n||(n=t.node.getChildByName("wall")),n&&n.children.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=o})})},e.prototype.clipRecord=function(){moosnow.platform.clipRecord()},e.prototype.hideBanner=function(){moosnow.platform.hideBanner()},e.prototype.addListener=function(){Lite.event.addListener(a.default.GAME_STATE_OVER,this,this.onGameOver),Lite.event.addListener(a.default.GAME_STATE_REPLAY,this,this.onReplay),Lite.event.addListener(a.default.GAME_STATE_NEXT,this,this.onNext),Lite.event.addListener(a.default.GAME_STATE_CANCEL,this,this.onGameCancel),Lite.event.addListener(a.default.PLAYER_DIED,this,this.onDied),Lite.event.addListener(a.default.GAME_STATE_RESPAWN,this,this.onRespawn),Lite.event.addListener(a.default.GAME_STATE_RESPAWN_COMPLETED,this,this.onRespawnCompleted),Lite.event.addListener(a.default.GAME_STATE_RESUME,this,this.onResumeGame),Lite.event.addListener(a.default.GAME_STATE_PAUSE,this,this.onPauseGame),Lite.event.addListener(a.default.GAME_STATE_FAST_END,this,this.onFastEnd),Lite.event.addListener(a.default.GOTO_HOME,this,this.onToHome)},e.prototype.removeListener=function(){Lite.event.removeListener(a.default.GAME_STATE_OVER,this),Lite.event.removeListener(a.default.GAME_STATE_REPLAY,this),Lite.event.removeListener(a.default.GAME_STATE_CANCEL,this),Lite.event.removeListener(a.default.GAME_STATE_NEXT,this),Lite.event.removeListener(a.default.PLAYER_DIED,this),Lite.event.removeListener(a.default.GAME_STATE_RESPAWN,this),Lite.event.removeListener(a.default.GAME_STATE_RESPAWN_COMPLETED,this),Lite.event.removeListener(a.default.GAME_STATE_RESUME,this),Lite.event.removeListener(a.default.GAME_STATE_PAUSE,this),Lite.event.removeListener(a.default.GAME_STATE_FAST_END,this),Lite.event.removeListener(a.default.GOTO_HOME,this)},e.prototype.onResumeGame=function(){this.stopCountdown(),this.schedule(this.onCountdown,1)},e.prototype.onPauseGame=function(){this.stopCountdown()},e.prototype.beginCountdown=function(){if(this.enableCountdown()){var t=this.LogicData.level+1,e=m.LevelCfg.get(t);this.mTotalSecond=this.mAdNum>e.countdown.length-1?e.countdown[e.countdown.length-1]:e.countdown[this.mAdNum],this.mCurrentSecond=0,this.stopCountdown(),this.schedule(this.onCountdown,1)}},e.prototype.onCountdown=function(){this.mCurrentSecond+=1,this.mGameCountdownCtl&&this.mGameCountdownCtl.updateTime(this.mTotalSecond-this.mCurrentSecond),this.mCurrentSecond==this.mTotalSecond&&(this.stopCountdown(),this.mGameCountdownCtl&&this.mGameCountdownCtl.timeout(),Lite.event.sendEventImmediately(a.default.GAME_TIME_OUT,{timeout:!0}))},e.prototype.stopCountdown=function(){this.unschedule(this.onCountdown)},e.prototype.onHide=function(){Lite.entity.hideAllEntity("gameCountdown"),this.stopCountdown(),this.unschedule(this.clipRecord)},e.prototype.onDied=function(){this.stopCountdown(),this.destoryPlayer(),this.playerBoomAd()},e.prototype.onFastEnd=function(){this.mLevelEnd=!0,this.stopCountdown(),Lite.event.sendEventImmediately(a.default.GAME_STATE_END,{isWin:!0,level:this.LogicData.level})},e.prototype.onNext=function(){},e.prototype.onToHome=function(){this.stopCountdown(),Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(this,null,!0),Lite.ui.hideUIForm(h.default.GameForm,null)},e.prototype.onGameCancel=function(){Lite.entity.hideAllEntity("packingBox"),this.destoryPlayer(),Lite.entity.hideEntity(this,null,!0),Lite.ui.hideUIForm(h.default.GameForm,null),Lite.ui.pushUIForm(h.default.HomeForm)},e.prototype.onRespawn=function(t){t&&t.timeout||(Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(this,null,!0),Lite.event.sendEventImmediately(a.default.RELOAD_LEVEL,null))},e.prototype.onRespawnCompleted=function(){this.mCurrentSecond=0,this.beginCountdown()},e.prototype.onReplay=function(){var t=this;this.scheduleOnce(function(){Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(t,null,!0),Lite.event.sendEventImmediately(a.default.RELOAD_LEVEL,null)},3),this.destoryPlayer()},e.prototype.playerBoomAd=function(t){void 0===t&&(t=!0),this.scheduleOnce(function(){var e=Lite.ui.getUIFrom(h.default.GameForm).node.zIndex;Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:d.AdType.EXPORT,zIndex:e+1,callback:function(){Lite.ui.pushUIForm(h.default.RespawnForm,{respawn:t})}})},1.5)},e.prototype.playerBoom=function(){moosnow.platform.vibrateLong(),Lite.audio.playBlast();var t=this.mPlayerCtl.carFrame.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.node.convertToNodeSpaceAR(t),o=i({},e,{zIndex:this.mPlayerCtl.node.zIndex});Lite.entity.showEntity("playerBoom",this.node,o),Lite.entity.showEntity("playerCarPart",this.node,o)},e.prototype.destoryPlayer=function(){this.playerBoom(),Lite.entity.hideAllEntity("playerCar",!0)},e.prototype.onGameOver=function(){this.destoryPlayer(),Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(this,null,!0)},e.prototype.initLevel=function(){var t=this;this.mLevelEnd=null,this.mLevelBegin=!1,this.truckLoader.zIndex=1,this.mTruckCtl=this.truckLoader.getComponent(u.default);for(var e=this.targetBox.children,o=0;o<e.length;o++){var n=e[o];if(-1!=n.name.indexOf("box")){var r=n.convertToWorldSpaceAR(cc.Vec2.ZERO),c=this.mTruckCtl.load.convertToNodeSpaceAR(r);n.parent=this.mTruckCtl.load,n.position=c,n.opacity=170,o--}}this.packageBox.zIndex=2,this.packageBox.children.forEach(function(e){var o=e.getComponent(s.default);if(o)Lite.entity.hideEntity(o,null);else{e.active=!1;var n=i({},e.position,{rotation:e.angle});for(var r in l.default)if(-1!=e.name.indexOf(r)){Lite.entity.showEntity(l.default[r],t.packageBox,n);break}}}),this.playerCar.active=!1;var a=this.playerCar.convertToWorldSpaceAR(cc.Vec2.ZERO),p=this.node.convertToNodeSpaceAR(a);this.mPlayerCtl=Lite.entity.showEntity("playerCar",this.node,{x:p.x,y:p.y,zIndex:100}),this.enableCountdown()&&(this.mGameCountdownCtl||(this.mGameCountdownCtl=Lite.entity.showEntity("gameCountdown",this.node,{x:this.guideTip.x,y:this.guideTip.y}))),this.mLevelBegin=!0,this.mLevelEnd=!1},e.prototype.enableCountdown=function(){return moosnow.getAppPlatform()==moosnow.APP_PLATFORM.OPPO||moosnow.getAppPlatform()==moosnow.APP_PLATFORM.OPPO_ZS},e.prototype.checkWin=function(){var t=this,e=0,o=function(o){var i=l.default[o],r=Lite.entity.getAllEntity(i);n.mTruckCtl.load.children.forEach(function(o){var n=o.getComponent(p.default),i=o.position.x,c=o.position.y;r.forEach(function(o){if(o.boxType==n.boxType){var r=o.node.convertToWorldSpaceAR(cc.Vec2.ZERO),s=t.mTruckCtl.load.convertToNodeSpaceAR(r);s.x>=i-4&&s.x<=i+4&&s.y>=c-4&&s.y<=c+4&&(o.isUpward?0==o.node.rotation&&(e+=1):e+=1)}})})},n=this;for(var i in l.default)o(i);var r=e>=this.mTruckCtl.load.childrenCount;return this.resetCountdown(e,this.mTruckCtl.load.childrenCount),this.showGameExport(e,r),this.triggerFinal&&Lite.event.sendEventImmediately(a.default.LEVEL_FINAL,r),r?(this.guideTip&&(this.guideTip.active=!0),this.mGameCountdownCtl&&(this.mGameCountdownCtl.node.active=!1)):(this.guideTip&&(this.guideTip.active=!1),this.mGameCountdownCtl&&(this.mGameCountdownCtl.node.active=!0)),r},e.prototype.resetCountdown=function(t,e){t>this.mAdNum&&t<e&&(this.mAdNum=t,this.mGameCountdownCtl&&(this.mGameCountdownCtl.boxIndex=this.mAdNum),this.beginCountdown())},e.prototype.showGameExport=function(t,e){},e.prototype.moveCamera=function(){this.mMainCamera||(this.mMainCamera=cc.Canvas.instance.node.getChildByName("Main Camera")),this.followPlayer?this.mMainCamera.setPosition(this.mPlayerCtl.carFrame.position.x,this.mMainCamera.position.y):this.mMainCamera.setPosition(0,0)},e.prototype.update=function(){this.moveCamera()},e.prototype.onFwUpdate=function(t){if(1!=this.mLevelEnd&&(this.mLevelBegin&&this.checkWin()&&this.mLevelAdType!=f.LevelAdType.SHOW)){for(var e=this.mTruckCtl.load.getBoundingBoxToWorld(),o=cc.director.getPhysicsManager().testAABB(e),n=!0,i=0;i<o.length;i++){var r=o[i];if(r.node.parent&&r.node.parent.parent&&"playerCar"==r.node.parent.parent.name){n=!1;break}}n&&(this.mLevelEnd=!0,this.stopCountdown(),Lite.event.sendEventImmediately(a.default.GAME_STATE_END,{isWin:!0,level:this.LogicData.level}))}},r([_(cc.Node)],e.prototype,"packageBox",void 0),r([_(cc.Node)],e.prototype,"truckLoader",void 0),r([_(cc.Node)],e.prototype,"targetBox",void 0),r([_(cc.Node)],e.prototype,"playerCar",void 0),r([_(cc.Node)],e.prototype,"guideTip",void 0),r([_],e.prototype,"followPlayer",void 0),r([_],e.prototype,"triggerFinal",void 0),e=r([v],e)}(c.default);o.default=g,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../config/PackingMapping":"PackingMapping","../config/UIForms":"UIForms","../enum/AdType":"AdType","../enum/LevelAdType":"LevelAdType","../extends/BoxControl":"BoxControl","../extends/TargetBoxControl":"TargetBoxControl","../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType","./TruckLoader":"TruckLoader"}],LoaderManager:[function(t,e,o){"use strict";cc._RF.push(e,"28dbb2QCG9AGZYT7pySYoSZ","LoaderManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.preLoad3D=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.Sprite3D.load(t,Laya.Handler.create(e,function(){o()},null,!1))})},t.preLoad=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.loader.load(t,Laya.Handler.create(e,function(){o()},null,!1))})},t.preLoadTexture2D=function(t){var e=this;return new Promise(function(o){e.load(t,o)})},t.load=function(t,e){var o=this,n=t.pop();n?Laya.Texture2D.load(n,Laya.Handler.create(this,function(n){o.load(t,e)},null,!1)):e()},t.get3D=function(t,e,o){void 0===o&&(o=!0);var n=Laya.loader.getRes(t);return o?n.getChildByName(e).clone():n.getChildByName(e)},t.get3DTo=function(t,e){var o=Laya.loader.getRes(t).getChildByName(e);new Laya.Sprite3D;return o.clone()},t.getCamera=function(t,e,o){void 0===o&&(o=!0);var n=Laya.loader.getRes(t).getChildByName(e);return o?n.clone():n},t.getLight=function(t,e){return Laya.loader.getRes(t).getChildByName(e)},t.loadSounds=function(t){var e=this;return new Promise(function(o){e.preDownFlie(t,o)})},t.preDownFlie=function(t,e){var o=this,n=t.pop();n?(n=this.soundBaseUrl+n,Laya.BMiniAdapter?Laya.BMiniAdapter.downLoadFile(n,"sound",Laya.Handler.create(this,function(){o.preDownFlie(t,e)})):Laya.MiniAdpter?(window.tt,Laya.MiniAdpter.downLoadFile(n,"sound",Laya.Handler.create(this,function(){o.preDownFlie(t,e)}))):Laya.loader.load(n,Laya.Handler.create(this,function(){o.preDownFlie(t,e)}),null,Laya.Loader.SOUND)):e()},t.registerFont=function(t,e){var o=this;return new Promise(function(n){var i=new Laya.BitmapFont;i.loadFont(t,Laya.Handler.create(o,function(){Laya.Text.registerBitmapFont(e,i),n()}))})},t.preLoadJson=function(t){var e=this;return new Promise(function(o){0==t.length?o():Laya.loader.load(t,Laya.Handler.create(e,function(){o()}),null,Laya.Loader.JSON)})},t.soundBaseUrl="",t}();o.LoaderManager=n,cc._RF.pop()},{}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"5d34dTxE1JBhYgn1JhZxyWL","Loading");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./framework/modules/AppConfig"),c=t("./utils/SheetManager"),s=t("../sheets/vo/ConfigData"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.progressBar=null,e.isLogin=!1,e.preloadSeceneFinish=!1,e.preloadSceneProgress=0,e.preloadUI=!1,e.preloadUIProgress=0,e.preloadEntity=!1,e.preloadEntityProgress=0,e.preloadCfg=!1,e.preloadCfgProgress=0,e.mSubNum=0,e}return n(e,t),e.prototype.start=function(){var t=this;moosnow.platform.login(),moosnow.getAppPlatform()==moosnow.APP_PLATFORM.QQ&&window.qq||moosnow.getAppPlatform()==moosnow.APP_PLATFORM.VIVO&&window.qg?(cc.loader.downloader.loadSubpackage("gameres1",function(e){if(e)return console.error(e);console.log("load subpackage successfully."),t.mSubNum++,t.loadMainpackage()}),console.log("load subpackage.")):this.loadMainpackage()},e.prototype.loadMainpackage=function(){var t=this,e=r.default.resUrl+"/data/cfg.json";c.SheetManager.loadDB(""+e,function(){s.ConfigData.init(),Lite.data.initUserLevel(),t.preloadCfg=!0,t.preloadCfgProgress=100,t.preloadEntityProgress=100,t.preloadUIProgress=100,t.showProgress(),console.log("preload config completed"),t.loadScene()})},e.prototype.onLoad=function(){this.isLogin=!1,this.preloadSeceneFinish=!1},e.prototype.showProgress=function(){var t=.1+.1*this.preloadCfgProgress+.3*this.preloadEntityProgress+.3*this.preloadUIProgress+.2*this.preloadSceneProgress;isNaN(t)?this.label.string="0%":this.label.string=t+"%",this.progressBar.progress=t/100,this.node.on(cc.Node.EventType.TOUCH_END,function(){},this)},e.prototype.loadScene=function(){cc.director.loadScene("Main")},i([p(cc.Label)],e.prototype,"label",void 0),i([p(cc.ProgressBar)],e.prototype,"progressBar",void 0),e=i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../sheets/vo/ConfigData":"ConfigData","./framework/modules/AppConfig":"AppConfig","./utils/SheetManager":"SheetManager"}],Logger:[function(t,e,o){"use strict";cc._RF.push(e,"10f57ztvEpOELo4eqeZii3N","Logger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t}();o.default=n,cc._RF.pop()},{}],MainView:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","MainView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./config/UIForms"),c=t("./enum/AdType"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;moosnow.http.finishLoading(),Lite.ui.pushUIForm(r.default.HomeForm,null,function(){Lite.ui.pushUIForm(r.default.AdForm,{showAd:c.AdType.BANNER|c.AdType.FLOAT}),t.showPrize()}),moosnow.platform.reportMonitor()},e.prototype.showPrize=function(){moosnow.APP_PLATFORM.BYTEDANCE==moosnow.getAppPlatform()&&Lite.data.getCurrentLevel()>1&&Lite.ui.pushUIForm(r.default.PrizeForm,null)},i([u(cc.Sprite)],e.prototype,"background",void 0),e=i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./config/UIForms":"UIForms","./enum/AdType":"AdType"}],MapItem:[function(t,e,o){"use strict";cc._RF.push(e,"6f6c51gs31FDrgPSmQz8+Hz","MapItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../config/UIForms"),s=t("../utils/EventType"),a=t("../../sheets/vo/LevelCfg"),u=t("../utils/Common"),p=t("../../sheets/vo/Skin"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.star1=null,e.star2=null,e.star3=null,e.star=null,e.starActive=null,e.logo=null,e.player=null,e.currentLv=null,e.locked=null,e.memo=null,e.mOpening=!1,e}return n(e,t),e.prototype.addListener=function(){this.removeListener(),this.node.on(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onOpendLevel,this)},e.prototype.onOpendLevel=function(){var t=this;if(!(this.mOpening||this.LogicData.level>Lite.data.getCurrentLevel())){this.mOpening=!0;var e=moosnow.getAppPlatform();if(Lite.myGame.currentLevel=this.LogicData.level,moosnow.APP_PLATFORM.BYTEDANCE!=e){if(moosnow.APP_PLATFORM.OPPO==e||moosnow.APP_PLATFORM.OPPO_ZS==e||moosnow.APP_PLATFORM.VIVO==e)return Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),void Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.LogicData.level);var o=Lite.data.getMistouchTag();moosnow.http.getAllConfig(function(e){moosnow.http.getMisTouchNum(function(n){if(Lite.data.setMistouchTag(o+1),t.mOpening=!1,0==n)Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_START,t.LogicData.level);else{var i=e&&e.mistouchInterval?parseInt(e.mistouchInterval):2;o%i==0?Lite.ui.pushUIForm(c.default.MistouchForm):(t.mOpening=!1,t.openTryForm())}})})}else this.openTryForm()}},e.prototype.openTryForm=function(){var t=[];p.Skin.getAll().forEach(function(e){Lite.data.getUserSkinById(e.ID)||t.push(e)}),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),0!=t.length?Lite.ui.pushUIForm(c.default.TryForm,u.default.deepCopy(this.LogicData)):Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.LogicData.level)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mOpening=!1,this.node.setPosition(e.x,e.y),this.memo.getComponent(cc.Label).string=e.memo;var o=Lite.data.getCurrentLevel();this.player.active=!1,this.currentLv.active=!1,this.locked.active=!1,e.level>o?(this.logo.active=!1,this.locked.active=!0):e.level<o?(this.locked.active=!1,this.logo.active=!0,this.showStar(e.prefab)):(this.player.active=!0,this.currentLv.active=!0),this.addListener()},e.prototype.showStar=function(t){var e=a.LevelCfg.get(t),o=Lite.data.getUserLevel(),n=0,i=o[t]?o[t].time:0;if(0!=i)for(r=n=i<1e3*e.star3?3:i<1e3*e.star2?2:1;r>0;r--)this["star"+r].getComponent(cc.Sprite).spriteFrame=this.starActive;else for(var r=n;r>0;r--)this["star"+r].getComponent(cc.Sprite).spriteFrame=this.star},e.prototype.willHide=function(){this.removeListener()},i([d(cc.Node)],e.prototype,"star1",void 0),i([d(cc.Node)],e.prototype,"star2",void 0),i([d(cc.Node)],e.prototype,"star3",void 0),i([d(cc.SpriteFrame)],e.prototype,"star",void 0),i([d(cc.SpriteFrame)],e.prototype,"starActive",void 0),i([d(cc.Node)],e.prototype,"logo",void 0),i([d(cc.Node)],e.prototype,"player",void 0),i([d(cc.Node)],e.prototype,"currentLv",void 0),i([d(cc.Node)],e.prototype,"locked",void 0),i([d(cc.Node)],e.prototype,"memo",void 0),e=i([h],e)}(r.default);o.default=f,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../../sheets/vo/Skin":"Skin","../config/UIForms":"UIForms","../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common","../utils/EventType":"EventType"}],MathUtils:[function(t,e,o){"use strict";cc._RF.push(e,"dcce1MonZFGOba8lwIy196V","MathUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadianByPoint=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getAngleByPoint=function(t,e){return 180*this.getRadianByPoint(t,e)/Math.PI},t.detectCollision=function(t,e){var o,n;return o=e.x<t.x?t.x:e.x>t.x+t.w?t.x+t.w:e.x,n=e.y<t.y?t.y:e.y>t.y+t.h?t.y+t.h:e.y,function(t,e,o,n){return Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2))}(e.x,e.y,o,n)<e.r},t.vecRotate=function(e,o){var n=t.getRadian(o),i=Math.sin(n),r=Math.cos(n),c=r*e.x-i*e.y,s=i*e.x+r*e.y;return new cc.Vec2(c,s)},t.getRadianTwoPoint=function(t,e){var o=e.x-t.x,n=e.y-t.y;return Math.atan2(n,o)},t.getAngleTwoPoint=function(t,e){var o,n=e.y-t.y,i=e.x-t.x;return 0==n?i<0?180:0:0==i?(n>0?o=90:n<0&&(o=270),o):(o=this.getAngle(Math.atan(Math.abs(n)/Math.abs(i))),i>0?n<0&&(o=360-o):o=n>0?180-o:180+o,o)},t.getAngleTwoVec=function(t,e){var o=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return this.getAngle(o)},t.getDistance=function(t,e){var o=e.x-t.x,n=e.y-t.y,i=Math.pow(o,2)+Math.pow(n,2);return Math.sqrt(i)},t.exactCount=function(t,e){void 0===e&&(e=0);var o=Math.pow(10,e);return(t*o|0)/o},t.getBezierCutAngle=function(t,e,o,n){var i=2*(t.x*(n-1)+e.x*(1-2*n)+o.x*n),r=2*(t.y*(n-1)+e.y*(1-2*n)+o.y*n);return this.getAngle(Math.atan2(r,i))},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.probabilityCanHappen=function(e){return t.randomNumBoth(0,100)<=e},t.rectCollision=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y},t.probabilitys=function(t){for(var e=0,o=t.slice(),n=0,i=0;i<o.length;i++)n+=o[i];if(100!=n)return 0;var r=new Array;for(i=0;i<o.length;i++){for(var c=o[i],s=0;s<c;s++)r.push(e);e++}return r[this.randomNumBoth(0,99)]},t}();o.default=n,cc._RF.pop()},{}],MistouchPos:[function(t,e,o){"use strict";cc._RF.push(e,"9222dTvKcNPNL8wgXkrapSa","MistouchPos");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.posButton=null,e.moveDis=-100,e.showBanner=!0,e.pos1=cc.Vec2.ZERO,e.pos2=cc.Vec2.ZERO,e.mMistouchPosNum=0,e.mMistouchPosSecond=4,e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.pos1=this.posButton.position.clone(),this.pos2=this.pos1.add(new cc.Vec2(0,this.moveDis));var e=Lite.data.getCurrentMisTouchCount();Lite.data.setCurrentMisTouchCount(e+1),this.posButton.active=!1,moosnow.http.getAllConfig(function(e){isNaN(e.mistouchPosSecond)||(t.mMistouchPosSecond=parseFloat(e.mistouchPosSecond)),moosnow.http.getMistouchPosNum(function(e){t.mMistouchPosNum=e,t.setPos()})})},e.prototype.setPos=function(){var t=this;if(0==this.mMistouchPosNum)this.posButton.active=!0,this.posButton.x=this.pos1.x,this.posButton.y=this.pos1.y,this.showBanner&&moosnow.platform.showBanner();else if(Lite.data.getCurrentMisTouchCount()%this.mMistouchPosNum==0){var e=cc.instantiate(this.posButton);e.active=!0,this.posButton.parent.addChild(e),e.x=this.pos2.x,e.y=this.pos2.y,this.scheduleOnce(function(){t.showBanner&&moosnow.platform.showBanner()},this.mMistouchPosSecond),this.scheduleOnce(function(){e.active=!1,e.removeFromParent(),e.destroy(),t.posButton.active=!0,t.posButton.x=t.pos1.x,t.posButton.y=t.pos1.y},this.mMistouchPosSecond)}},i([s(cc.Node)],e.prototype,"posButton",void 0),i([s],e.prototype,"moveDis",void 0),i([s],e.prototype,"showBanner",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ModelBulider:[function(t,e,o){"use strict";cc._RF.push(e,"998f7HBVhFAB6wbIsuB8Jz9","ModelBulider");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return n(e,t),Object.defineProperty(e.prototype,"modelConfig",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.regModel=function(){var t=this.modelConfig;for(var e in t)Lite.model[e]=new t[e]},e.prototype.onEnable=function(){this.moduleName="model",t.prototype.onEnable.call(this),this.regModel()},e.prototype.onDisable=function(){},e}(t("../framework/modules/BaseModule").default);o.default=i,cc._RF.pop()},{"../framework/modules/BaseModule":"BaseModule"}],ModelMapping:[function(t,e,o){"use strict";cc._RF.push(e,"55ffcKqJ31KQKAsirESywWS","ModelMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getList=function(){var e=[];for(var o in t)e.push((new t[o]).url);return e},t}();o.default=n,cc._RF.pop()},{}],NativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"1fc1d/IDpZMtraxY7y6ithY","NativeAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/Common"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseBox=null,e.logo=null,e.btnTopClose=null,e.btnClose=null,e.btnOpen=null,e.txtMemo=null,e}return n(e,t),e.prototype.onShow=function(){var t=this;this.node.zIndex=999,this.addListener(),console.log("\u663e\u793a\u539f\u751f\u5e7f\u544a"),moosnow.platform.hideBanner(),this.node.active=!1,moosnow.platform.showNativeAd(function(e){console.log("\u539f\u751f\u5e7f\u544a",e),e&&e.imgUrlList&&e.imgUrlList.length>0?(t.node.active=!0,6==e.creativeType?t.baseBox.node.height=t.baseBox.node.width/2:t.baseBox.node.height=.65625*t.baseBox.node.width,t.txtMemo.string=e.desc?e.desc:"",cc.loader.load(e.imgUrlList[0],function(o,n){if(!o){console.log("native img  url ",e.creativeType,n.url);var i=new cc.SpriteFrame(n);t.logo.spriteFrame=i}})):(t.LogicData&&t.LogicData.onNullAd&&t.LogicData.onNullAd(),moosnow.platform.showBanner(!1))}),moosnow.http.getAllConfig(function(e){e&&1==e.smallNativeAdClose&&Lite.data.getCurrentLevel()>1&&(t.btnTopClose.node.scale=.7),e&&1==e.zs_native_click_switch?(t.btnOpen.node.active=!0,t.btnClose.node.active=!1):(t.btnOpen.node.active=!1,t.btnClose.node.active=!0)})},e.prototype.willHide=function(){this.remoteListener()},e.prototype.addListener=function(){this.logo.node.on(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnOpen.node.on(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnTopClose.node.on(cc.Node.EventType.TOUCH_END,this.onTopClose,this),this.btnClose.node.on(cc.Node.EventType.TOUCH_END,this.onCloseAd,this)},e.prototype.remoteListener=function(){this.logo.node.off(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnOpen.node.off(cc.Node.EventType.TOUCH_END,this.onOpenAd,this),this.btnTopClose.node.off(cc.Node.EventType.TOUCH_END,this.onTopClose,this),this.btnClose.node.off(cc.Node.EventType.TOUCH_END,this.onCloseAd,this)},e.prototype.onTopClose=function(){var t=this;moosnow.http.getAllConfig(function(e){var o=e&&e.nativeAdCloseOpenV?parseFloat(e.nativeAdCloseOpenV):0;c.default.randomToRatio(0,100,o)?t.onOpenAd():t.onCloseAd()})},e.prototype.onCloseAd=function(){Lite.entity.hideEntity(this,null),this.LogicData&&this.LogicData.onClose&&this.LogicData.onClose()},e.prototype.onOpenAd=function(){var t=this;moosnow.platform.clickNative(function(){t.onCloseAd()})},i([u(cc.Sprite)],e.prototype,"baseBox",void 0),i([u(cc.Sprite)],e.prototype,"logo",void 0),i([u(cc.Sprite)],e.prototype,"btnTopClose",void 0),i([u(cc.Sprite)],e.prototype,"btnClose",void 0),i([u(cc.Sprite)],e.prototype,"btnOpen",void 0),i([u(cc.Label)],e.prototype,"txtMemo",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common"}],NodeModule:[function(t,e,o){"use strict";cc._RF.push(e,"0873f3Mb9VHeJvtLrcZd5Fr","NodeModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.onEnable=function(){},e.prototype.showNode=function(t){t.visible=!0},e.prototype.hideNode=function(t){t.visible=!1},e.prototype.removeNode=function(t){t.removeSelf()},e.prototype.pop=function(t){t.destroy(!0)},e.prototype.onDisable=function(){},e}(t("./BaseModule").default);o.default=i,cc._RF.pop()},{"./BaseModule":"BaseModule"}],OpenBoxItem:[function(t,e,o){"use strict";cc._RF.push(e,"51b07uY0fRO975voTf9acY3","OpenBoxItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=t("../utils/Common"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=null,e.close=null,e.video=null,e.coinNum=null,e.check=null,e._opening=!1,e}return n(e,t),Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.initItem(e),this.addListener()},e.prototype.willHide=function(){this.removeListener()},e.prototype.initItem=function(t){this.coinNum.node.active=t.coinNum>0;var e=Lite.data.getUserPrizeBoxById(t.ID);e?(this.coinNum.string=""+s.default.formatMoney(e.coinNum),this.open.active=!0,this.close.active=!1,this.video.active=!1):(this.video.active=t.videoNum>0,this.open.active=!1,this.close.active=!0)},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onCheck,this),Lite.event.addListener(c.default.PRIZE_BOX_UNLOCAK,this,this.onCheckChange)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onCheck,this),Lite.event.removeListener(c.default.PRIZE_BOX_UNLOCAK,this)},e.prototype.onCheckChange=function(t){var e=Lite.data.getUserPrizeBoxById(this.LogicData.ID);e?(this.coinNum.node.active=!0,this.coinNum.string=""+s.default.formatMoney(e.coinNum),this.open.active=!0,this.close.active=!1,this.video.active=!1):(this.coinNum.node.active=!1,this.video.active=this.LogicData.videoNum>0,this.open.active=!1,this.close.active=!0)},e.prototype.onCheck=function(){var t=this;if(!this._opening)if(this._opening=!0,this.LogicData.videoNum)moosnow.platform.showVideo(function(e){switch(t._opening=!1,e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:var o=s.default.randomNumBoth(t.LogicData.coinNum[0],t.LogicData.coinNum[1]);Lite.data.lockPrizeBox(t.LogicData.ID,1,o),Lite.event.sendEventImmediately(c.default.PRIZE_BOX_UNLOCAK,t.LogicData)}});else if(Lite.data.getPrizeKey()>0){var e=s.default.randomNumBoth(this.LogicData.coinNum[0],this.LogicData.coinNum[1]);Lite.data.addPrizeKey(-1),Lite.data.lockPrizeBox(this.LogicData.ID,0,e),Lite.event.sendEventImmediately(c.default.PRIZE_BOX_UNLOCAK,this.LogicData),s.default.addCoin(this.node.parent.parent,e,function(){t._opening=!1})}else this._opening=!1,Lite.ui.showToast("\u94a5\u5319\u4e0d\u8db3"),Lite.event.sendEventImmediately(c.default.PRIZE_BOX_UNLOCAK,this.LogicData)},i([p(cc.Node)],e.prototype,"open",void 0),i([p(cc.Node)],e.prototype,"close",void 0),i([p(cc.Node)],e.prototype,"video",void 0),i([p(cc.Label)],e.prototype,"coinNum",void 0),i([p(cc.Node)],e.prototype,"check",void 0),e=i([u],e)}(r.default);o.default=l,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common","../utils/EventType":"EventType"}],PackingMapping:[function(t,e,o){"use strict";cc._RF.push(e,"59e6cAFAMZCbI3SPdHSFV7h","PackingMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.longbox="packingLongBox",t.bigbox="packingBigBox",t.upwardbox="packingUpwardBox",t.upwardlongbox="packingUpwardLongBox",t.upwardbigbox="packingUpwardBigBox",t.circle="packingCircle",t.box="packingBox",t}();o.default=n,cc._RF.pop()},{}],PhysicsSetting:[function(t,e,o){"use strict";cc._RF.push(e,"2f730GsdGROgpx/sEkKeJIs","PhysicsSetting"),cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){cc.director.getPhysicsManager().enabled=!0}),cc._RF.pop()},{}],PlayerBoom:[function(t,e,o){"use strict";cc._RF.push(e,"55d5e5fEnRJwYNSYsJ8iNYq","PlayerBoom");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.willShow=function(t){this.node.position=t,this.node.scale=2},e.prototype.onShow=function(){this.getComponent(cc.Animation).play()},e.prototype.onAnimCompleted=function(t,e){Lite.entity.hideEntity(this,null)},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],PlayerCarPart:[function(t,e,o){"use strict";cc._RF.push(e,"7952duftRROmrrs9tjydoFD","PlayerCarPart");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/Common"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.box=null,e.carFrame=null,e.mount=null,e.wheel1=null,e.wheel2=null,e.claw1=null,e.claw2=null,e.claw3=null,e}return n(e,t),e.prototype.willShow=function(){var t=this;this.mMountBody=this.mount.getComponent(cc.RigidBody),this.mCarBody=this.carFrame.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.mClaw1Body=this.claw1.getComponent(cc.RigidBody),this.mClaw2Body=this.claw2.getComponent(cc.RigidBody),this.mClaw3Body=this.claw3.getComponent(cc.RigidBody),this.mMountBody.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mCarBody.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mWheel1Body.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mWheel2Body.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mClaw1Body.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mClaw2Body.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.mClaw3Body.linearVelocity=new cc.Vec2(c.default.randomNumBoth(-100,100),c.default.randomNumBoth(50,100)),this.scheduleOnce(function(){Lite.entity.hideEntity(t,null,!0)},3);var e=Lite.data.getTrying(),o=Lite.data.getCurrentSkinId();this.onSkinChange(e||o)},e.prototype.onSkinChange=function(t){var e=this;Lite.resource.loadAsset("skin/"+t+"/1",cc.SpriteFrame,function(t,o){e.claw3.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/2",cc.SpriteFrame,function(t,o){e.claw2.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/3",cc.SpriteFrame,function(t,o){e.claw1.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/4",cc.SpriteFrame,function(t,o){e.mount.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/5",cc.SpriteFrame,function(t,o){e.carFrame.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/6",cc.SpriteFrame,function(t,o){e.wheel1.getComponent(cc.Sprite).spriteFrame=o,e.wheel2.getComponent(cc.Sprite).spriteFrame=o})},e.prototype.willHide=function(){},e.prototype.onShow=function(t){console.log("player car pos ",t),this.setType(cc.RigidBodyType.Kinematic);var e=new cc.Vec2(t.x-this.carFrame.x,t.y-this.carFrame.y);this.initPosition(e),this.setType(cc.RigidBodyType.Dynamic),this.node.zIndex=t.zIndex},e.prototype.setType=function(t){this.mCarBody.type=t,this.mWheel1Body.type=t,this.mWheel2Body.type=t,this.mClaw1Body.type=t,this.mClaw2Body.type=t,this.mClaw3Body.type=t,this.mMountBody.type=t},e.prototype.initPosition=function(t){this.moveVec(this.carFrame,t),this.moveVec(this.wheel1,t),this.moveVec(this.wheel2,t),this.moveVec(this.claw1,t),this.moveVec(this.claw2,t),this.moveVec(this.claw3,t)},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.onEnable=function(){},i([u(cc.Node)],e.prototype,"box",void 0),i([u(cc.Node)],e.prototype,"carFrame",void 0),i([u(cc.Node)],e.prototype,"mount",void 0),i([u(cc.Node)],e.prototype,"wheel1",void 0),i([u(cc.Node)],e.prototype,"wheel2",void 0),i([u(cc.Node)],e.prototype,"claw1",void 0),i([u(cc.Node)],e.prototype,"claw2",void 0),i([u(cc.Node)],e.prototype,"claw3",void 0),e=i([a],e)}(r.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common"}],PlayerCar:[function(t,e,o){"use strict";cc._RF.push(e,"b7cf0OEGzBHSrTUx4DZ/YEq","PlayerCar");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=t("../utils/MathUtils"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.box=null,e.carFrame=null,e.mount=null,e.wheel1=null,e.wheel2=null,e.claw1=null,e.claw2=null,e.claw3=null,e.fornt=null,e.magnetEffect=null,e.gameEnd=!1,e.mIsDied=!1,e.mCheckDied=!1,e.maxDis=0,e}return n(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.carFrame.convertToWorldSpaceAR(cc.Vec2.ZERO)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.carFrame.width},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.willShow=function(){this.mIsDied=!1,this.gameEnd=!1,this.mCheckDied=!1,this.wheel1Joint=this.wheel1.getComponent(cc.WheelJoint),this.wheel2Joint=this.wheel2.getComponent(cc.WheelJoint),this.claw1Joint=this.claw1.getComponent(cc.RevoluteJoint),this.claw2Joint=this.claw2.getComponent(cc.RevoluteJoint),this.claw3Joint=this.claw3.getComponent(cc.RevoluteJoint),this.forntJoint=this.fornt.getComponent(cc.WeldJoint),this.mMountBody=this.mount.getComponent(cc.RigidBody),this.mCarBody=this.carFrame.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.mClaw1Body=this.claw1.getComponent(cc.RigidBody),this.mClaw2Body=this.claw2.getComponent(cc.RigidBody),this.mClaw3Body=this.claw3.getComponent(cc.RigidBody),this.mForntBody=this.fornt.getComponent(cc.RigidBody),this.addListener(),this.openInvincible();var t=Lite.data.getTrying(),e=Lite.data.getCurrentSkinId(),o=Lite.data.getUseEggSkin();this.onSkinChange(t||o||e)},e.prototype.openInvincible=function(){this.mCheckDied=!1,this.unschedule(this.beginCheckDied),this.scheduleOnce(this.beginCheckDied,5)},e.prototype.beginCheckDied=function(){this.mCheckDied=!0},e.prototype.onShow=function(t){console.log("player car pos ",t),this.node.active=!1,this.node.zIndex=t.zIndex,this.node.setPosition(t.x,t.y),this.node.active=!0},e.prototype.willHide=function(){this.removeListener()},e.prototype.addListener=function(){Lite.event.addListener(c.default.ROCKER_MOVE,this,this.onRocker),Lite.event.addListener(c.default.ROCKER_END,this,this.clearMove),Lite.event.addListener(c.default.JUMP,this,this.onJump),Lite.event.addListener(c.default.GAME_STATE_END,this,this.onGameEnd),Lite.event.addListener(c.default.GAME_TIME_OUT,this,this.onTimeout),Lite.event.addListener(c.default.GAME_STATE_RESPAWN,this,this.onRespawn),Lite.event.addListener(c.default.BOX_STOP,this,this.stopToSucker),Lite.event.addListener(c.default.SUCKER_START,this,this.onSucker)},e.prototype.removeListener=function(){Lite.event.removeListener(c.default.ROCKER_MOVE,this),Lite.event.removeListener(c.default.ROCKER_END,this),Lite.event.removeListener(c.default.SUCKER_START,this),Lite.event.removeListener(c.default.SUCKER_END,this),Lite.event.removeListener(c.default.BOX_STOP,this),Lite.event.removeListener(c.default.GAME_STATE_END,this),Lite.event.removeListener(c.default.GAME_TIME_OUT,this),Lite.event.removeListener(c.default.GAME_STATE_RESPAWN,this),Lite.event.removeListener(c.default.JUMP,this)},e.prototype.onSkinChange=function(t){var e=this;Lite.resource.loadAsset("skin/"+t+"/1",cc.SpriteFrame,function(t,o){e.claw3.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/2",cc.SpriteFrame,function(t,o){e.claw2.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/3",cc.SpriteFrame,function(t,o){e.claw1.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/4",cc.SpriteFrame,function(t,o){e.mount.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/5",cc.SpriteFrame,function(t,o){e.carFrame.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadAsset("skin/"+t+"/6",cc.SpriteFrame,function(t,o){e.wheel1.getComponent(cc.Sprite).spriteFrame=o,e.wheel2.getComponent(cc.Sprite).spriteFrame=o})},e.prototype.onSucker=function(t){var e=this.getComponent(cc.Animation);t?e.play():(e.pause(),e.setCurrentTime(0),e.stop())},e.prototype.onRocker=function(t){t&&(this.mClawMoveVec=t,this.mCarMoveVec=t)},e.prototype.clearMove=function(){this.mClawMoveVec=cc.Vec2.ZERO,this.mCarMoveVec=cc.Vec2.ZERO},e.prototype.isFallApart=function(t,e){void 0===e&&(e=30);var o=t.anchor,n=t.connectedBody.node.convertToWorldSpaceAR(t.connectedAnchor),i=t.node.convertToWorldSpaceAR(o);return s.default.getDistance(n,i)>e},e.prototype.checkDied=function(){this.mCheckDied&&(this.mIsDied||(this.mIsDied=this.isFallApart(this.wheel1Joint)||this.isFallApart(this.wheel2Joint)||this.isFallApart(this.claw1Joint)||this.isFallApart(this.claw2Joint)||this.isFallApart(this.claw3Joint)||this.isFallApart(this.forntJoint),this.mIsDied&&Lite.event.sendEventImmediately(c.default.PLAYER_DIED,null)))},e.prototype.onJump=function(){if(Math.abs(this.mCarBody.linearVelocity.y)<=10){var t=this.mCarBody.linearVelocity.clone();t.y=700,this.mCarBody.linearVelocity=t,this.mWheel1Body.linearVelocity=t,this.mWheel2Body.linearVelocity=t}},e.prototype.onGameEnd=function(t){this.gameEnd=!0,t.isWin?(moosnow.platform.vibrateShort(),this.stopMove()):this.boom()},e.prototype.onTimeout=function(){this.mCheckDied=!1,this.gameEnd=!0,moosnow.platform.vibrateShort(),this.stopMove()},e.prototype.onRespawn=function(t){this.gameEnd=!1,this.openInvincible()},e.prototype.boom=function(){},e.prototype.stopMove=function(){var t=new cc.Vec2(0,0);this.mClaw1Body.angularVelocity=0,this.mClaw2Body.angularVelocity=0,this.mClaw3Body.angularVelocity=0,this.mClaw1Body.linearVelocity=t,this.mClaw2Body.linearVelocity=t,this.mClaw3Body.linearVelocity=t},e.prototype.truckMoveOut=function(t,e){this.mBaseLoaderX=t,this.onTruckMoveOutCall=e},e.prototype.disableRigidBody=function(t){this.mCarBody.enabled=!t,this.mWheel1Body.enabled=!t,this.mWheel2Body.enabled=!t,this.mClaw1Body.enabled=!t,this.mClaw2Body.enabled=!t,this.mClaw3Body.enabled=!t,this.mMountBody.enabled=!t},e.prototype.setType=function(t){this.mCarBody.type=t,this.mWheel1Body.type=t,this.mWheel2Body.type=t,this.mClaw1Body.type=t,this.mClaw2Body.type=t,this.mClaw3Body.type=t,this.mMountBody.type=t},e.prototype.initPosition=function(t){this.moveVec(this.carFrame,t),this.moveVec(this.wheel1,t),this.moveVec(this.wheel2,t),this.moveVec(this.claw1,t),this.moveVec(this.claw2,t),this.moveVec(this.claw3,t)},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.clawMove=function(){if(!this.gameEnd&&this.mClawMoveVec&&(this.mClawMoveVec.x!=cc.Vec2.ZERO.x||this.mClawMoveVec.y!=cc.Vec2.ZERO.y)){var t=this.mClaw3Body.linearVelocity.clone();0!=this.mClawMoveVec.x&&(t.x=500*this.mClawMoveVec.x),0!=this.mClawMoveVec.y&&(t.y=500*this.mClawMoveVec.y),this.mForntBody.linearVelocity=t}},e.prototype.carMove=function(){var t=this.box.convertToNodeSpaceAR(this.fornt.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.carFrame.position,o=s.default.getDistance(t,e);o>this.maxDis&&(this.maxDis=o);var n=s.default.getAngleTwoVec({x:0,y:1},t.sub(e));Math.abs(n)},e.prototype.stopToSucker=function(){},e.prototype.onFwUpdate=function(){(this.clawMove(),this.carMove(),this.checkDied(),this.onTruckMoveOutCall)&&(this.mWheel1Body.angularVelocity=-250,this.wheel1.convertToWorldSpaceAR(cc.Vec2.ZERO).x+this.wheel1.width/2<this.mBaseLoaderX&&(this.stopMove(),this.onTruckMoveOutCall(),this.onTruckMoveOutCall=null))},i([p(cc.Node)],e.prototype,"box",void 0),i([p(cc.Node)],e.prototype,"carFrame",void 0),i([p(cc.Node)],e.prototype,"mount",void 0),i([p(cc.Node)],e.prototype,"wheel1",void 0),i([p(cc.Node)],e.prototype,"wheel2",void 0),i([p(cc.Node)],e.prototype,"claw1",void 0),i([p(cc.Node)],e.prototype,"claw2",void 0),i([p(cc.Node)],e.prototype,"claw3",void 0),i([p(cc.Node)],e.prototype,"fornt",void 0),i([p(cc.Node)],e.prototype,"magnetEffect",void 0),e=i([u],e)}(r.default);o.default=l,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType","../utils/MathUtils":"MathUtils"}],PrizeBox:[function(t,e,o){"use strict";cc._RF.push(e,"2a2b9LO8xZFppnJTyYibSPi","PrizeBox");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("prizeBox",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("prizeBox"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.PrizeBoxBase);o.PrizeBox=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ResourceModule:[function(t,e,o){"use strict";cc._RF.push(e,"625c74Q2O9HApOzeuzwGx1+","ResourceModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.onEnable=function(){},e.prototype.loadAsset=function(t,e,o){var n=cc.loader.getRes(t,e);n?o&&o(null,n):cc.loader.loadRes(t,e,function(t,e){o&&o(t,e)})},e.prototype.loadAssetDir=function(t,e,o,n){cc.loader.loadResDir(t,e,function(t,e,n){var i=t/e*100;i=Math.ceil(i),o&&o(i)},function(t,e){n&&n(t,e)})},e.prototype.onDisable=function(){},e}(t("./BaseModule").default);o.default=i,cc._RF.pop()},{"./BaseModule":"BaseModule"}],RockerControl:[function(t,e,o){"use strict";cc._RF.push(e,"75790PTy1lAqIIU6n/0dYeH","RockerControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=t("../config/UIForms"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.ring=null,e.dot=null,e.id=0,e.touched=!1,e}return n(e,t),e.prototype.start=function(){Lite.event.addListener(r.default.GAME_STATE_REPLAY,this,this.onReplay),Lite.event.addListener(r.default.PLAYER_DIED,this,this.onDied)},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnPause.on(cc.Node.EventType.TOUCH_START,this.onPause,this),this.ring.active=!0,this.dot.active=!0,this.id=null,this.ringPos=this.ring.position},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnPause.off(cc.Node.EventType.TOUCH_START,this.onPause,this),this.ring.active=!1,this.dot.active=!1},e.prototype.onReplay=function(){var t=this;this.btnPause.active=!1,this.scheduleOnce(function(){t.btnPause.active=!0},3)},e.prototype.onDied=function(){},e.prototype.onPause=function(){Lite.ui.pushUIForm(c.default.PauseForm,null),Lite.event.sendEventImmediately(r.default.GAME_STATE_PAUSE,null)},e.prototype.onTouchStart=function(t){if(!Lite.myGame.gamePause){var e=t.getID();if(null===this.id&&(this.id=e),e==this.id){this.touched=!0;t.getLocation();Lite.event.sendEventImmediately(r.default.ROCKER_MOVE,null),this.touchPos=this.dot.position=cc.Vec2.ZERO}}},e.prototype.onTouchMove=function(t){if(!Lite.myGame.gamePause&&t.getID()==this.id){this.touched=!0;var e=t.getLocation(),o=this.ring.convertToNodeSpaceAR(e),n=o.sub(this.touchPos),i=n.mag();if(0!=i){var c=n.normalize();Lite.event.sendEventImmediately(r.default.ROCKER_MOVE,c);var s=this.ring.width/2;this.dot.position=s>i?o:c.mul(s).add(this.touchPos)}}},e.prototype.onTouchEnd=function(t){Lite.myGame.gamePause||t.getID()==this.id&&(this.touched=!1,Lite.event.sendEventImmediately(r.default.ROCKER_END,null),this.dot.position=this.touchPos,this.id=null)},i([u(cc.Node)],e.prototype,"btnPause",void 0),i([u(cc.Node)],e.prototype,"ring",void 0),i([u(cc.Node)],e.prototype,"dot",void 0),e=i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../config/UIForms":"UIForms","../utils/EventType":"EventType"}],Rope:[function(t,e,o){"use strict";cc._RF.push(e,"a097b2tiAFNcbV4SWrTZAzj","Rope");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t,e,o,n){this._ptSelf=cc.v2(t,e),this._length=o,this._angle=n,this.calcTarget()},e.prototype.getTargetPoint=function(){return this._ptTarget},e.prototype.setSelfPoint=function(t){this._ptSelf=t,this.calcTarget()},e.prototype.getSelfPoint=function(){return this._ptSelf},e.prototype.calcSelf=function(t){var e=t.sub(this._ptSelf).normalizeSelf();this._angle=Math.atan2(e.y,e.x),e=e.mul(-1*this._length),this._ptSelf=t.add(e),this.node.position=this._ptSelf},e.prototype.calcTarget=function(){var t=this._length*Math.cos(this._angle),e=this._length*Math.sin(this._angle);this._ptTarget=cc.v2(this._ptSelf.x+t,this._ptSelf.y+e)},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ScollType:[function(t,e,o){"use strict";cc._RF.push(e,"55f10VXz3BHiopU/Z4ytN/F","ScollType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.LEFT_OR_RIGHT=0]="LEFT_OR_RIGHT",t[t.TOP_OR_BOTTOM=1]="TOP_OR_BOTTOM"}(o.ScollType||(o.ScollType={})),cc._RF.pop()},{}],SettingModule:[function(t,e,o){"use strict";cc._RF.push(e,"cce4evXVKxK06AHDF7fy5kR","SettingModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BaseModule"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.onEnable=function(){},e.prototype.getInt=function(t,e){var o=this._getValue(t,e);return parseInt(o)},e.prototype.getFloat=function(t,e){var o=this._getValue(t,e);return parseFloat(o)},e.prototype.getBool=function(t,e){var o;return o=1==e?"true":"false","true"==this.getString(t,o)},e.prototype.getString=function(t,e){return this._getValue(t,e)},e.prototype.getObject=function(t,e){var o=this._getValue(t,e);return o&&""!=o?JSON.parse(o):null},e.prototype.setObject=function(t,e){var o="";e&&(o=JSON.stringify(e)),this.setValue(t,o)},e.prototype.setBool=function(t,e){1==e?this.setValue(t,"true"):this.setValue(t,"false")},e.prototype.setValue=function(t,e){cc.sys.localStorage.setItem(t,e)},e.prototype.appendInt=function(t,e){var o=this.getInt(t,0),n=parseInt(e)+o;return this.setValue(t,n),n},e.prototype.appendFloat=function(t,e){var o=this.getFloat(t,0),n=parseFloat(e)+o;this.setValue(t,n)},e.prototype.removeValueOfKey=function(t){cc.sys.localStorage.clear(t)},e.prototype.removeAll=function(){cc.sys.localStorage.clear()},e.prototype._getValue=function(t,e){var o=cc.sys.localStorage.getItem(t);return null!=o&&""!=o||(o=e),o},e.prototype.onDisable=function(){},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"./BaseModule":"BaseModule"}],SheetManager:[function(t,e,o){"use strict";cc._RF.push(e,"75c8dJgBUhLAq8lAxh3UiqE","SheetManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.loadDB=function(t,e){var o=this;moosnow.http.request(t,{},"GET",function(t){console.log("db json",t),o.data=t,e()},function(t){console.log("load db  fail",t)})},t.get=function(t,e,o){var n=this.data[t][e];if(n){for(var i,r=this.getKeys(this.data[t].keys),c=new o,s=0;s<r.length;s++)i=this.data.dic[n[s]],c[r[s]]="null"!==i?i:null;return o[e]=c,c}},t.getKeys=function(t){for(var e=[],o=0;o<t.length;o++){var n=t[o];e.push(this.data.dic[n])}return e},t.getTableLength=function(t){var e=this.data[t];if(e.length)return e.length;var o=0;for(var n in e)o++;return e.length=o-1,o-1},t.getList=function(t){return this.data[t]},t.getComplexLength=function(t,e){return this.data[t][e].length},t.getComplex=function(t,e,o){for(var n=this.getList(t)[e],i=this.getKeys(this.data[t].keys),r=[],c=0;c<n.length;c++){for(var s,a=new o,u=0;u<i.length;u++)s=this.data.dic[n[c][u]],a[i[u]]="null"!==s?s:null;r.push(a)}return r},t.getAllSheets=function(t,e){var o=this.getList(t),n=[];for(var i in o)"keys"!=i&&n.push(this.get(t,i,e));return n},t}();o.SheetManager=n,cc._RF.pop()},{}],Sheets:[function(t,e,o){"use strict";cc._RF.push(e,"15d36gXNE9MgbwoQwqki+J4","Sheets"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.LevelCfgBase=n;var i=function(){return function(){}}();o.PrizeBoxBase=i;var r=function(){return function(){}}();o.EasterEggBase=r;var c=function(){return function(){}}();o.SignBase=c;var s=function(){return function(){}}();o.SkinBase=s;var a=function(){return function(){}}();o.SignVoBase=a;var u=function(){return function(){}}();o.ConfigDataBase=u,cc._RF.pop()},{}],SignVo:[function(t,e,o){"use strict";cc._RF.push(e,"93cbeahkN5KrI5K5wpxr3Rx","SignVo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("SignVo",t,e)},e}(i.SignVoBase);o.SignVo=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],Sign:[function(t,e,o){"use strict";cc._RF.push(e,"bf9a2eOQVdAtaPBkJuybhoo","Sign");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("Sign",t,e)},e}(i.SignBase);o.Sign=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"4cc3eqfWm1DF4M7rkK3aNGR","SkinItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/entity/EntityLogic"),c=t("../utils/EventType"),s=t("../../sheets/vo/Skin"),a=t("../utils/Common"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.locked=null,e.checked=null,e.coinNum=null,e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){Lite.data.setSelectSkin(t.LogicData.ID),Lite.data.getUserSkinById(t.LogicData.ID)&&Lite.data.setCurrentSkinId(t.LogicData.ID),Lite.event.sendEventImmediately(c.default.SKIN_SELECT,t.LogicData.ID)},this),Lite.event.addListener(c.default.SKIN_SELECT,this,function(e){t.LogicData.ID!=e?t.checked.active=!1:t.checked.active=!0}),Lite.event.addListener(c.default.SKIN_CHANGE,this,function(e){t.showLocked(e)})},e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e);var n=s.Skin.get(this.LogicData.ID),i=Lite.data.getCurrentSkinId();this.checked.active=!1,this.locked.node.active=!0,this.showLocked(i),this.coinNum.string=""+a.default.formatMoney(n.coinNum),Lite.resource.loadAsset("skin/"+this.LogicData.ID+"/7",cc.SpriteFrame,function(t,e){t||(o.logo.spriteFrame=e)})},e.prototype.showLocked=function(t){var e=s.Skin.get(this.LogicData.ID),o=Lite.data.getUserSkin();if(t==e.ID)this.checked.active=!0,this.locked.node.active=!1;else for(var n in o)n==this.LogicData.ID&&(o[n].videoNum>=e.videoNum||0!=o[n].coinNum)&&(this.locked.node.active=!1)},i([l(cc.Sprite)],e.prototype,"logo",void 0),i([l(cc.Sprite)],e.prototype,"locked",void 0),i([l(cc.Node)],e.prototype,"checked",void 0),i([l(cc.Label)],e.prototype,"coinNum",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../sheets/vo/Skin":"Skin","../framework/entity/EntityLogic":"EntityLogic","../utils/Common":"Common","../utils/EventType":"EventType"}],Skin:[function(t,e,o){"use strict";cc._RF.push(e,"1e8e7+vQ+1A7r5qhhYH2HJX","Skin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Sheets"),r=t("../../Script/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.get=function(t){return this[t]?this[t]:r.SheetManager.get("Skin",t,e)},e.getAll=function(){var t,o=r.SheetManager.getList("Skin"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(i.SkinBase);o.Skin=c,cc._RF.pop()},{"../../Script/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],StopPropagation:[function(t,e,o){"use strict";cc._RF.push(e,"0bea5Y6jPxNHY/T+J8TCyv9","StopPropagation");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onMaskMouseDown,this)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],SuckerControl:[function(t,e,o){"use strict";cc._RF.push(e,"982d22PKTJJQ52tlIiHChyw","SuckerControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=t("./BoxControl"),s=t("../config/PackingMapping"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.claw4=null,e.fornt=null,e.mCanSucker=!1,e.mStopMove=!1,e}return n(e,t),Object.defineProperty(e.prototype,"stopMove",{get:function(){return this.mStopMove},set:function(t){this.mStopMove=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CanSucker",{get:function(){return this.mCanSucker},set:function(t){this.mCanSucker=t,this.mCanSucker?this.stopMove=!1:this.removeJoint()},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.onEnable=function(){this.mSuckerBody=this.node.getComponent(cc.RigidBody),Lite.event.addListener(r.default.SUCKER_START,this,this.onWeld)},e.prototype.removeJoint=function(){for(var t in s.default){Lite.entity.getAllEntity(s.default[t]).forEach(function(t){t.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()})})}this.mBoxCtl&&(this.mBoxCtl.BoxBody.gravityScale=1)},e.prototype.onWeld=function(t){this.CanSucker=t},e.prototype.onBeginContact=function(t,e,o){if(this.CanSucker){var n=t.getWorldManifold().points;if(0!=n.length){var i=n[0],r=(e.node.convertToNodeSpaceAR(i),o.node.convertToNodeSpaceAR(i)),c=null;o.node.getComponents(cc.RopeJoint).forEach(function(t){t.connectedBody==e.body&&(c=t)}),c||((c=o.node.addComponent(cc.RopeJoint)).connectedBody=e.body),c.connectedAnchor=new cc.Vec2(0,5),c.anchor=r,c.maxLength=1,this.mOwnerRopeJoint=c}}},e.prototype.onEndContact=function(t,e,o){},e.prototype.moveToSucker=function(){var t=this.fornt.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.claw4.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),n=t.sub(e).normalize().mul(100),i=cc.director.getPhysicsManager().rayCast(o,o.add(n),cc.RayCastType.Closest);if(i.length>0){var r=i[0].collider;if(this.mBoxCtl=r.node.getComponent(c.default),!this.mBoxCtl)return;if(r.node.getComponents(cc.RopeJoint).length<2){var s=this.mBoxCtl.node.convertToWorldSpaceAR(cc.Vec2.ZERO),a=t.sub(s);a.normalizeSelf().mulSelf(50),r.body.linearVelocity=a}else this.stopMove=!0,r.body.gravityScale=0}},e.prototype.update=function(t){this.CanSucker&&!this.stopMove&&this.moveToSucker()},i([p(cc.Node)],e.prototype,"claw4",void 0),i([p(cc.Node)],e.prototype,"fornt",void 0),e=i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../config/PackingMapping":"PackingMapping","../utils/EventType":"EventType","./BoxControl":"BoxControl"}],SwitchControl:[function(t,e,o){"use strict";cc._RF.push(e,"1274brLdIZLuruVOQunDgL3","SwitchControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchNode=null,e.once=!1,e.keep=!1,e.opened=!1,e.mTriggerNum=0,e.mPrevColliderId="",e}return n(e,t),e.prototype.start=function(){this.mPos=this.switchNode.position.clone()},e.prototype.triggerDoorMove=function(){this.opened=!this.opened,this.switchNode.stopAllActions(),this.opened?this.switchNode.runAction(cc.moveTo(.3,new cc.Vec2(this.mPos.x,this.mPos.y-10))):this.switchNode.runAction(cc.moveTo(.3,new cc.Vec2(this.mPos.x,this.mPos.y))),Lite.event.sendEventImmediately(r.default.DOOR_MOVE,{uuid:this.node.uuid,opened:this.opened})},e.prototype.onBeginContact=function(t,e,o){this.mPrevColliderId!=o.uuid&&(this.mPrevColliderId=o.uuid,this.once?0==this.mTriggerNum&&(this.mTriggerNum++,this.triggerDoorMove()):this.triggerDoorMove())},e.prototype.onEndContact=function(t,e,o){this.mEndTime=Date.now(),this.keep&&(this.mPrevColliderId=null,this.triggerDoorMove())},i([a(cc.Node)],e.prototype,"switchNode",void 0),i([a({displayName:"\u53ea\u89e6\u53d1\u4e00\u6b21"})],e.prototype,"once",void 0),i([a({displayName:"\u9700\u8981\u4fdd\u6301"})],e.prototype,"keep",void 0),i([a({displayName:"\u6253\u5f00\u5173\u95ed"})],e.prototype,"opened",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../utils/EventType":"EventType"}],TargetBoxControl:[function(t,e,o){"use strict";cc._RF.push(e,"4b9e0V5Nn1NOpfCAXIVpmhu","TargetBoxControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../enum/BoxType"),c=t("../framework/entity/EntityLogic"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxType=r.BoxType.BOX,e}return n(e,t),e.prototype.start=function(){},i([u({type:cc.Enum(r.BoxType),serializable:!0,displayName:"\u76d2\u5b50\u7c7b\u578b"})],e.prototype,"boxType",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../enum/BoxType":"BoxType","../framework/entity/EntityLogic":"EntityLogic"}],TargetBox:[function(t,e,o){"use strict";cc._RF.push(e,"345a2Om2otDIrvIiSgrPZpv","TargetBox");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ToastForm:[function(t,e,o){"use strict";cc._RF.push(e,"042ec/3ullB7Yx0spqho1Cu","ToastForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=t.call(this)||this;return e.msgText=null,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.show=function(t){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=t,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.hide=function(){this.node.active=!1},i([a(cc.Node)],e.prototype,"msgText",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab5eeq9eshHcY+EXJeklBPK","TouchManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=t.call(this)||this;return e.mListen=["HomeForm"],e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.mouseDown=function(t){Lite.event.sendEventImmediately(r.default.TOUCH_DOWN,t)},e.prototype.mouseMove=function(t){Lite.event.sendEventImmediately(r.default.TOUCH_MOVE,t)},e.prototype.mouseUp=function(t){Lite.event.sendEventImmediately(r.default.TOUCH_UP,t)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.onDisable=function(){this.removeListener()},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../utils/EventType":"EventType"}],TruckLoader:[function(t,e,o){"use strict";cc._RF.push(e,"fccf50TAMdJM4gapqxGpWrV","TruckLoader");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/EventType"),c=t("../framework/entity/EntityLogic"),s=t("../config/UIForms"),a=t("./PlayerCar"),u=t("../config/PackingMapping"),p=t("../enum/AdType"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.load=null,e.plank1=null,e.plank2=null,e.wheel1=null,e.wheel2=null,e.mIsRespawn=!1,e}return n(e,t),Object.defineProperty(e.prototype,"IsRespawn",{get:function(){return this.mIsRespawn},set:function(t){this.mIsRespawn=t},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.mLoadBody=this.node.getComponent(cc.RigidBody),this.mPlank1Body=this.plank1.getComponent(cc.RigidBody),this.mPlank2Body=this.plank2.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.sleepBody(!1)},e.prototype.onGameEnd=function(t){t.timeout?(Lite.audio.stopMusic(),Lite.audio.playTruckEngineOn(),this.moveOut(t)):t.isWin?(Lite.audio.stopMusic(),Lite.audio.playTruckEngineOn(),this.moveOut(t)):Lite.event.sendEventImmediately(r.default.GAME_STATE_OVER,t)},e.prototype.onTimeout=function(){for(var t,e=this,o=this.load.getBoundingBoxToWorld(),n=cc.director.getPhysicsManager().testAABB(o),i=0;i<n.length;i++){var r=n[i];if(r.node.parent&&r.node.parent.parent&&(t=r.node.parent.parent.getComponent(a.default)))break}t&&t.truckMoveOut?t.truckMoveOut(this.load.convertToWorldSpaceAR(cc.Vec2.ZERO).x-this.load.width/2,function(){Lite.audio.stopMusic(),Lite.audio.playTruckEngineOn(),e.moveOut({isWin:!1,timeout:!0})}):(Lite.audio.stopMusic(),Lite.audio.playTruckEngineOn(),this.moveOut({isWin:!1,timeout:!0}))},e.prototype.onRespawn=function(){this.moveIn()},e.prototype.onEnable=function(){var t=this;this.mStartVec=this.load.convertToWorldSpaceAR(cc.Vec2.ZERO),Lite.resource.loadAsset("texture/game/scroll",cc.SpriteFrame,function(e,o){t.plank1.getComponent(cc.Sprite).spriteFrame=o,t.plank2.getComponent(cc.Sprite).spriteFrame=o}),Lite.event.addListener(r.default.GAME_STATE_END,this,this.onGameEnd),Lite.event.addListener(r.default.GAME_TIME_OUT,this,this.onTimeout),Lite.event.addListener(r.default.GAME_STATE_RESPAWN,this,this.onRespawn)},e.prototype.onDisable=function(){Lite.event.removeListener(r.default.GAME_STATE_END,this),Lite.event.removeListener(r.default.GAME_TIME_OUT,this),Lite.event.removeListener(r.default.GAME_STATE_RESPAWN,this)},e.prototype.onShow=function(t){this.setType(cc.RigidBodyType.Kinematic);var e=new cc.Vec2(t.x-this.load.x,t.y-this.load.y);this.initPosition(e),this.setType(cc.RigidBodyType.Dynamic)},e.prototype.setType=function(t){this.node.getComponent(cc.RigidBody).type=t,this.node.children.forEach(function(e){var o=e.getComponent(cc.RigidBody);o&&(o.type=t)})},e.prototype.initPosition=function(t){var e=this;this.moveVec(this.node,t),this.node.children.forEach(function(o){e.moveVec(o,t)})},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.moveOut=function(t){var e=this;this.loadMove(150),this.scheduleOnce(function(){e.stopMove(),Lite.audio.playTruckSignal(),t.isWin?Lite.event.sendEventImmediately(r.default.GAME_STATE_OVER,t):Lite.event.sendEventImmediately(r.default.ADFORM_CHANGE,{showAd:(t.isWin?p.AdType.GAMEOVER_WIN:p.AdType.GAMEOVER_FAIL)|p.AdType.MASK|p.AdType.WAIT|p.AdType.BACK,callback:function(){Lite.ui.pushUIForm(s.default.RespawnForm,{timeout:t.timeout,respawn:!0})}})},2.5)},e.prototype.moveIn=function(){this.IsRespawn=!0,this.loadMove(-350,new cc.Vec2(-350,0))},e.prototype.loadMove=function(t,e){e||(e=new cc.Vec2(200,0)),this.mLoadBody.linearVelocity=e,this.mPlank1Body.linearVelocity=e,this.mPlank2Body.linearVelocity=e,this.mWheel1Body.linearVelocity=e,this.mWheel2Body.linearVelocity=e;var o=this.load.getBoundingBoxToWorld(),n=cc.director.getPhysicsManager().testAABB(o);for(var i in u.default){Lite.entity.getAllEntity(u.default[i]).forEach(function(o){n.forEach(function(n){if(o.node==n.node){o.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()});var i=o.node.getComponent(cc.RigidBody);i.type=0==t?cc.RigidBodyType.Dynamic:cc.RigidBodyType.Kinematic,i.linearVelocity=e,i.angularVelocity=0}})})}this.mWheel1Body.angularVelocity=t,this.mWheel2Body.angularVelocity=t},e.prototype.sleepBody=function(t){this.mWheel1Body.active=!t,this.mWheel2Body.active=!t},e.prototype.stopMove=function(t){void 0===t&&(t=cc.RigidBodyType.Dynamic);var e=cc.Vec2.ZERO;for(var o in this.mLoadBody.linearVelocity=e,this.mPlank1Body.linearVelocity=e,this.mPlank2Body.linearVelocity=e,this.mWheel1Body.linearVelocity=e,this.mWheel2Body.linearVelocity=e,u.default){Lite.entity.getAllEntity(u.default[o]).forEach(function(e){e.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()});var o=e.node.getComponent(cc.RigidBody);o.type=t,o.linearVelocity=cc.Vec2.ZERO,o.angularVelocity=0})}this.mWheel1Body.angularVelocity=0,this.mWheel2Body.angularVelocity=0},e.prototype.update=function(t){this.IsRespawn&&this.load.convertToWorldSpaceAR(cc.Vec2.ZERO).x<=this.mStartVec.x&&(this.IsRespawn=!1,this.stopMove(),Lite.event.sendEventImmediately(r.default.GAME_STATE_RESPAWN_COMPLETED,null))},i([d(cc.Node)],e.prototype,"load",void 0),i([d(cc.Node)],e.prototype,"plank1",void 0),i([d(cc.Node)],e.prototype,"plank2",void 0),i([d(cc.Node)],e.prototype,"wheel1",void 0),i([d(cc.Node)],e.prototype,"wheel2",void 0),e=i([h],e)}(c.default);o.default=f,cc._RF.pop()},{"../config/PackingMapping":"PackingMapping","../config/UIForms":"UIForms","../enum/AdType":"AdType","../framework/entity/EntityLogic":"EntityLogic","../utils/EventType":"EventType","./PlayerCar":"PlayerCar"}],UIForms:[function(t,e,o){"use strict";cc._RF.push(e,"d61daDJKXZM+7VmEImeGFsh","UIForms");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e,"mapping",{get:function(){var t,e,o,n,i,r,c,s,a,u,p;return{adForm:(t={},t[moosnow.APP_PLATFORM.WX]="adForm",t[moosnow.APP_PLATFORM.OPPO]="adFormOPPO",t[moosnow.APP_PLATFORM.OPPO_ZS]="adFormOPPO",t[moosnow.APP_PLATFORM.VIVO]="adFormQQ",t[moosnow.APP_PLATFORM.QQ]="adFormQQ",t[moosnow.APP_PLATFORM.BYTEDANCE]="adFormTT",t),pauseForm:(e={},e[moosnow.APP_PLATFORM.WX]="pauseForm",e[moosnow.APP_PLATFORM.BYTEDANCE]="pauseFormTT",e[moosnow.APP_PLATFORM.OPPO]="pauseFormOPPO",e[moosnow.APP_PLATFORM.OPPO_ZS]="pauseFormOPPO",e[moosnow.APP_PLATFORM.VIVO]="pauseFormVIVO",e[moosnow.APP_PLATFORM.HW]="pauseFormVIVO",e[moosnow.APP_PLATFORM.QQ]="pauseFormTT",e),respawnForm:(o={},o[moosnow.APP_PLATFORM.WX]="respawnForm",o[moosnow.APP_PLATFORM.BYTEDANCE]="respawnFormTT",o[moosnow.APP_PLATFORM.OPPO]="respawnFormOPPO",o[moosnow.APP_PLATFORM.OPPO_ZS]="respawnFormOPPO",o[moosnow.APP_PLATFORM.VIVO]="respawnFormOPPO",o[moosnow.APP_PLATFORM.HW]="respawnFormOPPO",o[moosnow.APP_PLATFORM.QQ]="respawnFormQQ",o),endForm:(n={},n[moosnow.APP_PLATFORM.WX]="endForm",n[moosnow.APP_PLATFORM.BYTEDANCE]="endFormTT",n[moosnow.APP_PLATFORM.OPPO]="endFormOPPO",n[moosnow.APP_PLATFORM.OPPO_ZS]="endFormOPPO",n[moosnow.APP_PLATFORM.VIVO]="endFormVIVO",n[moosnow.APP_PLATFORM.HW]="endFormOPPO",n),totalForm:(i={},i[moosnow.APP_PLATFORM.WX]="totalForm",i[moosnow.APP_PLATFORM.BYTEDANCE]="totalFormTT",i[moosnow.APP_PLATFORM.QQ]="totalFormQQ",i[moosnow.APP_PLATFORM.OPPO]="totalFormOPPO",i[moosnow.APP_PLATFORM.OPPO_ZS]="totalFormOPPO",i[moosnow.APP_PLATFORM.HW]="totalFormOPPO",i[moosnow.APP_PLATFORM.VIVO]="totalFormVIVO",i),tryForm:(r={},r[moosnow.APP_PLATFORM.WX]="tryForm",r[moosnow.APP_PLATFORM.BYTEDANCE]="tryFormTT",r[moosnow.APP_PLATFORM.QQ]="tryFormTT",r),mistouchForm:(c={},c[moosnow.APP_PLATFORM.WX]="mistouchForm",c[moosnow.APP_PLATFORM.QQ]="mistouchFormQQ",c[moosnow.APP_PLATFORM.BYTEDANCE]="mistouchFormTT",c),prizeForm:(s={},s[moosnow.APP_PLATFORM.BYTEDANCE]="prizeFormTT",s[moosnow.APP_PLATFORM.QQ]="prizeFormQQ",s),shareForm:(a={},a[moosnow.APP_PLATFORM.WX]="shareFormTT",a[moosnow.APP_PLATFORM.BYTEDANCE]="shareFormTT",a),openBoxForm:(u={},u[moosnow.APP_PLATFORM.WX]="openBoxFormTT",u[moosnow.APP_PLATFORM.BYTEDANCE]="openBoxFormTT",u),easterEggForm:(p={},p[moosnow.APP_PLATFORM.WX]="easterEggFormTT",p[moosnow.APP_PLATFORM.BYTEDANCE]="easterEggFormTT",p)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AdForm",{get:function(){return this.convertUIName(this.mapping.adForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ShareForm",{get:function(){return this.convertUIName(this.mapping.shareForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TotalForm",{get:function(){return this.convertUIName(this.mapping.totalForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EasterEggForm",{get:function(){return this.convertUIName(this.mapping.easterEggForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EndForm",{get:function(){return this.convertUIName(this.mapping.endForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PauseForm",{get:function(){return this.convertUIName(this.mapping.pauseForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RespawnForm",{get:function(){return this.convertUIName(this.mapping.respawnForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PrizeForm",{get:function(){return this.convertUIName(this.mapping.prizeForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MistouchForm",{get:function(){return this.convertUIName(this.mapping.mistouchForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TryForm",{get:function(){return this.convertUIName(this.mapping.tryForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OpenBoxForm",{get:function(){return this.convertUIName(this.mapping.openBoxForm)},enumerable:!0,configurable:!0}),e.HomeForm="homeForm",e.SkinForm="skinForm",e.GameForm="gameForm",e.CoinForm="coinForm",e.PrevHomeForm="prevHomeForm",e.MistouchBoxForm="mistouchBoxFormQQ",e.ToastForm="toastForm",e.SetForm="setForm",e}(t("./UIMapping").default);o.default=i,cc._RF.pop()},{"./UIMapping":"UIMapping"}],UIForm:[function(t,e,o){"use strict";cc._RF.push(e,"13b5bYwfrpNi4SXX2k1fWJv","UIForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){var e=t.call(this)||this;return e.isPopEffect=!1,e.isMask=!1,e.fullView=!0,e.formName="",e.maskName="img_mask",e.formName="",e}return n(e,t),e.prototype.start=function(){this.isMask&&this.addMask()},e.prototype.addMask=function(){var t=this,e=this.node.getChildByName(this.maskName);if(e)return e.width=cc.Canvas.instance.node.width,e.height=cc.Canvas.instance.node.height,void(this.node.active=!0);var o=new cc.Node,n=o.addComponent(cc.Sprite),i=o.addComponent(cc.Widget);i.isAlignLeft=i.isAlignTop=i.isAlignRight=i.isAlignBottom=!0,i.left=i.top=i.right=i.bottom=0,Lite.resource.loadAsset("texture/game/img_mask",cc.SpriteFrame,function(e,o){n.spriteFrame=o,n.type=cc.Sprite.Type.SLICED,n.spriteFrame.insetBottom=1,n.spriteFrame.insetTop=1,n.spriteFrame.insetLeft=1,n.spriteFrame.insetRight=1,t.schedule(t.fullMask,.1)}),o.zIndex=-1,o.on(cc.Node.EventType.TOUCH_START,this.onMaskMouseDown,this),o.width=cc.Canvas.instance.node.width,o.height=cc.Canvas.instance.node.height,this.node.addChild(o),this.maskNode=o},e.prototype.fullMask=function(){this.maskNode.width==cc.Canvas.instance.node.width&&this.maskNode.height==cc.Canvas.instance.node.height&&this.unschedule(this.fullMask),this.maskNode.width=cc.Canvas.instance.node.width,this.maskNode.height=cc.Canvas.instance.node.height,console.log("fullMask")},e.prototype.removeMask=function(){this.node.getChildByName(this.maskName)&&(this.node.active=!1)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},e.prototype.hide=function(){},Object.defineProperty(e.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!0,configurable:!0}),e.prototype.willShow=function(t){this.mFormData=t},e.prototype.onShow=function(t){},e.prototype.willHide=function(t){},e.prototype.onHide=function(t){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.hideAnim=function(t){t()},e}(cc.Component);o.default=i,cc._RF.pop()},{}],UIMapping:[function(t,e,o){"use strict";cc._RF.push(e,"5e042GcQQtOk55gw65Q4pdC","UIMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.convertUIName=function(t){if(!t)return console.warn("convertUIName fail  mappingForm is null "),null;var e=moosnow.getAppPlatform();return t[e]?t[e]:t[moosnow.APP_PLATFORM.WX]?t[moosnow.APP_PLATFORM.WX]:(console.warn("convertUIName fail ",t),null)},t}();o.default=n,cc._RF.pop()},{}],UIModule:[function(t,e,o){"use strict";cc._RF.push(e,"e3d6cLJsAlEl6bH2Hmt3TvI","UIModule");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(){return function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0}}(),u=t("./BaseModule"),p=t("../ui/UIForm"),l=t("../ui/ToastForm"),h=t("../../utils/Common"),d=function(t){function e(){var e=t.call(this)||this;return e.rootCanvas=null,e.adForm=null,e.adFormOPPO=null,e.adFormQQ=null,e.adFormTT=null,e.coinForm=null,e.easterEggFormTT=null,e.endForm=null,e.endFormOPPO=null,e.endFormTT=null,e.endFormVIVO=null,e.gameForm=null,e.homeForm=null,e.mistouchForm=null,e.mistouchFormQQ=null,e.mistouchFormTT=null,e.mistouchBoxFormQQ=null,e.openBoxFormTT=null,e.pauseForm=null,e.pauseFormOPPO=null,e.pauseFormTT=null,e.pauseFormVIVO=null,e.prevHomeForm=null,e.prizeForm=null,e.prizeFormTT=null,e.prizeFormQQ=null,e.respawnForm=null,e.respawnFormOPPO=null,e.respawnFormQQ=null,e.respawnFormTT=null,e.setForm=null,e.shareFormTT=null,e.skinForm=null,e.toastForm=null,e.totalForm=null,e.totalFormOPPO=null,e.totalFormVIVO=null,e.totalFormQQ=null,e.totalFormTT=null,e.tryForm=null,e.tryFormTT=null,e.layerIndex=0,e.UIRoot="",e.UIFormStack=[],e.cachedUIForms=[],e.mToastForm=null,e.layerIndex=0,e.UIRoot="prefab/ui/",e.UIFormStack=[],e.cachedUIForms=[],e.toastForm=null,e}return n(e,t),e.prototype.start=function(){this.rootCanvas=cc.Canvas.instance.node,Lite.ui=this},e.prototype.showToast=function(t){var e=this;null==this.mToastForm?this._createUINode("toastForm",1e3,function(o,n){cc.Canvas.instance.node.addChild(o),e.mToastForm=o.getComponent(l.default),o.zIndex=n,e.mToastForm.show(t)}):this.mToastForm.show(t)},e.prototype.showLoading=function(t){window.wx,moosnow.platform.showLoading(t)},e.prototype.hideLoading=function(){window.wx&&moosnow.platform.hideLoading()},e.prototype.showModal=function(t,e,o,n,i){window.wx&&moosnow.platform.showModal(t,e,o,n,i)},e.prototype.showModalWithoutCancel=function(t,e,o,n){window.wx&&moosnow.platform.showModalWithoutCancel(t,e,o,n)},e.prototype.pushUIForm=function(t,e,o){var n=this,i=this._getUINodeFromCacheByName(t);null==i?this._createUIFormModel(t,function(t){n._showUIForm(t,e),o&&o(t,e)}):(i.zIndex=this.layerIndex++,this.UIFormStack.push(i),this._showUIForm(i,e),o&&o(i,e))},e.prototype.pop=function(t,e){if(void 0===t&&(t=!1),0!=this.UIFormStack.length){var o=this.UIFormStack.pop();t?this._destroyUIForm(o,null):this._hideUIForm(o,null,e)}},e.prototype.getUIFrom=function(t){for(var e=0;e<this.UIFormStack.length;e++){var o=this.UIFormStack[e];if(o.name==t)return o.UIForm}},e.prototype.hideUIForm=function(t,e,o){for(var n=0;n<this.UIFormStack.length;n++){var i=this.UIFormStack[n];i.name==t&&this._hideUIForm(i,e,o)}},e.prototype.hideAllUIForm=function(){for(var t=this.UIFormStack.length-1;t>=0;t--){var e=this.UIFormStack[t];this._hideUIForm(e,null)}},e.prototype.destroyUIForm=function(t,e){for(var o=0;o<this.UIFormStack.length;o++){var n=this.UIFormStack[o];n.name==t&&this._destroyUIForm(n,e)}},e.prototype._formatUIFormName=function(t){return t.replace(/\//g,"_")},e.prototype._createUINode=function(t,e,o){var n=cc.instantiate(this[t]);o&&o(n,e)},e.prototype._createUIFormModel=function(t,e){var o=this,n=this,i=new a;i.name=t;var r=this.layerIndex++;i.zIndex=r,this.UIFormStack.push(i),this._createUINode(t,r,function(r,c){for(var s=0;s<n.UIFormStack.length;s++){var a=n.UIFormStack[s];if(a.zIndex==c&&a.name==r.name){if(null==r)return void o._removeStack(s);var u=r.getComponent(p.default);return u.formName=t,a.UIForm=u,a.node=r,void(e&&e(i))}}})},e.prototype._getUINodeFromCacheByName=function(t){for(var e=0;e<this.cachedUIForms.length;e++){var o=this.cachedUIForms[e];if(null!=o.node&&o.name==t)return this.cachedUIForms.splice(e,1),o}return null},e.prototype._showUIForm=function(t,e){if(cc.Canvas.instance.node.addChild(t.node),t.UIForm.willShow(e),t.node.active=!0,e&&!isNaN(e.zIndex)?t.node.zIndex=e.zIndex:t.node.zIndex=t.zIndex,t.UIForm.onShow(e),t.UIForm.isPopEffect){var o=t.node;h.default.popOpenAnim(o)}},e.prototype._hideUIForm=function(t,e,o){if(t.UIForm.willHide(e),t.UIForm.onHide(e),this._removeStack(t),this.cachedUIForms.push(t),t.UIForm.isPopEffect){var n=t.node;h.default.popCloseAnim(n).then(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})}else t.UIForm.hideAnim(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})},e.prototype._destroyUIForm=function(t,e){t.UIForm.willHide(e),t.node.removeFromParent(),t.UIForm.onHide(e),t.node.active=!1,this._removeStack(t),t.node.destroy()},e.prototype._removeStack=function(t){var e=this;isNaN(t)?this.UIFormStack.forEach(function(o,n){o==t&&e.UIFormStack.splice(n,1)}):this.UIFormStack.splice(t,1)},i([s(cc.Node)],e.prototype,"rootCanvas",void 0),i([s(cc.Prefab)],e.prototype,"adForm",void 0),i([s(cc.Prefab)],e.prototype,"adFormOPPO",void 0),i([s(cc.Prefab)],e.prototype,"adFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"adFormTT",void 0),i([s(cc.Prefab)],e.prototype,"coinForm",void 0),i([s(cc.Prefab)],e.prototype,"easterEggFormTT",void 0),i([s(cc.Prefab)],e.prototype,"endForm",void 0),i([s(cc.Prefab)],e.prototype,"endFormOPPO",void 0),i([s(cc.Prefab)],e.prototype,"endFormTT",void 0),i([s(cc.Prefab)],e.prototype,"endFormVIVO",void 0),i([s(cc.Prefab)],e.prototype,"gameForm",void 0),i([s(cc.Prefab)],e.prototype,"homeForm",void 0),i([s(cc.Prefab)],e.prototype,"mistouchForm",void 0),i([s(cc.Prefab)],e.prototype,"mistouchFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"mistouchFormTT",void 0),i([s(cc.Prefab)],e.prototype,"mistouchBoxFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"openBoxFormTT",void 0),i([s(cc.Prefab)],e.prototype,"pauseForm",void 0),i([s(cc.Prefab)],e.prototype,"pauseFormOPPO",void 0),i([s(cc.Prefab)],e.prototype,"pauseFormTT",void 0),i([s(cc.Prefab)],e.prototype,"pauseFormVIVO",void 0),i([s(cc.Prefab)],e.prototype,"prevHomeForm",void 0),i([s(cc.Prefab)],e.prototype,"prizeForm",void 0),i([s(cc.Prefab)],e.prototype,"prizeFormTT",void 0),i([s(cc.Prefab)],e.prototype,"prizeFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"respawnForm",void 0),i([s(cc.Prefab)],e.prototype,"respawnFormOPPO",void 0),i([s(cc.Prefab)],e.prototype,"respawnFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"respawnFormTT",void 0),i([s(cc.Prefab)],e.prototype,"setForm",void 0),i([s(cc.Prefab)],e.prototype,"shareFormTT",void 0),i([s(cc.Prefab)],e.prototype,"skinForm",void 0),i([s(cc.Prefab)],e.prototype,"toastForm",void 0),i([s(cc.Prefab)],e.prototype,"totalForm",void 0),i([s(cc.Prefab)],e.prototype,"totalFormOPPO",void 0),i([s(cc.Prefab)],e.prototype,"totalFormVIVO",void 0),i([s(cc.Prefab)],e.prototype,"totalFormQQ",void 0),i([s(cc.Prefab)],e.prototype,"totalFormTT",void 0),i([s(cc.Prefab)],e.prototype,"tryForm",void 0),i([s(cc.Prefab)],e.prototype,"tryFormTT",void 0),e=i([c],e)}(u.default);o.UIModule=d,cc._RF.pop()},{"../../utils/Common":"Common","../ui/ToastForm":"ToastForm","../ui/UIForm":"UIForm","./BaseModule":"BaseModule"}],Utils3D:[function(t,e,o){"use strict";cc._RF.push(e,"9069ev5EyNPCJEfP+ealmqy","Utils3D"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.distance3D=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))},Object.defineProperty(t,"defalutVec3",{get:function(){var t=this.mDefalutVec3||(this.mDefalutVec3=new Laya.Vector3);return t.toDefault(),t},enumerable:!0,configurable:!0}),t.setToVec3=function(t,e,o,n){return t.x=e,t.y=o,t.z=n,t},t.position=function(t,e,o,n){var i=t.transform.position;i.x=e,i.y=o,i.z=n,t.transform.position=i},t.localPosition=function(t,e,o,n){var i=t.transform.localPosition;i.x=e,i.y=o,i.z=n,t.transform.localPosition=t.transform.localPosition},t.localPositionByVec3=function(t,e){var o=t.transform.localPosition;o.x=e.x,o.y=e.y,o.z=e.z,t.transform.localPosition=t.transform.localPosition},t.rotation=function(t,e,o,n){var i=this.setToVec3(this.defalutVec3,e,o,n),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationByVec3=function(t,e){var o=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(e.y/o,e.x/o,e.z/o,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.positionX=function(t,e){t.transform.position.x=e,t.transform.position=t.transform.position},t.positionY=function(t,e){t.transform.position.y=e,t.transform.position=t.transform.position},t.positionZ=function(t,e){var o=t.transform.position;return o.z=e,t.transform.position=t.transform.position,o.z},t.localPositionX=function(t,e){t.transform.localPosition.x=e,t.transform.localPosition=t.transform.localPosition},t.localPositionY=function(t,e){t.transform.localPosition.y=e,t.transform.localPosition=t.transform.localPosition},t.localPositionZ=function(t,e){var o=t.transform.localPosition;return o.z=e,t.transform.localPosition=t.transform.localPosition,o.z},t.rotationX=function(t,e){var o=this.setToVec3(this.defalutVec3,e,0,0),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationY=function(t,e){var o=t.transform||t._transform,n=this.setToVec3(this.defalutVec3,0,e,0),i=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(n.y/i,n.x/i,n.z/i,o.localRotation),o.localRotation=o.localRotation},t.rotationYBy=function(t,e){var o=t.transform||t._transform,n=o.position.y,i=this.setToVec3(this.defalutVec3,0,e+n,0),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,o.localRotation),o.localRotation=o.localRotation},t.rotationZ=function(t,e){var o=this.setToVec3(this.defalutVec3,0,0,e),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.tweenScale=function(t,e,o,n,i,r,c,s,a){var u=this;return void 0===a&&(a=null),new Promise(function(a){var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,Laya.Ease.bounceOut,Laya.Handler.create(u,function(){a()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.scale(t,p.x,p.y,p.z):a()},null,!1)})},t.scale=function(t,e,o,n){var i=t.transform.scale;i.x=e,i.y=o,i.z=n,t.transform.scale=i},t.scaleByVec3=function(t,e){t.transform.scale=e},t.scaleX=function(t,e){t.transform.scale.x=e,t.transform.scale=t.transform.scale},t.scaleY=function(t,e){t.transform.scale.y=e,t.transform.scale=t.transform.scale},t.scaleZ=function(t,e){t.transform.scale.z=e,t.transform.scale=t.transform.scale},t.tweenRotate=function(t,e,o,n,i,r,c,s){},t.rotateEuler=function(t,e,o,n,i,r,c,s){var a=this;return new Promise(function(u){var p=new Laya.Vector3;a.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,null,Laya.Handler.create(a,function(){u()})).update=new Laya.Handler(a,function(){t.transform&&(t.transform.rotationEuler=p)},null,!1)})},t.tweenRotateByLayTween=function(t,e,o,n,i,r,c,s){var a=this,u=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(u,o,n,i),Laya.Tween.to(u,{x:r,y:c,z:s},e).update=new Laya.Handler(this,function(){t.transform&&a.rotationByVec3(t,u)},null,!1)},t.tweenLocalRotate=function(t,e,o,n,i,r,c,s){},t.tweenLocalPosition=function(t,e,o,n,i,r,c,s,a){var u=this;void 0===a&&(a=null);var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:c,z:s},e,a).update=Laya.Handler.create(this,function(){t.transform&&u.localPosition(t,p.x,p.y,p.z)},null,!1)},t.tweenLocalPositionPromise=function(t,e,o,n,i,r,c,s,a){var u=this;return void 0===a&&(a=null),new Promise(function(p){var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:c,z:s},e,a,Laya.Handler.create(u,function(){p()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.localPosition(t,l.x,l.y,l.z):p()},null,!1)})},t.tweenPosition=function(t,e,o,n,i,r,c,s,a,u){var p=this;return void 0===a&&(a=null),void 0===u&&(u=null),new Promise(function(l){var h=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);p.setToVec3(h,o,n,i),Laya.Tween.to(h,{x:r,y:c,z:s},e,a,Laya.Handler.create(p,function(){l()}),0,!1,!0).update=Laya.Handler.create(p,function(){t.transform?(p.position(t,h.x,h.y,h.z),u&&u.runWith(h)):l()},null,!1)})},t.tweenRotationY=function(t,e,o,n,i,r){var c=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);c.setToVec3(s,0,o,0),Laya.Tween.to(s,{x:0,y:n,z:0},e,i,Laya.Handler.create(c,function(){r()})).update=Laya.Handler.create(c,function(){t.transform&&c.rotationY(t,s.y)},null,!1)})},t.tweenRotationX=function(t,e,o,n,i,r){var c=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var s=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);c.setToVec3(s,o,0,0),Laya.Tween.to(s,{x:n,y:0,z:0},e,i,Laya.Handler.create(c,function(){r()})).update=Laya.Handler.create(c,function(){t.transform&&c.rotationX(t,s.y)},null,!1)})},t.tweenRotation=function(t,e,o,n,i,r,c,s,a,u){var p=this;void 0===a&&(a=null),void 0===u&&(u=null);var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:c,z:s},e,a).update=Laya.Handler.create(this,function(){t.transform&&p.rotation(t,l.x,l.y,l.z)},null,!1)},t}();o.Utils3D=n,cc._RF.pop()},{}],WaitingShow:[function(t,e,o){"use strict";cc._RF.push(e,"bf087t9CVFMXo4G+LQyaXD6","WaitingShow");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.waiting=2,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.targetNode&&(this.targetNode.active=!1,this.scheduleOnce(function(){t.targetNode.active=!0},this.waiting))},i([s(cc.Node)],e.prototype,"targetNode",void 0),i([s],e.prototype,"waiting",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],adFormOPPO:[function(t,e,o){"use strict";cc._RF.push(e,"e08e82l9ntBd5Y/1hxL4hgL","adFormOPPO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../enum/AdType"),a=t("../../utils/EventType"),u=t("../../utils/Common"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=t.call(this)||this;return e.drawerContainer=null,e.drawerView=null,e.drawerLayout=null,e.drawerShow=null,e.drawerHide=null,e.gameContainer=null,e.exportMask=null,e.respawnContainer=null,e.respawnScrollView=null,e.respawnLayout=null,e.endContainer=null,e.endView=null,e.endLayout=null,e.gameOverContainer=null,e.gameOverView=null,e.gameOverLayout=null,e.exportCloseTxt=null,e.exportClose=null,e.isMask=!1,e.isPopEffect=!1,e.mAdItemList=[],e.mAdListBannerItem="adListBannerItem",e.mAdListCenterItem="adListCenterItem",e.mAdListExportItem="adListExportItem",e.mAdListLeftItem="adListLeftItem",e.mAdFloatLeftItem1="adFloatLeftItem1",e.mAdFloatLeftItem2="adFloatLeftItem2",e.mAdFloatLeftItem3="adFloatLeftItem3",e.mAdListEndItem1="adListEndItem",e.mEndLogic=[],e.mFloatIndex=0,e.mFloatRefresh=3,e.mFloatCache={},e.mScrollVec=[],e.mMoveSpeed=2,e.mZindex=99999,e.mPositionName="",e.mShowAd=s.AdType.NONE,e.mSecond=3,e}return n(e,t),e.prototype.initDrawer=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u7ed3\u675f\u9875\u5bfc\u51fa");this.initView(this.drawerView,this.drawerLayout,t,this.mAdListBannerItem)},e.prototype.initRespawnAd=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u590d\u6d3b\u9875");this.initView(this.respawnScrollView,this.respawnLayout,t,this.mAdListExportItem)},e.prototype.initEndExport=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u7ed3\u675f\u9875\u5bfc\u51fa");this.initView(this.endView,this.endLayout,t,this.mAdListBannerItem)},e.prototype.setPosition=function(t,e){void 0===e&&(e="");var o=u.default.deepCopy(t);return o.forEach(function(t){t.position=e}),o},e.prototype.initGameOverExport=function(t){void 0===t&&(t=!1);var e=this.setPosition(this.mAdData.indexLeft,(t?"\u80dc\u5229":"\u5931\u8d25")+"\u6e38\u620f\u7ed3\u675f\u9875HOT\u4e09\u79d2");this.initView(this.gameOverView,this.gameOverLayout,e,this.mAdListExportItem)},e.prototype.initFloatAd=function(){var t=this,e=this.mAdData.indexLeft,o=(this.mAdFloatLeftItem1,this.mAdFloatLeftItem2,this.mAdFloatLeftItem1,this.mAdFloatLeftItem3,0);this.gameContainer.children.forEach(function(n,r){if(-1!=n.name.indexOf("ad")){o++;var c=i({},e[0],{position:"\u6e38\u620f\u4e2d"}),s=t.mAdFloatLeftItem1,a=Lite.entity.showEntity(s,n,c);t.mFloatCache[r]={index:o,logic:a},t.floatAnim(n)}}),this.updateFloat(),this.schedule(this.updateFloat,this.mFloatRefresh)},e.prototype.floatAnim=function(t){t.runAction(cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever())},e.prototype.updateFloat=function(){for(var t in this.mFloatCache){var e=this.mFloatCache[t].index,o=this.mFloatCache[t].logic;e<this.mAdData.indexLeft.length-1?e++:e=0,this.mFloatCache[t].index=e,o.refreshImg(i({},this.mAdData.indexLeft[e],{onCancel:this.mFloatCache[t].onCancel}))}},e.prototype.initView=function(t,e,o,n){var i=this;n||(n=this.mAdListBannerItem);o.forEach(function(t,o){var r=Lite.entity.showEntity(n,e.node,t),c=r.node;c.width,c.height,c.width,c.height,i.mAdItemList.push(r)}),e.type==cc.Layout.Type.GRID?t.vertical?this.mScrollVec.push({scrollView:t,move2Up:!1}):this.mScrollVec.push({scrollView:t,move2Left:!1}):e.type==cc.Layout.Type.HORIZONTAL?this.mScrollVec.push({scrollView:t,move2Left:!1}):e.type==cc.Layout.Type.VERTICAL&&this.mScrollVec.push({scrollView:t,move2Up:!1})},e.prototype.scrollToBottom=function(t,e){t.scrollToBottom(e)},e.prototype.scrollToTop=function(t,e){t.scrollToTop(e)},e.prototype.update=function(t){for(var e=0;e<this.mScrollVec.length;e++){var o=this.mScrollVec[e],n=o.scrollView;if(!n.isScrolling()){var i=n.getMaxScrollOffset(),r=i.y/2+20,c=i.x/2+20,s=n.getContentPosition();1==o.move2Up?(s.y>r&&(o.move2Up=!1),o.scrollView.setContentPosition(new cc.Vec2(s.x,s.y+this.mMoveSpeed))):0==o.move2Up&&(s.y<-r&&(o.move2Up=!0),o.scrollView.setContentPosition(new cc.Vec2(s.x,s.y-this.mMoveSpeed))),1==o.move2Left?(s.x>c&&(o.move2Left=!1),o.scrollView.setContentPosition(new cc.Vec2(s.x+this.mMoveSpeed,s.y))):0==o.move2Left&&(s.x<-c&&(o.move2Left=!0),o.scrollView.setContentPosition(new cc.Vec2(s.x-this.mMoveSpeed,s.y)))}}},e.prototype.onAdChange=function(t){this.displayChange(t.showAd,t.callback),isNaN(t.zIndex)?this.node.zIndex=this.mZindex:this.node.zIndex=t.zIndex,this.mPositionName=t.position},e.prototype.displayChange=function(t,e){var o=this;void 0===e&&(e=null),this.mShowAd=t,this.mBackCall=e,moosnow.platform.checkVersion("",function(t){if(!t)return o.displayAd(!1),void o.onBack();moosnow.http.getAllConfig(function(t){t&&1==t.zs_jump_switch&&(o.hasAd(s.AdType.GAME)||o.hasAd(s.AdType.FLOAT)||o.hasAd(s.AdType.RESPAWN)||o.hasAd(s.AdType.END)||o.hasAd(s.AdType.GAMEOVER_WIN)||o.hasAd(s.AdType.GAMEOVER_FAIL))?o.displayAd(!0):(o.displayAd(!1),o.onBack())})})},e.prototype.showFull=function(){var t=this,e=this.mShowAd,o=this.mBackCall;this.mShowAd=s.AdType.EXPORT,this.displayChange(s.AdType.EXPORT,function(){t.displayChange(e,o)})},e.prototype.addAd=function(t){this.mShowAd|=t},e.prototype.removeAd=function(t){this.hasAd(t)&&(this.mShowAd^=t)},e.prototype.hasAd=function(t){return(this.mShowAd&t)==t},e.prototype.addEvent=function(){this.exportClose.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.drawerShow.on(cc.Node.EventType.TOUCH_END,this.drawerOut,this),this.drawerHide.on(cc.Node.EventType.TOUCH_END,this.drawerIn,this),Lite.event.addListener(a.default.ADFORM_CHANGE,this,this.onAdChange)},e.prototype.removeEvent=function(){this.exportClose.off(cc.Node.EventType.TOUCH_END,this.onBack,this),this.drawerShow.off(cc.Node.EventType.TOUCH_END,this.drawerOut,this),this.drawerHide.off(cc.Node.EventType.TOUCH_END,this.drawerIn,this),Lite.event.removeListener(a.default.ADFORM_CHANGE,this)},e.prototype.drawerOut=function(){var t=this,e=moosnow.platform.getSystemInfoSync(),o=0,n=0;e&&(o=e.statusBarHeight||0,n=e.notchHeight||0),this.drawerView.node.runAction(cc.sequence(cc.moveTo(1,o+n+this.drawerView.node.width+20,0),cc.callFunc(function(){t.drawerShow.active=!1,t.drawerHide.active=!0})))},e.prototype.drawerIn=function(){var t=this;this.drawerView.node.runAction(cc.sequence(cc.moveTo(1,0,0),cc.callFunc(function(){t.drawerShow.active=!0,t.drawerHide.active=!1})))},e.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},e.prototype.onConfirm=function(){this.onClose()},e.prototype.onClose=function(){},e.prototype.willShow=function(t){this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),this.displayChange(t.showAd,t.callback)},e.prototype.onShow=function(t){var e=this;moosnow.ad.getAd(function(t){e.mAdData=t,console.log("\u683c\u5f0f\u5316\u540e\u7684\u6570\u636e",t),0!=t.indexLeft.length?(e.initRespawnAd(),e.initFloatAd(),e.initDrawer(),e.initEndExport()):e.displayAd(!1)})},e.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(t){Lite.entity.hideEntity(t,null)}),this.mAdItemList=[],this.mScrollVec=[]},e.prototype.showExportClose=function(){this.mSecond-=1,this.exportCloseTxt.active=!0;var t=this.exportCloseTxt.getComponent(cc.Label);if(this.mSecond<=0)return this.exportClose.active=!0,this.exportCloseTxt.active=!1,void this.unschedule(this.showExportClose);t.string="\u5269\u4f59"+this.mSecond+"\u79d2\u53ef\u5173\u95ed"},e.prototype.displayAd=function(t){this.drawerContainer.active=t&&this.hasAd(s.AdType.FLOAT),this.gameContainer.active=t&&this.hasAd(s.AdType.GAME),this.respawnContainer.active=t&&this.hasAd(s.AdType.RESPAWN),this.exportMask.active=t&&this.hasAd(s.AdType.MASK),this.gameOverContainer.active=t&&this.hasAd(s.AdType.END),this.gameOverContainer.active&&this.initGameOverExport(),t&&this.hasAd(s.AdType.BACK)?this.hasAd(s.AdType.WAIT)?(this.mSecond=3,this.showExportClose(),this.schedule(this.showExportClose,1),this.exportClose.active=!0,this.exportCloseTxt.active=!1):(this.exportClose.active=!0,this.exportCloseTxt.active=!1):(this.exportClose.active=!1,this.exportCloseTxt.active=!1)},r([h(cc.Node)],e.prototype,"drawerContainer",void 0),r([h(cc.ScrollView)],e.prototype,"drawerView",void 0),r([h(cc.Layout)],e.prototype,"drawerLayout",void 0),r([h(cc.Node)],e.prototype,"drawerShow",void 0),r([h(cc.Node)],e.prototype,"drawerHide",void 0),r([h(cc.Node)],e.prototype,"gameContainer",void 0),r([h(cc.Node)],e.prototype,"exportMask",void 0),r([h(cc.Node)],e.prototype,"respawnContainer",void 0),r([h(cc.ScrollView)],e.prototype,"respawnScrollView",void 0),r([h(cc.Layout)],e.prototype,"respawnLayout",void 0),r([h(cc.Node)],e.prototype,"endContainer",void 0),r([h(cc.ScrollView)],e.prototype,"endView",void 0),r([h(cc.Layout)],e.prototype,"endLayout",void 0),r([h(cc.Node)],e.prototype,"gameOverContainer",void 0),r([h(cc.ScrollView)],e.prototype,"gameOverView",void 0),r([h(cc.Layout)],e.prototype,"gameOverLayout",void 0),r([h(cc.Node)],e.prototype,"exportCloseTxt",void 0),r([h(cc.Node)],e.prototype,"exportClose",void 0),e=r([l],e)}(c.default);o.default=d,cc._RF.pop()},{"../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],adFormQQ:[function(t,e,o){"use strict";cc._RF.push(e,"8c7dfKje2FMPZaSKKu9At8H","adFormQQ");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../enum/AdType"),s=t("../../utils/EventType"),a=cc._decorator,u=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mAdItemList=[],e.mScrollVec=[],e.mShowAd=c.AdType.NONE,e}return n(e,t),e.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},e.prototype.willShow=function(t){this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),this.displayChange(t.showAd,t.callback)},e.prototype.addEvent=function(){Lite.event.addListener(s.default.ADFORM_CHANGE,this,this.onAdChange)},e.prototype.removeEvent=function(){Lite.event.removeListener(s.default.ADFORM_CHANGE,this)},e.prototype.onAdChange=function(t){this.displayChange(t.showAd,t.callback)},e.prototype.displayChange=function(t,e){void 0===e&&(e=null),this.mShowAd=t,this.mBackCall=e,this.onBack()},e.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(t){Lite.entity.hideEntity(t,null)}),this.mAdItemList=[],this.mScrollVec=[]},e=i([u],e)}(r.default));o.default=p,cc._RF.pop()},{"../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],adFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"7ac80CcXvZFnrRjbMNJz8Wp","adFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../enum/AdType"),c=t("./baseAdForm"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftRightContainer=null,e.leftView=null,e.leftLayout=null,e.rightView=null,e.rightLayout=null,e.mShowAd=r.AdType.NONE,e}return n(e,t),e.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},e.prototype.displayChange=function(t,e){var o=this;void 0===e&&(e=null),this.mShowAd=t,this.mBackCall=e,moosnow.platform.checkVersion("",function(t){if(!t)return o.displayAd(!1),void o.onBack();moosnow.http.getAllConfig(function(t){t&&1==t.mx_jump_switch&&o.hasAd(r.AdType.END)?o.displayAd(!0):(o.displayAd(!1),o.onBack())})})},e.prototype.hasAd=function(t){return(this.mShowAd&t)==t},e.prototype.displayAd=function(t){this.leftRightContainer.active=t&&this.hasAd(r.AdType.END)},e.prototype.initAd=function(t){var e=t.indexLeft.slice(),o=e.length/2,n=e.slice(0,o),i=e.slice(o,e.length);n=this.setPosition(n,"banner"),i=this.setPosition(i,"banner"),this.initView(this.leftView,this.leftLayout,i,this.mAdListLeftItem),this.initView(this.rightView,this.rightLayout,n,this.mAdListLeftItem)},i([u(cc.Node)],e.prototype,"leftRightContainer",void 0),i([u(cc.ScrollView)],e.prototype,"leftView",void 0),i([u(cc.Layout)],e.prototype,"leftLayout",void 0),i([u(cc.ScrollView)],e.prototype,"rightView",void 0),i([u(cc.Layout)],e.prototype,"rightLayout",void 0),e=i([a],e)}(c.default);o.default=p,cc._RF.pop()},{"../../enum/AdType":"AdType","./baseAdForm":"baseAdForm"}],adForm:[function(t,e,o){"use strict";cc._RF.push(e,"f8733kEJu9LFpyyVBtzAMun","adForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../enum/AdType"),a=t("../../utils/EventType"),u=t("../../utils/Common"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=t.call(this)||this;return e.centerContainer=null,e.centerView=null,e.centerLayout=null,e.leftRightContainer=null,e.leftContainer=null,e.leftView=null,e.rightContainer=null,e.rightView=null,e.exportContainer=null,e.exportView=null,e.exportLayout=null,e.exportClose=null,e.exportMask=null,e.exportCloseTxt=null,e.floatContainer=null,e.floatFull=null,e.bannerContainer=null,e.bannerView=null,e.bannerLayout=null,e.beforeBg=null,e.beforeContainer=null,e.beforeView=null,e.btnToGame=null,e.btnBack=null,e.gameExportMask=null,e.gameExportContainer=null,e.gameView=null,e.gameContinue=null,e.endContainer=null,e.endLayout=null,e.endContinue=null,e.isMask=!1,e.isPopEffect=!1,e.mAdItemList=[],e.mAdListBannerItem="adListBannerItem",e.mAdListCenterItem="adListCenterItem",e.mAdListExportItem="adListExportItem",e.mAdListLeftItem="adListLeftItem",e.mAdFloatLeftItem1="adFloatLeftItem1",e.mAdFloatLeftItem2="adFloatLeftItem2",e.mAdFloatLeftItem3="adFloatLeftItem3",e.mAdListEndItem1="adListEndItem",e.mEndLogic=[],e.mFloatIndex=0,e.mFloatRefresh=3,e.mFloatCache={},e.mScrollVec=[],e.mMoveSpeed=2,e.mZindex=99999,e.mShowAd=s.AdType.NONE,e.mSecond=3,e.bannerX=0,e}return n(e,t),e.prototype.initLeftRightAd=function(){var t=this.mAdData.indexLeft,e=t.length/2,o=t.slice(0,e),n=t.slice(e,t.length);o=this.setPosition(o,"banner"),n=this.setPosition(n,"banner"),this.initView(this.leftView,n,this.mAdListLeftItem),this.initView(this.rightView,o,this.mAdListLeftItem)},e.prototype.initBannerAd=function(){var t=this.setPosition(this.mAdData.indexLeft,"banner");this.initView(this.bannerLayout,t,this.mAdListBannerItem)},e.prototype.initCenterAd=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u7ed3\u675f\u4e2d\u95f4");this.initView(this.centerLayout,t,this.mAdListExportItem)},e.prototype.initBeforeGame=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u6e38\u620f\u5f00\u59cb\u524d");this.initView(this.beforeView,t,this.mAdListCenterItem)},e.prototype.initGameExport=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u6e38\u620f\u4e2d");this.initView(this.gameView,t,this.mAdListExportItem)},e.prototype.initExportAd=function(){var t=this.setPosition(this.mAdData.indexLeft,"\u5927\u5bfc\u51fa");this.initView(this.exportLayout,t,this.mAdListExportItem)},e.prototype.setPosition=function(t,e){return void 0===e&&(e=""),t.forEach(function(t){t.position=e}),t},e.prototype.initEndExport=function(){var t=this;if(0!=this.mAdData.indexLeft.length){if(this.mEndLogic){for(var e=0;e<this.mEndLogic.length;e++)Lite.entity.hideEntity(this.mEndLogic[e],{});this.mEndLogic=[]}var o=this.mAdData.indexLeft.slice(),n=[],r=[];for(e=0;e<6;e++){var c=o.splice(u.default.randomNumBoth(0,o.length-1),1)[0];r.push(c.appid),n.push(c)}n.forEach(function(e){var n=i({},e,{showAppId:r,source:o,position:"\u7ed3\u675f\u9875"}),c=Lite.entity.showEntity(t.mAdListEndItem1,t.endLayout,n);t.mEndLogic.push(c)})}},e.prototype.floatCancel=function(){console.log("\u8df3\u8f6c\u53d6\u6d88\u56de\u8c03"),Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:s.AdType.EXPORT,callback:function(){Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:s.AdType.BANNER|s.AdType.FLOAT})}})},e.prototype.initFloatAd=function(){var t=this,e=this.mAdData.indexLeft,o=[this.mAdFloatLeftItem1,this.mAdFloatLeftItem2,this.mAdFloatLeftItem1,this.mAdFloatLeftItem3];this.floatContainer.children.forEach(function(n,r){if(-1!=n.name.indexOf("ad")){var c=r,s=i({},e[c]),a=o.length-1>=r?o[r]:o[0];-1!=[1,3].indexOf(r)&&(s.onCancel=t.floatCancel);var u=Lite.entity.showEntity(a,n,s);t.mFloatCache[r]={index:c,logic:u,onCancel:s.onCancel},t.floatAnim(n)}}),this.updateFloat(),this.schedule(this.updateFloat,this.mFloatRefresh)},e.prototype.floatAnim=function(t){t.runAction(cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever())},e.prototype.updateFloat=function(){for(var t in this.mFloatCache){var e=this.mFloatCache[t].index,o=this.mFloatCache[t].logic;e<this.mAdData.indexLeft.length-1?e++:e=0,this.mFloatCache[t].index=e,o.refreshImg(i({},this.mAdData.indexLeft[e],{onCancel:this.mFloatCache[t].onCancel}))}},e.prototype.initView=function(t,e,o){var n=this;o||(o=this.mAdListBannerItem);var i=0,r=0,c=0,s=0;e.forEach(function(e,a){var u=Lite.entity.showEntity(o,t,e),p=u.node;c=p.width,s=p.height,i+=p.width,r+=p.height,n.mAdItemList.push(u)});var a=t.getComponent(cc.Layout),u=t.parent.parent,p=u.getComponent(cc.ScrollView),l=p.getContentPosition();if(a.type==cc.Layout.Type.GRID)if(r=0,i=0,p.vertical){var h=Math.floor((p.content.width-a.paddingLeft-a.paddingRight)/(c+a.spacingX)),d=Math.ceil(e.length/h);(r+=d*(s+a.spacingY)+a.paddingTop+a.paddingBottom)>u.height&&(t.height=r);var f=(r-p.content.parent.height+a.paddingTop+a.paddingBottom)/2;p.setContentPosition(new cc.Vec2(l.x,-f)),this.mScrollVec.push({maxH:f,scrollView:p,move2Up:!1})}else{var m=Math.floor((p.content.height-a.paddingTop-a.paddingRight)/s),y=Math.ceil(e.length/m),v=((i=y*(c+a.spacingX)+a.paddingLeft+a.paddingRight)-p.content.parent.width+a.paddingLeft+a.paddingRight)/2;p.setContentPosition(new cc.Vec2(-v,l.y)),this.mScrollVec.push({maxW:v,scrollView:p,move2Left:!1})}else if(a.type==cc.Layout.Type.HORIZONTAL){v=((i+=(e.length-2)*a.spacingX+a.paddingLeft+a.paddingRight)-p.content.parent.width+a.paddingLeft+a.paddingRight)/2;p.setContentPosition(new cc.Vec2(-v,l.y)),p.getContentPosition,this.mScrollVec.push({maxW:v,scrollView:p,move2Left:!1}),t.width=i}else if(a.type==cc.Layout.Type.VERTICAL){r+=(e.length-2)*a.spacingY+a.paddingTop+a.paddingBottom,t.height=r;f=(r-p.content.parent.height+a.paddingTop+a.paddingBottom)/2;p.setContentPosition(new cc.Vec2(l.x,-f)),this.mScrollVec.push({maxH:f,scrollView:p,move2Up:!1})}},e.prototype.scrollToBottom=function(t,e){t.scrollToBottom(e)},e.prototype.scrollToTop=function(t,e){t.scrollToTop(e)},e.prototype.update=function(t){for(var e=0;e<this.mScrollVec.length;e++){var o=this.mScrollVec[e],n=o.scrollView;if(!n.isScrolling()){var i=n.getContentPosition();1==o.move2Up?(i.y>o.maxH&&(o.move2Up=!1),o.scrollView.setContentPosition(new cc.Vec2(i.x,i.y+this.mMoveSpeed))):0==o.move2Up&&(i.y<-o.maxH&&(o.move2Up=!0),o.scrollView.setContentPosition(new cc.Vec2(i.x,i.y-this.mMoveSpeed))),1==o.move2Left?(i.x>o.maxW&&(o.move2Left=!1),o.scrollView.setContentPosition(new cc.Vec2(i.x+this.mMoveSpeed,i.y))):0==o.move2Left&&(i.x<-o.maxW&&(o.move2Left=!0),o.scrollView.setContentPosition(new cc.Vec2(i.x-this.mMoveSpeed,i.y)))}}},e.prototype.onAdChange=function(t){this.displayChange(t.showAd,t.callback),isNaN(t.zIndex)?this.node.zIndex=this.mZindex:this.node.zIndex=t.zIndex},e.prototype.showFull=function(){var t=this,e=this.mShowAd,o=this.mBackCall;this.mShowAd=s.AdType.EXPORT,this.displayChange(s.AdType.EXPORT,function(){t.displayChange(e,o)})},e.prototype.displayChange=function(t,e){void 0===e&&(e=null),this.mShowAd=t,this.displayAd(!1),this.mBackCall=e,this.onBack()},e.prototype.addAd=function(t){this.mShowAd|=t},e.prototype.removeAd=function(t){this.hasAd(t)&&(this.mShowAd^=t)},e.prototype.hasAd=function(t){return(this.mShowAd&t)==t},e.prototype.displayAd=function(t){var e=this;this.exportClose.active=this.exportContainer.active=t&&this.hasAd(s.AdType.EXPORT),t&&this.hasAd(s.AdType.EXPORT)&&(moosnow.http.getAllConfig(function(t){1==t.exportAutoNavigate&&moosnow.platform.navigate2Mini(e.mAdData.indexLeft[u.default.randomNumBoth(0,e.mAdData.indexLeft.length-1)])}),this.exportClose.active=!1,this.unschedule(this.showExportClose),this.schedule(this.showExportClose,1)),this.centerContainer.active=t&&this.hasAd(s.AdType.CENTER),this.floatContainer.active=t&&this.hasAd(s.AdType.FLOAT),this.beforeBg.active=this.beforeContainer.active=t&&this.hasAd(s.AdType.BEFORE),this.bannerContainer.active=t&&this.hasAd(s.AdType.BANNER),this.gameExportMask.active=this.gameExportContainer.active=t&&this.hasAd(s.AdType.GAME),this.endContainer.active=t&&this.hasAd(s.AdType.END),this.endContainer.active&&this.initEndExport(),this.endContinue.active=!1,this.unschedule(this.onWaitShow),this.schedule(this.onWaitShow,2),this.exportMask.active=this.beforeContainer.active||this.exportContainer.active||this.gameExportMask.active},e.prototype.showExportClose=function(){this.mSecond-=1,this.exportCloseTxt.active=!0;var t=this.exportCloseTxt.getComponent(cc.Label);if(this.mSecond<=0)return this.exportCloseTxt.active=!1,this.exportClose.active=!0,void this.unschedule(this.showExportClose);t.string="\u5269\u4f59"+this.mSecond+"\u79d2\u53ef\u5173\u95ed"},e.prototype.addEvent=function(){this.btnBack.on(cc.Node.EventType.TOUCH_START,this.onBack,this),this.exportClose.on(cc.Node.EventType.TOUCH_START,this.onBack,this),this.floatFull.on(cc.Node.EventType.TOUCH_START,this.showFull,this),this.btnToGame.on(cc.Node.EventType.TOUCH_START,this.onBack,this),this.gameContinue.on(cc.Node.EventType.TOUCH_START,this.onBack,this),this.endContinue.on(cc.Node.EventType.TOUCH_START,this.onBack,this),Lite.event.addListener(a.default.ADFORM_CHANGE,this,this.onAdChange)},e.prototype.removeEvent=function(){this.btnBack.off(cc.Node.EventType.TOUCH_START,this.onBack,this),this.exportClose.off(cc.Node.EventType.TOUCH_START,this.onBack,this),this.floatFull.off(cc.Node.EventType.TOUCH_START,this.showFull,this),this.btnToGame.off(cc.Node.EventType.TOUCH_START,this.onBack,this),this.gameContinue.off(cc.Node.EventType.TOUCH_START,this.onBack,this),this.endContinue.off(cc.Node.EventType.TOUCH_START,this.onBack,this),Lite.event.removeListener(a.default.ADFORM_CHANGE,this)},e.prototype.onWaitShow=function(){this.endContinue.active=!0},e.prototype.onBack=function(){this.mBackCall&&this.mBackCall()},e.prototype.onConfirm=function(){this.onClose()},e.prototype.onClose=function(){},e.prototype.willShow=function(t){this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),this.displayChange(t.showAd,t.callback)},e.prototype.onShow=function(t){var e=this;moosnow.ad.getAd(function(t){e.mAdData=t,console.log("this.mAdData ",e.mAdData),e.initBannerAd(),e.initLeftRightAd(),e.initFloatAd(),e.initExportAd(),e.initCenterAd(),e.initBeforeGame(),e.initGameExport(),e.initEndExport()})},e.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(t){Lite.entity.hideEntity(t,null)}),this.mAdItemList=[],this.mScrollVec=[]},r([h(cc.Node)],e.prototype,"centerContainer",void 0),r([h(cc.Node)],e.prototype,"centerView",void 0),r([h(cc.Node)],e.prototype,"centerLayout",void 0),r([h(cc.Node)],e.prototype,"leftRightContainer",void 0),r([h(cc.Node)],e.prototype,"leftContainer",void 0),r([h(cc.Node)],e.prototype,"leftView",void 0),r([h(cc.Node)],e.prototype,"rightContainer",void 0),r([h(cc.Node)],e.prototype,"rightView",void 0),r([h(cc.Node)],e.prototype,"exportContainer",void 0),r([h(cc.Node)],e.prototype,"exportView",void 0),r([h(cc.Node)],e.prototype,"exportLayout",void 0),r([h(cc.Node)],e.prototype,"exportClose",void 0),r([h(cc.Node)],e.prototype,"exportMask",void 0),r([h(cc.Node)],e.prototype,"exportCloseTxt",void 0),r([h(cc.Node)],e.prototype,"floatContainer",void 0),r([h(cc.Node)],e.prototype,"floatFull",void 0),r([h(cc.Node)],e.prototype,"bannerContainer",void 0),r([h(cc.Node)],e.prototype,"bannerView",void 0),r([h(cc.Node)],e.prototype,"bannerLayout",void 0),r([h(cc.Node)],e.prototype,"beforeBg",void 0),r([h(cc.Node)],e.prototype,"beforeContainer",void 0),r([h(cc.Node)],e.prototype,"beforeView",void 0),r([h(cc.Node)],e.prototype,"btnToGame",void 0),r([h(cc.Node)],e.prototype,"btnBack",void 0),r([h(cc.Node)],e.prototype,"gameExportMask",void 0),r([h(cc.Node)],e.prototype,"gameExportContainer",void 0),r([h(cc.Node)],e.prototype,"gameView",void 0),r([h(cc.Node)],e.prototype,"gameContinue",void 0),r([h(cc.Node)],e.prototype,"endContainer",void 0),r([h(cc.Node)],e.prototype,"endLayout",void 0),r([h(cc.Node)],e.prototype,"endContinue",void 0),e=r([l],e)}(c.default);o.default=d,cc._RF.pop()},{"../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],baseAdForm:[function(t,e,o){"use strict";cc._RF.push(e,"e5300WjbONLQJccBn8ADfv5","baseAdForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/EventType"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mAdListBannerItem="adListBannerItem",e.mAdListCenterItem="adListCenterItem",e.mAdListExportItem="adListExportItem",e.mAdListLeftItem="adListLeftItem",e.mAdFloatLeftItem1="adFloatLeftItem1",e.mAdFloatLeftItem2="adFloatLeftItem2",e.mAdFloatLeftItem3="adFloatLeftItem3",e.mAdListEndItem1="adListEndItem",e.mAdItemList=[],e.mScrollVec=[],e.mMoveSpeed=2,e.mZindex=99999,e}return n(e,t),e.prototype.initView=function(t,e,o,n){var i=this;n||(n=this.mAdListBannerItem);o.forEach(function(t,o){var r=Lite.entity.showEntity(n,e.node,t),c=r.node;c.width,c.height,c.width,c.height,i.mAdItemList.push(r)}),e.type==cc.Layout.Type.GRID?t.vertical?this.mScrollVec.push({scrollView:t,move2Up:!1}):this.mScrollVec.push({scrollView:t,move2Left:!1}):e.type==cc.Layout.Type.HORIZONTAL?this.mScrollVec.push({scrollView:t,move2Left:!1}):e.type==cc.Layout.Type.VERTICAL&&this.mScrollVec.push({scrollView:t,move2Up:!1})},e.prototype.setPosition=function(t,e){return void 0===e&&(e=""),t.forEach(function(t){t.position=e}),t},e.prototype.update=function(t){for(var e=0;e<this.mScrollVec.length;e++){var o=this.mScrollVec[e],n=o.scrollView;if(!n.isScrolling()){var i=n.getMaxScrollOffset(),r=i.y/2+20,c=i.x/2+20,s=n.getContentPosition();1==o.move2Up?(s.y>r&&(o.move2Up=!1),o.scrollView.setContentPosition(new cc.Vec2(s.x,s.y+this.mMoveSpeed))):0==o.move2Up&&(s.y<-r&&(o.move2Up=!0),o.scrollView.setContentPosition(new cc.Vec2(s.x,s.y-this.mMoveSpeed))),1==o.move2Left?(s.x>c&&(o.move2Left=!1),o.scrollView.setContentPosition(new cc.Vec2(s.x+this.mMoveSpeed,s.y))):0==o.move2Left&&(s.x<-c&&(o.move2Left=!0),o.scrollView.setContentPosition(new cc.Vec2(s.x-this.mMoveSpeed,s.y)))}}},e.prototype.onShow=function(t){var e=this;moosnow.ad.getAd(function(t){e.mAdData=t,e.initAd(t)})},e.prototype.initAd=function(t){},e.prototype.displayChange=function(t,e){void 0===e&&(e=null)},e.prototype.onAdChange=function(t){this.displayChange(t.showAd,t.callback),isNaN(t.zIndex)?this.node.zIndex=this.mZindex:this.node.zIndex=t.zIndex},e.prototype.addEvent=function(){Lite.event.addListener(c.default.ADFORM_CHANGE,this,this.onAdChange)},e.prototype.removeEvent=function(){Lite.event.removeListener(c.default.ADFORM_CHANGE,this)},e.prototype.willShow=function(t){this.mAdItemList=[],this.mScrollVec=[],this.addEvent(),this.displayChange(t.showAd,t.callback)},e.prototype.willHide=function(){this.removeEvent(),this.mAdItemList.forEach(function(t){Lite.entity.hideEntity(t,null)}),this.mAdItemList=[],this.mScrollVec=[]},e=i([a],e)}(r.default));o.default=u,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],coinForm:[function(t,e,o){"use strict";cc._RF.push(e,"386943jvoNI3J6gU6tGzCNG","coinForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../utils/Common"),a=t("../../utils/EventType"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onShow=function(t){var e=0;e=!t||isNaN(t.coinNum)?s.default.randomNumBoth(500,600):parseInt(t.coinNum),s.default.addCoin(this.node,e,function(){t&&s.default.isFunction(t.callback)&&t.callback(),Lite.ui.hideUIForm(c.default.CoinForm,null),Lite.event.sendEventImmediately(a.default.COIN_CHANGED,null),Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(a.default.GAME_STATE_START,Lite.myGame.currentLevel)})},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],easterEggFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"5fa214BlGhFMbxenbAegDGi","easterEggFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../../sheets/vo/EasterEgg"),a=t("../../utils/EventType"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eggBox=null,e.tipContainer=null,e.btnCloseTip=null,e.txtTip=null,e.btnClose=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.btnClose.on(cc.Node.EventType.TOUCH_END,function(){Lite.ui.hideUIForm(c.default.EasterEggForm,null)},this),this.btnCloseTip.on(cc.Node.EventType.TOUCH_END,function(){e.tipContainer.active=!1},this),Lite.event.addListener(a.default.EGG_TIP,this,function(t){var o=s.EasterEgg.get(t);e.txtTip.string="\u901a\u5173\u7b2c"+o.level+"\u5173\uff0c\u83b7\u5f97\u8be5\u76ae\u80a4",e.tipContainer.active=!0})},e.prototype.willShow=function(t){var e=this,o=s.EasterEgg.getAll();Lite.entity.hideAllEntity("easterEggItem"),o.forEach(function(t){Lite.entity.showEntity("easterEggItem",e.eggBox,t)})},i([l(cc.Node)],e.prototype,"eggBox",void 0),i([l(cc.Node)],e.prototype,"tipContainer",void 0),i([l(cc.Node)],e.prototype,"btnCloseTip",void 0),i([l(cc.Label)],e.prototype,"txtTip",void 0),i([l(cc.Node)],e.prototype,"btnClose",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../../sheets/vo/EasterEgg":"EasterEgg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],endFormOPPO:[function(t,e,o){"use strict";cc._RF.push(e,"52e91cQRc9OSJo8JJXl02wZ","endFormOPPO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./endForm"),c=t("../../../sheets/vo/LevelCfg"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!1,e}return n(e,t),e.prototype.onShow=function(t){var e=t.isWin,o=t.level;t.fail;if(t){var n=t.coin;if(isNaN(n))n=c.LevelCfg.get(this.FormData.level+1).coin;Lite.data.addCoin(parseInt(n)),Lite.data.saveCoin()}e?(this.winBox.active=!0,this.failBox.active=!1,this.timeoutBox.active=!1):(this.winBox.active=!1,this.failBox.active=!1,this.timeoutBox.active=!1,t.timeout?this.failBox.active=!0:this.timeoutBox.active=!0),this.showStar(o,t.useTime)},e=i([a],e)}(r.default));o.default=u,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","./endForm":"endForm"}],endFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"1a4d78jxcFDrKTZYM2PPdcM","endFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/LevelCfg"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=t("../../enum/AdType"),p=t("../../utils/EventType"),l=t("../../utils/MathUtils"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnShareVideo=null,e.btnNext=null,e.levelCoin=null,e.txtMemo=null,e.isMask=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e.mIsReceive=!1,e.mCanNum=0,e.mCheckBoxMistouch=!1,e.mCheckBoxVideoNum=3,e.mClickNum=0,e.mCheckedVideo=!0,e}return n(e,t),e.prototype.addEvent=function(){this.unchecked.on(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnNext.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnShareVideo.node.on(cc.Node.EventType.TOUCH_END,this.onShareVideo,this)},e.prototype.removeEvent=function(){this.unchecked.off(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnNext.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnShareVideo.node.off(cc.Node.EventType.TOUCH_END,this.onShareVideo,this)},e.prototype.onShow=function(t){var e=this,o=c.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=o.coin,this.mLevelShareCoinNum=o.shareCoin,this.levelCoin.string=""+s.default.formatMoney(this.mLevelCoinNum),this.addEvent(),moosnow.platform.isIphone()||Lite.event.sendEventImmediately(p.default.ADFORM_CHANGE,{showAd:u.AdType.END}),this.btnShareVideo.node.active=!0,this.shareVideoAnim(),this.mIsReceive=!1,this.mCheckedVideo=!0,this.checked.active=this.mCheckedVideo,moosnow.http.getAllConfig(function(t){e.mCanNum=l.default.probabilitys(t.checkBoxProbabilitys)+1,e.mCheckBoxMistouch=1==t.checkBoxMistouch,e.mCheckBoxVideoNum=isNaN(t.checkBoxVideoNum)?3:t.checkBoxVideoNum})},e.prototype.shareVideoAnim=function(){this.btnShareVideo.node.stopAllActions(),this.btnShareVideo.node.runAction(cc.sequence(cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,0)).repeatForever())},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},e.prototype.onShareVideo=function(){var t=this;moosnow.platform.share({channel:moosnow.SHARE_CHANNEL.VIDEO},function(e){t.shareVideoAnim(),e?t.btnShareVideo.node.active=!1:Lite.ui.showToast("\u5206\u4eab\u672a\u5b8c\u6210"),console.log("\u5206\u4eab\u7ed3\u675f",e)})},e.prototype.onHome=function(){s.default.addCoin(this.node,this.mLevelCoinNum,function(){Lite.ui.hideUIForm(a.default.EndForm,null),moosnow.http.getMisTouchNum(function(t){0==t?Lite.ui.pushUIForm(a.default.HomeForm):Lite.ui.pushUIForm(a.default.MistouchForm)})})},e.prototype.onReceive=function(){var t=this;this.mIsReceive||(this.mIsReceive=!0,this.mCheckedVideo?moosnow.platform.showVideo(function(e){t.mIsReceive=!1,e==moosnow.VIDEO_STATUS.END?(s.default.addCoin(t.node,5*t.mLevelCoinNum,function(){}),t.scheduleOnce(function(){Lite.ui.hideUIForm(a.default.EndForm,null),moosnow.http.getMisTouchNum(function(t){0==t?Lite.ui.pushUIForm(a.default.HomeForm):Lite.ui.pushUIForm(a.default.MistouchForm)})},2.1)):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.onHome())},e.prototype.onHide=function(){moosnow.platform.hideBanner(),Lite.event.sendEventImmediately(p.default.ADFORM_CHANGE,{})},e.prototype.checkToggle=function(){if(this.mCheckBoxMistouch)return this.mClickNum++,this.mClickNum==this.mCheckBoxVideoNum&&moosnow.platform.showVideo(function(){}),void(this.mClickNum>=this.mCanNum&&(this.mCheckedVideo=!this.mCheckedVideo,this.checked.active=this.mCheckedVideo,this.changeTxt()));this.mCheckedVideo=!this.mCheckedVideo,this.checked.active=this.mCheckedVideo,this.changeTxt()},e.prototype.changeTxt=function(){},i([f(cc.Node)],e.prototype,"checked",void 0),i([f(cc.Node)],e.prototype,"unchecked",void 0),i([f(cc.Sprite)],e.prototype,"btnShareVideo",void 0),i([f(cc.Sprite)],e.prototype,"btnNext",void 0),i([f(cc.Label)],e.prototype,"levelCoin",void 0),i([f(cc.Label)],e.prototype,"txtMemo",void 0),e=i([d],e)}(r.default);o.default=m,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType","../../utils/MathUtils":"MathUtils"}],endFormVIVO:[function(t,e,o){"use strict";cc._RF.push(e,"e782a+CmaVLa7CF8GpjY9Uq","endFormVIVO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./endForm"),c=t("../../../sheets/vo/LevelCfg"),s=t("../../config/Entitys"),a=cc._decorator,u=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!1,e}return n(e,t),e.prototype.onShow=function(t){var e=this,o=t.isWin,n=t.level;t.fail;if(t){var i=t.coin;if(isNaN(i))i=c.LevelCfg.get(this.FormData.level+1).coin;Lite.data.addCoin(parseInt(i)),Lite.data.saveCoin()}o?(this.winBox.active=!0,this.failBox.active=!1,this.timeoutBox.active=!1):(this.winBox.active=!1,this.failBox.active=!1,this.timeoutBox.active=!1,t.timeout?this.failBox.active=!0:this.timeoutBox.active=!0),this.showStar(n,t.useTime),moosnow.http.getMistouchPosNum(function(t){t>0?e.scheduleOnce(e.showNative,3):e.showNative()}),moosnow.platform.hasShortcutInstalled(function(t){t||moosnow.platform.installShortcut(function(){})})},e.prototype.showNative=function(){Lite.data.getCurrentLevel()>0&&moosnow.platform.showInter()},e.prototype.onHide=function(){Lite.entity.hideAllEntity(s.default.nativeAd),Lite.entity.hideAllEntity(s.default.nativeSmallAd)},e=i([u],e)}(r.default));o.default=p,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/Entitys":"Entitys","./endForm":"endForm"}],endForm:[function(t,e,o){"use strict";cc._RF.push(e,"5a0e3LNmz9HKbpETbrsXOu9","endForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../enum/AdType"),a=t("../../utils/EventType"),u=t("../../../sheets/vo/LevelCfg"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=t.call(this)||this;return e.btnVideoRespawn=null,e.btnBack=null,e.btnVideoReceive=null,e.btnWinReceive=null,e.btnFailReceive=null,e.coinText=null,e.winBox=null,e.failBox=null,e.timeoutBox=null,e.star1=null,e.star2=null,e.star3=null,e.star=null,e.starActive=null,e.isPopEffect=!0,e.isMask=!1,e.coin=0,e}return n(e,t),e.prototype.onEnable=function(){this.addEvent()},e.prototype.onDisable=function(){this.removeEvent()},e.prototype.addEvent=function(){this.btnVideoReceive&&this.btnVideoReceive.on(cc.Node.EventType.TOUCH_START,this.onVideo,this),this.btnVideoRespawn.on(cc.Node.EventType.TOUCH_START,this.onVideo,this),this.btnFailReceive.on(cc.Node.EventType.TOUCH_START,this.onFailAgain,this),this.btnWinReceive.on(cc.Node.EventType.TOUCH_START,this.getCoin,this),this.btnBack.on(cc.Node.EventType.TOUCH_START,this.onBack,this)},e.prototype.removeEvent=function(){this.btnVideoReceive&&this.btnVideoReceive.off(cc.Node.EventType.TOUCH_START,this.onVideo,this),this.btnVideoRespawn.off(cc.Node.EventType.TOUCH_START,this.onVideo,this),this.btnFailReceive.off(cc.Node.EventType.TOUCH_START,this.onFailAgain,this),this.btnWinReceive.off(cc.Node.EventType.TOUCH_START,this.getCoin,this),this.btnBack.off(cc.Node.EventType.TOUCH_START,this.onBack,this)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),moosnow.platform.stopRecord(function(){var t=moosnow.platform.getSystemInfoSync();moosnow.http.getAllConfig(function(e){moosnow.platform.showShareButton({left:t.windowWidth-e.shareBtnWidth,top:t.windowHeight-70})})})},e.prototype.onShow=function(t){var e=t.isWin,o=t.level;t.fail;if(t){var n=t.coin;if(isNaN(n))n=u.LevelCfg.get(this.FormData.level+1).coin;Lite.data.addCoin(parseInt(n)),Lite.data.saveCoin()}e?(this.winBox.active=!0,this.failBox.active=!1,this.timeoutBox.active=!1):(this.winBox.active=!1,this.failBox.active=!1,this.timeoutBox.active=!1,t.timeout?this.failBox.active=!0:this.timeoutBox.active=!0),this.showStar(o,t.useTime),this.node.zIndex=7,Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:s.AdType.CENTER,zIndex:6})},e.prototype.willHide=function(){moosnow.platform.hideBanner(),moosnow.platform.hideShareButton()},e.prototype.showStar=function(t,e){var o=u.LevelCfg.get(t+1),n=(Lite.data.getUserLevel(),0);n=e<1e3*o.star3?3:e<1e3*o.star2?2:1;for(var i=0;i<3;i++)this["star"+(i+1)].getComponent(cc.Sprite).spriteFrame=this.star;for(i=n;i>0;i--)this["star"+i].getComponent(cc.Sprite).spriteFrame=this.starActive},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:case moosnow.VIDEO_STATUS.END:moosnow.http.point("\u6e38\u620f\u7ed3\u675f"),t.coin*=3,t.getCoin(),moosnow.http.point("\u89c6\u9891\u4e09\u500d")}})},e.prototype.onBack=function(){Lite.ui.hideUIForm(c.default.TotalForm,null),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.onFailAgain=function(){Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{}),Lite.ui.pushUIForm(c.default.HomeForm)},e.prototype.openAttr=function(){this.getCoin()},e.prototype.getCoin=function(){Lite.data.addCoin(this.coin),Lite.data.saveCoin(),this.goIndexCb()},e.prototype.goIndexCb=function(){Lite.ui.hideUIForm(c.default.EndForm,null),Lite.ui.pushUIForm(c.default.HomeForm,{isBack:!0})},i([h(cc.Node)],e.prototype,"btnVideoRespawn",void 0),i([h(cc.Node)],e.prototype,"btnBack",void 0),i([h(cc.Node)],e.prototype,"btnVideoReceive",void 0),i([h(cc.Node)],e.prototype,"btnWinReceive",void 0),i([h(cc.Node)],e.prototype,"btnFailReceive",void 0),i([h(cc.Label)],e.prototype,"coinText",void 0),i([h(cc.Node)],e.prototype,"winBox",void 0),i([h(cc.Node)],e.prototype,"failBox",void 0),i([h(cc.Node)],e.prototype,"timeoutBox",void 0),i([h(cc.Node)],e.prototype,"star1",void 0),i([h(cc.Node)],e.prototype,"star2",void 0),i([h(cc.Node)],e.prototype,"star3",void 0),i([h(cc.SpriteFrame)],e.prototype,"star",void 0),i([h(cc.SpriteFrame)],e.prototype,"starActive",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],gameEntry:[function(t,e,o){"use strict";cc._RF.push(e,"84e36k0/UhEprj3VbtKYlWY","gameEntry");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventModule"),c=t("./AppConfig"),s=t("./ResourceModule"),a=t("../GameDataCenter"),u=t("./SettingModule"),p=t("./HttpModule"),l=cc._decorator,h=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mEvent=new r.default,e.mConfig=new c.default,e.mAudio=null,e.mResource=new s.default,e.mSetting=new u.default,e}return n(e,t),e.prototype.start=function(){window.Lite=this,this.mData=new a.default,this.mHttp=new p.HttpModule,cc.game.addPersistRootNode(this.node)},Object.defineProperty(e.prototype,"http",{get:function(){return this.mHttp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"myGame",{get:function(){return this.mMyGame},set:function(t){this.mMyGame=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.mEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this.mUi},set:function(t){this.mUi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entity",{get:function(){return this.mEntity},set:function(t){this.mEntity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.mConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return this.mAudio},set:function(t){this.mAudio=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this.mResource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setting",{get:function(){return this.mSetting},enumerable:!0,configurable:!0}),e=i([h],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../GameDataCenter":"GameDataCenter","./AppConfig":"AppConfig","./EventModule":"EventModule","./HttpModule":"HttpModule","./ResourceModule":"ResourceModule","./SettingModule":"SettingModule"}],gameForm:[function(t,e,o){"use strict";cc._RF.push(e,"d266bZl6a1L9ZiopfqloYco","gameForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/EventType"),s=t("../../utils/Common"),a=t("../../../sheets/vo/LevelCfg"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg1=null,e.bg2=null,e.background=null,e.map=null,e.clawControl=null,e.actionBox=null,e.suckerCtlNode=null,e.jumpCtlNode=null,e.levelTxt=null,e.timeTxt=null,e.star1=null,e.star2=null,e.star3=null,e.star=null,e.starActive=null,e.sucker=null,e.suckerActive=null,e.btnNext=null,e.btnReplay=null,e.btnReplayNum=null,e.replayNum=null,e.mBeginTime=0,e.mTotalTime=0,e.pauseAllTime=0,e.isSucker=!1,e.mCurrentLevel=0,e.mGameLevel=0,e.mStarNum=3,e}return n(e,t),e.prototype.start=function(){var t=this;Lite.event.addListener(c.default.GAME_STATE_NEXT,this,this.changeBg),Lite.event.addListener(c.default.GAME_STATE_OVER,this,this.changeBg),Lite.event.addListener(c.default.GAME_STATE_CANCEL,this,this.changeBg),Lite.event.addListener(c.default.GAME_STATE_OVER,this,this.onGameOver),Lite.event.addListener(c.default.RELOAD_LEVEL,this,this.onReload),Lite.event.addListener(c.default.GAME_TIME_OUT,this,this.onHideRocker),Lite.event.addListener(c.default.GAME_STATE_END,this,this.onHideRocker),Lite.event.addListener(c.default.PLAYER_DIED,this,this.onHideRocker),Lite.event.addListener(c.default.GAME_STATE_START,this,this.onShowRocker),Lite.event.addListener(c.default.GAME_STATE_RESPAWN,this,this.onShowRocker),Lite.event.addListener(c.default.GAME_STATE_REPLAY,this,function(){t.mBeginTime=0,t.mTotalTime=0}),this.suckerCtlNode.on(cc.Node.EventType.TOUCH_START,this.onSucker,this),this.jumpCtlNode.on(cc.Node.EventType.TOUCH_START,this.onJump,this),this.btnNext.on(cc.Node.EventType.TOUCH_END,this.onNext,this),this.btnReplay.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),this.btnReplayNum.on(cc.Node.EventType.TOUCH_END,this.addReplayNum,this),this.showReplayNum(),this.actionBox.width=cc.Canvas.instance.node.width/2,this.node.width=cc.Canvas.instance.node.width,this.node.height=cc.Canvas.instance.node.height,this.btnNext.active=!1,this.scheduleOnce(function(){t.btnNext.active=!0},50)},e.prototype.changeBg=function(){var t=[this.bg1,this.bg2];this.background.spriteFrame=t[Math.random()>.5?0:1]},e.prototype.addReplayNum=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addReplayNum(3),t.showReplayNum()):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.showReplayNum=function(){var t=Lite.data.getReplayNum();this.replayNum.string=""+t,this.btnReplayNum.active=t<=0,this.btnReplay.active=t>0},e.prototype.onReplay=function(){Lite.data.getReplayNum()>0&&(Lite.data.addReplayNum(-1),this.showReplayNum(),moosnow.platform.stopRecord(function(){Lite.event.sendEventImmediately(c.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(c.default.GAME_STATE_REPLAY,null),moosnow.platform.startRecord()}))},e.prototype.onNext=function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.event.sendEventImmediately(c.default.GAME_STATE_FAST_END,null):t==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onJump=function(){Lite.audio.playJump(),Lite.event.sendEventImmediately(c.default.JUMP,!0)},e.prototype.onHideRocker=function(){},e.prototype.onShowRocker=function(){},e.prototype.displayLevel=function(t){this.levelTxt.getComponent(cc.Label).string="\u7b2c"+(t+1)+"\u5173"},e.prototype.update=function(t){if(Lite.myGame.gamePause)this.pauseAllTime+=1e3*t;else{this.mTotalTime+=1e3*t;var e=Math.floor((this.mTotalTime-this.mBeginTime)/1e3/60),o=parseInt(""+(this.mTotalTime-this.mBeginTime)/1e3%60);this.timeTxt.string=s.default.formatNumber(e)+":"+s.default.formatNumber(o),this.showStar(this.mTotalTime-this.mBeginTime)}},e.prototype.onSucker=function(){this.isSucker=!this.isSucker;var t=this.suckerCtlNode.getComponent(cc.Sprite);this.isSucker?(t.spriteFrame=this.sucker,Lite.audio.playLoaderMagnet()):(t.spriteFrame=this.suckerActive,Lite.audio.stopLoaderMagnet()),Lite.event.sendEventImmediately(c.default.SUCKER_START,this.isSucker)},e.prototype.onReload=function(){this.loadLevel(this.mCurrentLevel)},e.prototype.onGameOver=function(){Lite.audio.stopLoaderMagnet()},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),console.log("gameForm",e),this.mBeginTime=this.mTotalTime=e.beginTime,this.mCurrentLevel=parseInt(e.lvIndex),this.mGameLevel=e.lvIndex,this.loadLevel(this.mCurrentLevel),this.displayLevel(this.mCurrentLevel),moosnow.platform.hideBlock()},e.prototype.onShow=function(){this.node.zIndex=3,this.mStarNum=3,moosnow.platform.showAutoBanner()},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),moosnow.platform.clearIntervalBanner()},e.prototype.loadLevel=function(t){for(var e=Lite.data.getUserLevel(),o=1;o<=20;o++)Lite.entity.hideAllEntity("level"+o,!0);Lite.entity.showEntity("level"+e[t].prefab,this.map,{level:t})},Object.defineProperty(e.prototype,"starNum",{set:function(t){this.mStarNum!=t&&(this.mStarNum=t,moosnow.platform.vibrateLong())},enumerable:!0,configurable:!0}),e.prototype.showStar=function(t){var e=a.LevelCfg.get(this.mGameLevel+1),o=(Lite.data.getUserLevel(),0);o=t<1e3*e.star3?3:t<1e3*e.star2?2:1,this.starNum=o;for(var n=0;n<3;n++)this["star"+(n+1)].getComponent(cc.Sprite).spriteFrame=this.star;for(n=o;n>0;n--)this["star"+n].getComponent(cc.Sprite).spriteFrame=this.starActive},i([l(cc.SpriteFrame)],e.prototype,"bg1",void 0),i([l(cc.SpriteFrame)],e.prototype,"bg2",void 0),i([l(cc.Sprite)],e.prototype,"background",void 0),i([l(cc.Node)],e.prototype,"map",void 0),i([l(cc.Node)],e.prototype,"clawControl",void 0),i([l(cc.Node)],e.prototype,"actionBox",void 0),i([l(cc.Node)],e.prototype,"suckerCtlNode",void 0),i([l(cc.Node)],e.prototype,"jumpCtlNode",void 0),i([l(cc.Node)],e.prototype,"levelTxt",void 0),i([l(cc.Label)],e.prototype,"timeTxt",void 0),i([l(cc.Node)],e.prototype,"star1",void 0),i([l(cc.Node)],e.prototype,"star2",void 0),i([l(cc.Node)],e.prototype,"star3",void 0),i([l(cc.SpriteFrame)],e.prototype,"star",void 0),i([l(cc.SpriteFrame)],e.prototype,"starActive",void 0),i([l(cc.SpriteFrame)],e.prototype,"sucker",void 0),i([l(cc.SpriteFrame)],e.prototype,"suckerActive",void 0),i([l(cc.Node)],e.prototype,"btnNext",void 0),i([l(cc.Node)],e.prototype,"btnReplay",void 0),i([l(cc.Node)],e.prototype,"btnReplayNum",void 0),i([l(cc.Label)],e.prototype,"replayNum",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],homeForm:[function(t,e,o){"use strict";cc._RF.push(e,"2047aYRcnhB/qNUJByawJ75","homeForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../config/UIForms"),a=t("../../utils/EventType"),u=t("../../enum/AdType"),p=t("../../utils/Common"),l=t("../../config/Entitys"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStar=null,e.btnPrev=null,e.btnNext=null,e.mapContainer=null,e.mapPoints=null,e.chapterTxt=null,e.shutter=null,e.btnSet=null,e.btnGarage=null,e.coinNum=null,e.qqAppBox=null,e.ttAppBox=null,e.easterEggContainer=null,e.mMapPos=[],e.mChapterBig=0,e.mChapterSmall=10,e}return n(e,t),e.prototype.start=function(){this.addListener()},e.prototype.showPrize=function(){moosnow.APP_PLATFORM.BYTEDANCE==moosnow.getAppPlatform()&&Lite.data.getCurrentLevel()>1&&Lite.ui.pushUIForm(s.default.PrizeForm,null)},e.prototype.onShow=function(t){this.displayLevel(),this.displayButton(),this.showPrize(),this.node.zIndex=1,Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:u.AdType.BANNER|u.AdType.FLOAT,zIndex:cc.macro.MAX_ZINDEX});var e=moosnow.getAppPlatform();if(console.log(" homeForm ~ onShow ~ curPlatform",e),e==moosnow.APP_PLATFORM.QQ?(console.log("QQ\u663e\u793abanner"),moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM),moosnow.platform.showBlock(moosnow.BLOCK_HORIZONTAL.CENTER,moosnow.BLOCK_VERTICAL.TOP,1,5)):e==moosnow.APP_PLATFORM.OPPO||e==moosnow.APP_PLATFORM.OPPO_ZS?moosnow.platform.showBanner(!1):e==moosnow.APP_PLATFORM.VIVO?t&&t.isBack?(moosnow.platform.hideBanner(),Lite.entity.showEntity(l.default.nativeAd,this.node,{x:0,y:0,onNullAd:function(){Lite.ui.showToast("\u62c9\u53d6\u95f4\u9694\u592a\u77ed\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),moosnow.platform.showBanner(!1)}})):moosnow.platform.showBanner(!1):e==moosnow.APP_PLATFORM.HW?(console.log("huawei native ad "),Lite.entity.showEntity(l.default.nativeAd,this.node,{x:0,y:0,onNullAd:function(){Lite.ui.showToast("\u62c9\u53d6\u95f4\u9694\u592a\u77ed\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"),moosnow.platform.showBanner(!1)}})):e==moosnow.APP_PLATFORM.WX?moosnow.platform.showAutoBanner():e==moosnow.APP_PLATFORM.UC&&moosnow.platform.showBanner(),this.qqAppBox.active=!1,e==moosnow.APP_PLATFORM.QQ&&(this.qqAppBox.active=!0),this.ttAppBox.active=!1,e==moosnow.APP_PLATFORM.BYTEDANCE&&!moosnow.platform.isIphone()){this.ttAppBox.active=!0;var o=this.ttAppBox.getComponent(cc.Animation);o&&o.play()}this.easterEggContainer.active=e==moosnow.APP_PLATFORM.BYTEDANCE,this.showCoin(),this.node.getComponent(cc.Graphics),this.mapContainer.y=-500,Lite.audio.playDoorEffect(),this.mapContainer.runAction(cc.sequence(cc.moveTo(1,0,0),cc.moveTo(.1,0,-10),cc.moveTo(.1,0,0),cc.moveTo(.05,0,-5),cc.moveTo(.05,0,0),cc.moveTo(.05,0,-2),cc.moveTo(.05,0,0)))},e.prototype.showCoin=function(){this.coinNum.string=""+p.default.formatMoney(Lite.data.getCoin())},e.prototype.addListener=function(){this.btnSet.on(cc.Node.EventType.TOUCH_END,this.onSet,this),this.btnPrev.on(cc.Node.EventType.TOUCH_END,this.onPrevChapterBigChange,this),this.btnNext.on(cc.Node.EventType.TOUCH_END,this.onNextChapterBigChange,this),this.btnGarage.on(cc.Node.EventType.TOUCH_END,this.onGarage,this),this.qqAppBox.on(cc.Node.EventType.TOUCH_END,this.onShowAppBox,this),this.ttAppBox.on(cc.Node.EventType.TOUCH_END,this.onShowAppBox,this),Lite.event.addListener(a.default.SKIN_CHANGE,this,this.showCoin),Lite.event.addListener(a.default.COIN_CHANGED,this,this.showCoin)},e.prototype.onMoreGame=function(){},e.prototype.onShowAppBox=function(){moosnow.platform.showAppBox(function(){},!1)},e.prototype.onGarage=function(){Lite.ui.pushUIForm(s.default.SkinForm)},e.prototype.initPosition=function(){var t=this;0==this.mMapPos.length&&(this.mMapPos=[],this.mapPoints.children.forEach(function(e){e.active=!1,t.mMapPos.push(e.position.clone())}))},e.prototype.displayButton=function(){this.mChapterBig<=0?this.btnPrev.active=!1:this.btnPrev.active=!0;var t=Lite.data.getMaxLevel(),e=Math.ceil(t/this.mChapterSmall);this.mChapterBig>=e-1?this.btnNext.active=!1:this.btnNext.active=!0},e.prototype.onSet=function(){Lite.ui.getUIFrom(s.default.SetForm)?Lite.ui.hideUIForm(s.default.SetForm,null):Lite.ui.pushUIForm(s.default.SetForm)},e.prototype.onPrevChapterBigChange=function(){this.mChapterBig--,this.mChapterBig<=0&&(this.mChapterBig=0),this.displayLevel(),this.displayButton(),this.runShutter()},e.prototype.onHide=function(){moosnow.platform.hideBanner()},e.prototype.onNextChapterBigChange=function(){this.mChapterBig++;var t=Lite.data.getMaxLevel(),e=Math.ceil(t/this.mChapterSmall);this.mChapterBig>=e&&(this.mChapterBig=e),this.displayLevel(),this.displayButton(),this.runShutter()},e.prototype.runShutter=function(){moosnow.platform.showBanner(!1),Lite.audio.playShutter(),this.shutter.runAction(cc.sequence(cc.fadeIn(0),cc.fadeOut(.5)))},e.prototype.displayLevel=function(){var t=Lite.data.getUserLevel(),e=this.mChapterBig*this.mChapterSmall,o=e+this.mChapterSmall;this.mapPoints.removeAllChildren();for(var n=e;n<o;n++){var r=i({},this.mMapPos[n-e],t[n],{level:n,memo:n+1});Lite.entity.showEntity("mapItem",this.mapPoints,r)}this.chapterTxt.getComponent(cc.Label).string=""+(this.mChapterBig+1)},e.prototype.willHide=function(){Lite.entity.hideAllEntity("mapItem"),moosnow.platform.clearIntervalBanner()},e.prototype.willShow=function(){Lite.audio.playMainMusic(),this.initPosition()},r([f(cc.Node)],e.prototype,"btnStar",void 0),r([f(cc.Node)],e.prototype,"btnPrev",void 0),r([f(cc.Node)],e.prototype,"btnNext",void 0),r([f(cc.Node)],e.prototype,"mapContainer",void 0),r([f(cc.Node)],e.prototype,"mapPoints",void 0),r([f(cc.Node)],e.prototype,"chapterTxt",void 0),r([f(cc.Node)],e.prototype,"shutter",void 0),r([f(cc.Node)],e.prototype,"btnSet",void 0),r([f(cc.Node)],e.prototype,"btnGarage",void 0),r([f(cc.Label)],e.prototype,"coinNum",void 0),r([f(cc.Node)],e.prototype,"qqAppBox",void 0),r([f(cc.Node)],e.prototype,"ttAppBox",void 0),r([f(cc.Node)],e.prototype,"easterEggContainer",void 0),e=r([d],e)}(c.default);o.default=m,cc._RF.pop()},{"../../config/Entitys":"Entitys","../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],mistouchFormQQ:[function(t,e,o){"use strict";cc._RF.push(e,"00e67jPlm5Ef7pO144TigXB","mistouchFormQQ");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=t("../../utils/EventType"),p=t("../../enum/BannerClickType"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.btnBanner=null,e.logo=null,e.hand=null,e.pinch1=null,e.pinch2=null,e.btn1=null,e.btn2=null,e.boxAd=!1,e.isMask=!0,e.mMaxNum=10,e.mCurrentNum=0,e.mNavigateIndex=0,e.mBannerShow=!1,e.mShowTime=0,e.mBannerClickType=p.BannerClickType.AUTO_HIDE,e}return n(e,t),e.prototype.willShow=function(e){(t.prototype.willShow.call(this,e),this.mCurrentNum=0,this.mNavigateIndex=s.default.randomNumBoth(3,6),this.addEvent(),this.schedule(this.subProgress,.016),Lite.event.sendEventImmediately(u.default.ADFORM_CHANGE,{}),this.mBannerShow=!1,this.btnBanner.active=!this.mistouchAppBox(),this.hand.active=!1,this.mistouchAppBox())&&(this.hand.active=!0,this.hand.getComponent(cc.Animation).play());moosnow.platform.hideBanner()},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},e.prototype.subProgress=function(){this.mCurrentNum>0&&(this.mCurrentNum-=.02)},e.prototype.addEvent=function(){var t=this;this.mistouchAppBox()?(this.btnBanner.active=!1,this.logo.on(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.logo.on(cc.Node.EventType.TOUCH_END,this.onBannerClick,this)):(this.btnBanner.active=!0,this.btnBanner.on(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(cc.Node.EventType.TOUCH_END,this.onBannerClick,this)),this.node.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),Lite.event.addListener(u.default.ON_PLATFORM_SHOW,this,function(){t.mBannerShow&&t.bannerClickCallback(!0)})},e.prototype.bannerClickCallback=function(t){var e=this;t&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),this.mistouchAppBox()?moosnow.platform.hideAppBox(function(){e.showPrize()}):(moosnow.platform.hideBanner(),this.showPrize()))},e.prototype.showPrize=function(){if(this.mBannerShow=!1,Lite.myGame.currentLevel<=Lite.data.getCurrentLevel()){var t=s.default.randomNumBoth(500,600);Lite.myGame.currentLevel<=Lite.data.getCurrentLevel()&&Lite.ui.pushUIForm(a.default.PrizeForm,i({coinNum:t,boxAd:this.mistouchAppBox(),mistouchType:this.mistouchAppBox()?4:null},s.default.deepCopy(this.FormData)),function(){Lite.ui.destroyUIForm(a.default.MistouchForm,null)}),console.log("onOpendLevel",Lite.myGame.currentLevel)}else Lite.ui.destroyUIForm(a.default.MistouchForm,null)},e.prototype.removeEvent=function(){this.btnBanner.off(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnBanner.off(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.logo.off(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.logo.off(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),Lite.event.removeListener(u.default.ON_PLATFORM_SHOW,this)},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.onLogoUp=function(){this.logo.getComponent(cc.Sprite).spriteFrame=this.pinch2,this.btnBanner.getComponent(cc.Sprite).spriteFrame=this.btn1},e.prototype.onLogoDown=function(){this.logo.getComponent(cc.Sprite).spriteFrame=this.pinch1,this.btnBanner.getComponent(cc.Sprite).spriteFrame=this.btn2},e.prototype.mistouchAppBox=function(){return console.log("MistouchFormQQ -> mistouchAppBox -> this.FormData",this.FormData),this.FormData&&4==this.FormData.mistouchType},e.prototype.onBannerClick=function(){var t=this;if(this.onLogoDown(),this.hand.active=!1,this.mCurrentNum+=1,this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,this.mistouchAppBox()?moosnow.platform.showAppBox(function(){t.bannerClickCallback(!0)}):moosnow.platform.showBanner(!0,function(e){console.log("banner click callback ",e),t.bannerClickCallback(e)},moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM),this.mBannerClickType==p.BannerClickType.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==p.BannerClickType.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum){moosnow.platform.hideBanner(),this.mBannerShow=!1,Lite.ui.destroyUIForm(a.default.MistouchForm,null);var e=s.default.randomNumBoth(500,600);Lite.myGame.currentLevel<=Lite.data.getCurrentLevel()&&(Lite.ui.pushUIForm(a.default.PrizeForm,i({coinNum:e,boxAd:this.boxAd,mistouchType:this.mistouchAppBox()?4:null},s.default.deepCopy(this.FormData)),function(){}),console.log("onOpendLevel",Lite.myGame.currentLevel))}},e.prototype.resetProgress=function(){this.mCurrentNum=0,moosnow.platform.hideBanner(),this.mBannerShow=!1},e.prototype.onHideBanner=function(){this.mistouchAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner()},e.prototype.update=function(){this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},r([d(cc.ProgressBar)],e.prototype,"clickProgress",void 0),r([d(cc.Node)],e.prototype,"btnBanner",void 0),r([d(cc.Node)],e.prototype,"logo",void 0),r([d(cc.Node)],e.prototype,"hand",void 0),r([d(cc.SpriteFrame)],e.prototype,"pinch1",void 0),r([d(cc.SpriteFrame)],e.prototype,"pinch2",void 0),r([d(cc.SpriteFrame)],e.prototype,"btn1",void 0),r([d(cc.SpriteFrame)],e.prototype,"btn2",void 0),r([d],e.prototype,"boxAd",void 0),e=r([h],e)}(c.default);o.default=f,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/BannerClickType":"BannerClickType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],mistouchFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"6b649NkroNEEoU4Aoip+fzF","mistouchFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/Common"),s=t("../../config/UIForms"),a=t("../../utils/EventType"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.btnReceive=null,e.btnConfirm=null,e.checked=null,e.unchecked=null,e.step1=null,e.step2=null,e.logo=null,e.mMaxNum=10,e.mCurrentNum=0,e.mOpenVideo=!0,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.step1.active=!0,this.step2.active=!1,this.btnConfirm.active=!0,this.mCurrentNum=0,this.mOpenVideo=!0,this.showCheckbox(),this.addEvent(),this.schedule(this.subProgress,.1),Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{})},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent()},e.prototype.subProgress=function(){this.mCurrentNum>0&&(this.mCurrentNum-=.1)},e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.node.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.btnConfirm.on(cc.Node.EventType.TOUCH_END,this.openBox,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.btnConfirm.off(cc.Node.EventType.TOUCH_END,this.openBox,this)},e.prototype.openBox=function(){var t=this;this.mOpenVideo?(this.btnConfirm.active=!1,moosnow.platform.showVideo(function(e){e!=moosnow.VIDEO_STATUS.END?(e==moosnow.VIDEO_STATUS.NOTEND?Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND):Lite.ui.showToast(moosnow.VIDEO_MSG.ERR),t.btnConfirm.active=!0):c.default.addCoin(t.node,c.default.randomNumBoth(500,600),function(){Lite.ui.hideUIForm(s.default.MistouchForm,null),Lite.ui.pushUIForm(s.default.HomeForm)})})):(Lite.ui.hideUIForm(s.default.MistouchForm,null),Lite.ui.pushUIForm(s.default.HomeForm))},e.prototype.checkboxChange=function(){this.mOpenVideo=!this.mOpenVideo,this.showCheckbox()},e.prototype.showCheckbox=function(){this.mOpenVideo?this.checked.node.active=!0:this.checked.node.active=!1},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.playBoxAnim=function(t){var e=this.logo.getComponent(cc.Animation);e.getAnimationState(t).isPlaying||e.play(t)},e.prototype.onLogoUp=function(){this.playBoxAnim("prizeBox2")},e.prototype.onBannerClick=function(){this.mCurrentNum>this.mMaxNum+1||(this.mCurrentNum+=1,this.mCurrentNum>=this.mMaxNum&&(this.step1.active=!1,this.step2.active=!0,this.playBoxAnim("prizeBox1")))},e.prototype.resetProgress=function(){this.mCurrentNum=0},e.prototype.update=function(){var t=this.mCurrentNum/this.mMaxNum;this.clickProgress.progress=t>1?1:t},i([l(cc.ProgressBar)],e.prototype,"clickProgress",void 0),i([l(cc.Node)],e.prototype,"btnReceive",void 0),i([l(cc.Node)],e.prototype,"btnConfirm",void 0),i([l(cc.Sprite)],e.prototype,"checked",void 0),i([l(cc.Sprite)],e.prototype,"unchecked",void 0),i([l(cc.Node)],e.prototype,"step1",void 0),i([l(cc.Node)],e.prototype,"step2",void 0),i([l(cc.Node)],e.prototype,"logo",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],mistouchForm:[function(t,e,o){"use strict";cc._RF.push(e,"e6102X0ZB9IoY1D225xW3Wt","mistouchForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/Common"),s=t("../../config/UIForms"),a=t("../../utils/EventType"),u=t("../../enum/BannerClickType"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.btnBanner=null,e.logo=null,e.mMaxNum=10,e.mCurrentNum=0,e.mNavigateIndex=0,e.mBannerShow=!1,e.mShowTime=0,e.mBannerClickType=u.BannerClickType.AUTO_HIDE,e}return n(e,t),e.prototype.willShow=function(t){var e=this;this.btnBanner.active=!0,this.LogicData=t,this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec2(0,50)),this.mCurrentNum=0,this.mNavigateIndex=c.default.randomNumBoth(3,this.mMaxNum-2),this.addEvent(),this.schedule(this.subProgress,.1),Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{}),this.mBannerShow=!1,moosnow.platform.hideBanner(),moosnow.http.getAllConfig(function(t){e.mBannerClickType=u.BannerClickType.AUTO_HIDE}),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this,function(){e.bannerClickCallback(!0)})},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeEvent(),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this)},e.prototype.subProgress=function(){this.mCurrentNum>0&&(this.mCurrentNum-=.1)},e.prototype.addEvent=function(){this.btnBanner.on(cc.Node.EventType.TOUCH_START,this.onLogoUp,this),this.btnBanner.on(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.node.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this)},e.prototype.bannerClickCallback=function(t){t&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),moosnow.platform.hideBanner(),this.mBannerShow=!1,Lite.myGame.currentLevel<=Lite.data.getCurrentLevel()?(Lite.ui.pushUIForm(s.default.CoinForm,{level:Lite.myGame.currentLevel,callback:function(){Lite.ui.destroyUIForm(s.default.MistouchForm,null)}}),console.log("onOpendLevel",Lite.myGame.currentLevel)):Lite.ui.destroyUIForm(s.default.MistouchForm,null))},e.prototype.removeEvent=function(){this.btnBanner.off(cc.Node.EventType.TOUCH_END,this.onBannerClick,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),Lite.event.removeListener(a.default.ON_PLATFORM_SHOW,this)},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.onLogoUp=function(){this.logo.position=this.mEndPos},e.prototype.onLogoDown=function(){this.logo.position=this.mBeginPos},e.prototype.onBannerClick=function(){var t=this;this.onLogoDown(),this.mCurrentNum+=1,this.mCurrentNum>=this.mNavigateIndex&&(this.mBannerShow||(this.mShowTime=Date.now(),this.mBannerShow=!0,moosnow.platform.showBanner(!0,function(e){console.log("banner click callback ",e),t.bannerClickCallback(e)},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM),this.mBannerClickType==u.BannerClickType.AUTO_HIDE?(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,2)):this.mBannerClickType==u.BannerClickType.MAST&&(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,2)))),this.mCurrentNum>=this.mMaxNum&&(moosnow.platform.hideBanner(),this.mBannerShow=!1,Lite.ui.destroyUIForm(s.default.MistouchForm,null),Lite.myGame.currentLevel<=Lite.data.getCurrentLevel()&&(Lite.ui.pushUIForm(s.default.CoinForm,{level:Lite.myGame.currentLevel,callback:function(){Lite.ui.destroyUIForm(s.default.MistouchForm,null)}}),console.log("onOpendLevel",Lite.myGame.currentLevel)))},e.prototype.resetProgress=function(){this.mCurrentNum=0,moosnow.platform.hideBanner(),this.mBannerShow=!1},e.prototype.onHideBanner=function(){moosnow.platform.hideBanner()},e.prototype.update=function(){this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},i([h(cc.ProgressBar)],e.prototype,"clickProgress",void 0),i([h(cc.Node)],e.prototype,"btnBanner",void 0),i([h(cc.Node)],e.prototype,"logo",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/BannerClickType":"BannerClickType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],openBoxFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"1d46btaJYRPy68eHxqmEox+","openBoxFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/PrizeBox"),s=t("../../utils/EventType"),a=t("../../config/UIForms"),u=t("../../utils/Common"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.boxLayout=null,e.btnReceive=null,e.btnNext=null,e.txtKeyNum=null,e.isMask=!0,e.boxList=[],e.mTryFromVideo=!0,e._Receiveing=!1,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mTryFromVideo=!0;var o=c.PrizeBox.getAll();o.sort(function(){return Math.random()>.5?1:-1}),this.boxList=o,Lite.data.clearPrizeKey(),Lite.data.clearPrizeBox(),this.initBox(),this.addListener()},e.prototype.willHide=function(){this.removeListener()},e.prototype.initBox=function(){var t=this;Lite.entity.hideAllEntity("openBoxItem"),this.boxLayout.removeAllChildren(),this.boxList.forEach(function(e){Lite.entity.showEntity("openBoxItem",t.boxLayout,e)}),this.updateKeyNum()},e.prototype.addListener=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnNext.on(cc.Node.EventType.TOUCH_END,this.nextForm,this),Lite.event.addListener(s.default.PRIZE_BOX_UNLOCAK,this,this.onPrizeBoxUnLock)},e.prototype.removeListener=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnNext.off(cc.Node.EventType.TOUCH_END,this.nextForm,this),Lite.event.removeListener(s.default.PRIZE_BOX_UNLOCAK,this)},e.prototype.checkboxChange=function(){this.mTryFromVideo=!this.mTryFromVideo,this.showCheckbox()},e.prototype.showCheckbox=function(){this.mTryFromVideo?(this.checked.node.active=!0,this.btnReceive.active=!0,this.btnNext.active=!1):(this.checked.node.active=!1,this.btnReceive.active=!1,this.btnNext.active=!0)},e.prototype.onPrizeBoxUnLock=function(t){this.mCheckPrize=t,this.btnReceive.active=!0,this.updateKeyNum()},e.prototype.updateKeyNum=function(){this.txtKeyNum.string=""+Lite.data.getPrizeKey()},e.prototype.onReceive=function(){var t=this;this._Receiveing||(this._Receiveing=!0,this.mTryFromVideo?moosnow.platform.showVideo(function(e){switch(t._Receiveing=!1,e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:t._Receiveing=!1,Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:Lite.data.addPrizeKey(3),t.updateKeyNum()}}):(Lite.data.lockPrizeBox(this.mCheckPrize.ID,0),this.initBox(),Lite.event.sendEventImmediately(s.default.PRIZE_BOX_UNLOCAK,this.mCheckPrize),this.nextForm()))},e.prototype.nextForm=function(){Lite.data.clearPrizeBox(),Lite.data.clearPrizeKey(),this._Receiveing=!1,Lite.ui.hideUIForm(a.default.OpenBoxForm,null),Lite.ui.pushUIForm(a.default.TotalForm,u.default.deepCopy(this.FormData))},i([h(cc.Sprite)],e.prototype,"checked",void 0),i([h(cc.Sprite)],e.prototype,"unchecked",void 0),i([h(cc.Node)],e.prototype,"boxLayout",void 0),i([h(cc.Node)],e.prototype,"btnReceive",void 0),i([h(cc.Node)],e.prototype,"btnNext",void 0),i([h(cc.Label)],e.prototype,"txtKeyNum",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/PrizeBox":"PrizeBox","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],pauseFormOPPO:[function(t,e,o){"use strict";cc._RF.push(e,"6b6b5JpS79Nq7WryinpY97Q","pauseFormOPPO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./pauseForm"),c=t("../../utils/EventType"),s=t("../../config/UIForms"),a=cc._decorator,u=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(t){this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),Lite.event.addListener(c.default.GAME_TIME_OUT,this,function(){Lite.ui.hideUIForm(s.default.PauseForm,null)}),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),moosnow.platform.hideBanner()},e=i([u],e)}(r.default));o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../utils/EventType":"EventType","./pauseForm":"pauseForm"}],pauseFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"20821BrrDhHup7KL1apj3/x","pauseFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./pauseForm"),c=t("../../utils/EventType"),s=t("../../config/UIForms"),a=cc._decorator,u=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(t){this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),Lite.event.addListener(c.default.GAME_TIME_OUT,this,function(){Lite.ui.hideUIForm(s.default.PauseForm,null)}),moosnow.APP_PLATFORM.QQ==moosnow.getAppPlatform()&&moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),moosnow.APP_PLATFORM.QQ,moosnow.getAppPlatform()},e=i([u],e)}(r.default));o.default=p,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../utils/EventType":"EventType","./pauseForm":"pauseForm"}],pauseFormVIVO:[function(t,e,o){"use strict";cc._RF.push(e,"6954cUZ5f5NqbV8Zn1xVOq9","pauseFormVIVO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./pauseForm"),c=t("../../utils/EventType"),s=t("../../config/UIForms"),a=t("../../config/Entitys"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(t){this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),Lite.event.addListener(c.default.GAME_TIME_OUT,this,function(){Lite.ui.hideUIForm(s.default.PauseForm,null)}),Lite.entity.showEntity(a.default.nativeAd,this.node,{x:0,y:0,onNullAd:function(){Lite.ui.showToast("\u62c9\u53d6\u95f4\u9694\u592a\u77ed\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}})},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),Lite.entity.hideAllEntity(a.default.nativeAd,null)},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../config/Entitys":"Entitys","../../config/UIForms":"UIForms","../../utils/EventType":"EventType","./pauseForm":"pauseForm"}],pauseForm:[function(t,e,o){"use strict";cc._RF.push(e,"3b646sk7ltEPqXfDJRVq+fw","pauseForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../enum/AdType"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnContinue=null,e.btnHome=null,e.btnRepaly=null,e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(t){this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),Lite.event.addListener(s.default.GAME_TIME_OUT,this,function(){Lite.ui.hideUIForm(c.default.PauseForm,null)}),moosnow.APP_PLATFORM.QQ==moosnow.getAppPlatform()?moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM):moosnow.platform.hideBanner()},e.prototype.willHide=function(t){this.btnContinue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.off(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.off(cc.Node.EventType.TOUCH_END,this.onReplay,this),Lite.event.removeListener(s.default.GAME_TIME_OUT,this),moosnow.APP_PLATFORM.QQ==moosnow.getAppPlatform()&&moosnow.platform.hideBanner()},e.prototype.onShow=function(){moosnow.platform.pauseRecord(),this.node.zIndex=5,Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:a.AdType.CENTER,zIndex:4})},e.prototype.closeForm=function(t){Lite.ui.hideUIForm(c.default.PauseForm,null,t)},e.prototype.onContinue=function(){this.closeForm(function(){Lite.event.sendEventImmediately(s.default.GAME_STATE_RESUME,null),moosnow.platform.resumeRecord()}),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{})},e.prototype.onToHome=function(){moosnow.platform.stopRecord(),Lite.audio.stopLoaderMagnet(),Lite.audio.stopMusic(),this.closeForm(function(){Lite.event.sendEventImmediately(s.default.GAME_STATE_CANCEL,{isWin:!1})})},e.prototype.onReplay=function(){Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_REPLAY,null),this.closeForm(function(){}),moosnow.platform.stopRecord(function(){moosnow.platform.startRecord()})},i([l(cc.Node)],e.prototype,"btnContinue",void 0),i([l(cc.Node)],e.prototype,"btnHome",void 0),i([l(cc.Node)],e.prototype,"btnRepaly",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],"physics-bound":[function(t,e,o){"use strict";cc._RF.push(e,"e07c26LJixPzpO6rPfCWbb0","physics-bound"),cc.Class({extends:cc.Component,properties:{size:cc.size(0,0),mouseJoint:!0},onLoad:function(){var t=this.size.width||this.node.width,e=this.size.height||this.node.height,o=new cc.Node;(o.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.mouseJoint)&&(o.addComponent(cc.MouseJoint).mouseRegion=this.node);this._addBound(o,0,e/2,t,20),this._addBound(o,0,-e/2,t,20),this._addBound(o,-t/2,0,20,e),this._addBound(o,t/2,0,20,e),o.parent=this.node},_addBound:function(t,e,o,n,i){var r=t.addComponent(cc.PhysicsBoxCollider);r.offset.x=e,r.offset.y=o,r.size.width=n,r.size.height=i}}),cc._RF.pop()},{}],prevHomeForm:[function(t,e,o){"use strict";cc._RF.push(e,"f8c929iRqdGV5r1YGdk6CCH","prevHomeForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../enum/AdType"),a=cc._decorator,u=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnGarage=null,e.btnLevel=null,e.btnShowAppBox=null,e.btnStart=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.addListener=function(){this.btnGarage.on(cc.Node.EventType.TOUCH_END,this.onGarage,this),this.btnLevel.on(cc.Node.EventType.TOUCH_END,this.showLevel,this),this.btnShowAppBox.on(cc.Node.EventType.TOUCH_END,this.onShowAppBox,this),this.btnStart.on(cc.Node.EventType.TOUCH_END,this.onGameStart,this)},e.prototype.removeListener=function(){this.btnGarage.off(cc.Node.EventType.TOUCH_END,this.onGarage,this),this.btnLevel.off(cc.Node.EventType.TOUCH_END,this.showLevel,this),this.btnShowAppBox.off(cc.Node.EventType.TOUCH_END,this.onShowAppBox,this),this.btnStart.off(cc.Node.EventType.TOUCH_END,this.onGameStart,this)},e.prototype.showLevel=function(){Lite.ui.pushUIForm(c.default.HomeForm,null,function(){Lite.ui.pushUIForm(c.default.AdForm,{showAd:s.AdType.BANNER|s.AdType.FLOAT,zIndex:Lite.ui.getUIFrom(c.default.HomeForm).node.zIndex+1})})},e.prototype.onGarage=function(){Lite.ui.pushUIForm(c.default.SkinForm)},e.prototype.onShowAppBox=function(){moosnow.platform.showAppBox(function(){},!1)},e.prototype.onGameStart=function(){this.showLevel()},e.prototype.onShow=function(){this.addListener(),moosnow.platform.showBanner(!1)},e.prototype.onHide=function(){this.removeListener(),moosnow.platform.hideBanner()},i([p(cc.Node)],e.prototype,"btnGarage",void 0),i([p(cc.Node)],e.prototype,"btnLevel",void 0),i([p(cc.Node)],e.prototype,"btnShowAppBox",void 0),i([p(cc.Node)],e.prototype,"btnStart",void 0),e=i([u],e)}(r.default);o.default=l,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm"}],prizeFormQQ:[function(t,e,o){"use strict";cc._RF.push(e,"07a25fFC5lPQoYG6mfH4s2c","prizeFormQQ");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNum=null,e.btnConfirm=null,e.btnAgain=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.btnConfirm.on(cc.Node.EventType.TOUCH_START,this.closeForm,this),this.btnAgain.on(cc.Node.EventType.TOUCH_START,function(){Lite.ui.hideUIForm(a.default.MistouchForm,null),Lite.ui.hideUIForm(a.default.PrizeForm,{},function(){Lite.ui.pushUIForm(a.default.MistouchForm,i({},s.default.deepCopy(e.FormData),{mistouchType:e.FormData?e.FormData.mistouchType:null}))})},this)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.coinNum.string=""+s.default.formatMoney(e.coinNum)},e.prototype.onShow=function(t){moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.TOP)},e.prototype.closeForm=function(){Lite.ui.hideUIForm(a.default.PrizeForm,null),Lite.ui.hideUIForm(a.default.MistouchForm,null),!this.FormData||1!=this.FormData.isWin&&0!=this.FormData.isWin?Lite.ui.pushUIForm(a.default.CoinForm,i({coinNum:this.FormData.coinNum},s.default.deepCopy(this.FormData),{callback:function(){}})):(Lite.data.addCoin(this.FormData.coinNum?this.FormData.coinNum:0),Lite.data.saveCoin(),Lite.ui.hideUIForm(a.default.CoinForm,null),Lite.ui.pushUIForm(a.default.TotalForm,s.default.deepCopy(this.FormData),function(){}))},r([l(cc.Label)],e.prototype,"coinNum",void 0),r([l(cc.Node)],e.prototype,"btnConfirm",void 0),r([l(cc.Node)],e.prototype,"btnAgain",void 0),e=r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],prizeFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"72ef79tWeVAko5L5+hWuPnh","prizeFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../utils/Common"),s=t("../../config/UIForms"),a=t("../../utils/EventType"),u=t("../../utils/MathUtils"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prizeBg2=null,e.txtCoutdown=null,e.btnReceive=null,e.checked=null,e.unchecked=null,e.isMask=!0,e.mChecked=!1,e.mCheckedVideo=!0,e.mTotalSecond=10,e.mCurrentSecond=0,e.mCanNum=0,e.mCheckBoxMistouch=!1,e.mCheckBoxVideoNum=3,e.mClickNum=0,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.addListener(),this.mCheckedVideo=!0,this.changeTxt(),this.mTotalSecond=10,this.mCurrentSecond=0,this.resumeCountdown()},e.prototype.onShow=function(){var t=this;moosnow.http.getAllConfig(function(e){t.mCanNum=u.default.probabilitys(e.checkBoxProbabilitys)+1,t.mCheckBoxMistouch=1==e.checkBoxMistouch,t.mCheckBoxVideoNum=isNaN(e.checkBoxVideoNum)?3:e.checkBoxVideoNum})},e.prototype.onCountdown=function(){this.mCurrentSecond+=1;var t=this.mTotalSecond-this.mCurrentSecond;if(t<0)return this.unschedule(this.onCountdown),void Lite.ui.hideUIForm(s.default.PrizeForm,null);this.txtCoutdown.string=t+"\u79d2"},e.prototype.stopCountdown=function(){this.unschedule(this.onCountdown)},e.prototype.resumeCountdown=function(){this.schedule(this.onCountdown,1)},e.prototype.addListener=function(){this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.unchecked.on(cc.Node.EventType.TOUCH_END,this.checkToggle,this)},e.prototype.closeForm=function(){Lite.ui.hideUIForm(s.default.PrizeForm,null)},e.prototype.onShare=function(){var t=this;this.stopCountdown(),moosnow.platform.share({channel:""},function(e){t.resumeCountdown(),e&&t.addCoin(2*t.getCoinNum(),function(){Lite.ui.hideUIForm(s.default.PrizeForm,null)})})},e.prototype.onReceive=function(){this.mCheckedVideo?this.onVideo():this.addCoin(this.getCoinNum(),function(){Lite.ui.hideUIForm(s.default.PrizeForm,null)})},e.prototype.checkToggle=function(){if(this.mCheckBoxMistouch)return this.mClickNum++,this.mClickNum==this.mCheckBoxVideoNum&&moosnow.platform.showVideo(function(){}),void(this.mClickNum>=this.mCanNum&&(this.mCheckedVideo=!this.mCheckedVideo,this.changeTxt()));this.mCheckedVideo=!this.mCheckedVideo,this.changeTxt()},e.prototype.changeTxt=function(){this.checked.active=this.mCheckedVideo,this.btnReceive.getComponent(cc.Label).string=this.checked.active?"\u76f4\u63a5\u9886\u53d6":"\u4e0d\u4e86\uff0c\u8c22\u8c22"},e.prototype.onVideo=function(){var t=this;this.stopCountdown(),moosnow.platform.showVideo(function(e){e!=moosnow.VIDEO_STATUS.END?(e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND),t.resumeCountdown()):t.addCoin(2*t.getCoinNum(),function(){Lite.ui.hideUIForm(s.default.PrizeForm,null)})})},e.prototype.getCoinNum=function(){return c.default.randomNumBoth(500,600)},e.prototype.addCoin=function(t,e){c.default.addCoin(this.node,t,function(){Lite.ui.hideUIForm(s.default.MistouchForm,null),Lite.event.sendEventImmediately(a.default.COIN_CHANGED,null),e()})},i([h(cc.Node)],e.prototype,"prizeBg2",void 0),i([h(cc.Label)],e.prototype,"txtCoutdown",void 0),i([h(cc.Node)],e.prototype,"btnReceive",void 0),i([h(cc.Node)],e.prototype,"checked",void 0),i([h(cc.Node)],e.prototype,"unchecked",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType","../../utils/MathUtils":"MathUtils"}],prizeForm:[function(t,e,o){"use strict";cc._RF.push(e,"16b4bCe8f9IEJ/A16rqDs8E","prizeForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNum=null,e.btnConfirm=null,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.btnConfirm.on(cc.Node.EventType.TOUCH_START,this.closeForm,this)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.coinNum.string=""+s.default.formatMoney(e.coinNum),moosnow.platform.hideBanner()},e.prototype.closeForm=function(){Lite.ui.destroyUIForm(a.default.PrizeForm,null),Lite.ui.destroyUIForm(a.default.MistouchForm,null),!this.FormData||1!=this.FormData.isWin&&0!=this.FormData.isWin?Lite.ui.pushUIForm(a.default.CoinForm,i({level:this.FormData.level,coinNum:this.FormData.coinNum},s.default.deepCopy(this.FormData),{callback:function(){}})):(Lite.data.addCoin(this.FormData.coinNum?this.FormData.coinNum:0),Lite.data.saveCoin(),Lite.ui.hideUIForm(a.default.CoinForm,null),Lite.ui.pushUIForm(a.default.TotalForm,s.default.deepCopy(this.FormData),function(){}))},r([l(cc.Label)],e.prototype,"coinNum",void 0),r([l(cc.Node)],e.prototype,"btnConfirm",void 0),e=r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],respawnFormOPPO:[function(t,e,o){"use strict";cc._RF.push(e,"4832bqCyF5P0ZqndLfn5Uj+","respawnFormOPPO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./respawnForm"),c=t("../../utils/EventType"),s=t("../../enum/AdType"),a=t("../../config/Entitys"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!1,e}return n(e,t),e.prototype.onShow=function(){var t=this;this.node.zIndex=7,Lite.event.sendEventImmediately(c.default.ADFORM_CHANGE,{showAd:s.AdType.RESPAWN|s.AdType.LEFT|s.AdType.MASK,zIndex:6}),moosnow.http.getAllConfig(function(e){e&&1==e.zs_jump_switch||t.addMask()}),moosnow.platform.checkVersion("",function(e){e?Lite.entity.showEntity(a.default.nativeAd,t.node,{x:0,y:-120}):(Lite.entity.hideAllEntity(a.default.nativeAd),moosnow.platform.showBanner(!1))}),moosnow.platform.pauseRecord()},e=i([p],e)}(r.default));o.default=l,cc._RF.pop()},{"../../config/Entitys":"Entitys","../../enum/AdType":"AdType","../../utils/EventType":"EventType","./respawnForm":"respawnForm"}],respawnFormQQ:[function(t,e,o){"use strict";cc._RF.push(e,"3c65dk2+PBN1ZYxETSvMURc","respawnFormQQ");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./respawnForm"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(e){moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM),t.prototype.willShow.call(this,e)},e.prototype.willHide=function(){t.prototype.willHide.call(this),moosnow.platform.hideBanner()},e=i([s],e)}(r.default));o.default=a,cc._RF.pop()},{"./respawnForm":"respawnForm"}],respawnFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"784d2Zpe2pEu7QBHYAtgFX1","respawnFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../enum/AdType"),u=t("../../utils/MathUtils"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.failContinue=null,e.btnHome=null,e.failContainer=null,e.checked=null,e.unchecked=null,e.isMask=!0,e.mCanNum=0,e.mCheckBoxMistouch=!1,e.mCheckBoxVideoNum=3,e.mClickNum=0,e.mCheckedVideo=!0,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.btnHome.active=!1,this.failContinue.active=!0,this.mCheckedVideo=!0,this.changeTxt(),this.failContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.unchecked.on(cc.Node.EventType.TOUCH_END,this.checkToggle,this)},e.prototype.willHide=function(){this.failContinue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.off(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.unchecked.off(cc.Node.EventType.TOUCH_END,this.checkToggle,this),moosnow.platform.hideBanner()},e.prototype.onShow=function(){var t=this;this.node.zIndex=7,Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:a.AdType.RESPAWN|a.AdType.LEFT|a.AdType.MASK,zIndex:6}),moosnow.http.getAllConfig(function(e){t.mCanNum=u.default.probabilitys(e.checkBoxProbabilitys)+1,t.mCheckBoxMistouch=1==e.checkBoxMistouch,t.mCheckBoxVideoNum=isNaN(e.checkBoxVideoNum)?3:e.checkBoxVideoNum}),moosnow.platform.pauseRecord()},e.prototype.closeForm=function(t){Lite.ui.hideUIForm(c.default.RespawnForm,null,t)},e.prototype.onContinue=function(){var t=this;moosnow.platform.resumeRecord(),this.mCheckedVideo?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.ui.hideUIForm(c.default.RespawnForm,null),Lite.event.sendEventImmediately(s.default.GAME_STATE_RESPAWN,t.FormData)):e==moosnow.VIDEO_STATUS.NOTEND?Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND):Lite.ui.showToast(moosnow.VIDEO_MSG.ERR)}):this.onToHome()},e.prototype.onToHome=function(){this.closeForm(function(){moosnow.platform.stopRecord(function(){Lite.event.sendEventImmediately(s.default.GOTO_HOME,{isWin:!1}),Lite.ui.pushUIForm(c.default.HomeForm),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:a.AdType.BANNER|a.AdType.FLOAT,callback:function(){}})})})},e.prototype.checkToggle=function(){if(this.mCheckBoxMistouch)return this.mClickNum++,this.mClickNum==this.mCheckBoxVideoNum&&moosnow.platform.showVideo(function(){}),void(this.mClickNum>=this.mCanNum&&(this.mCheckedVideo=!this.mCheckedVideo,this.changeTxt()));this.mCheckedVideo=!this.mCheckedVideo,this.changeTxt()},e.prototype.changeTxt=function(){this.checked.active=this.mCheckedVideo},i([h(cc.Node)],e.prototype,"failContinue",void 0),i([h(cc.Node)],e.prototype,"btnHome",void 0),i([h(cc.Node)],e.prototype,"failContainer",void 0),i([h(cc.Node)],e.prototype,"checked",void 0),i([h(cc.Node)],e.prototype,"unchecked",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType","../../utils/MathUtils":"MathUtils"}],respawnForm:[function(t,e,o){"use strict";cc._RF.push(e,"ff0bblvv89ALYmAiM30WfYb","respawnForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../utils/EventType"),a=t("../../enum/AdType"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeoutContinue=null,e.failContinue=null,e.btnHome=null,e.timeoutContainer=null,e.failContainer=null,e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.timeoutContainer.active=!!e.timeout,this.failContainer.active=!e.timeout,this.btnHome.active=!1,this.unschedule(this.onShowHomeButton),this.schedule(this.onShowHomeButton,1.5),this.timeoutContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.failContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this)},e.prototype.willHide=function(){this.timeoutContinue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.failContinue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.off(cc.Node.EventType.TOUCH_END,this.onToHome,this),moosnow.platform.hideBanner()},e.prototype.onShow=function(){this.node.zIndex=7,Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:a.AdType.RESPAWN|a.AdType.LEFT|a.AdType.MASK,zIndex:6}),moosnow.platform.pauseRecord()},e.prototype.onShowHomeButton=function(){this.btnHome.active=!0},e.prototype.closeForm=function(t){Lite.ui.hideUIForm(c.default.RespawnForm,null,t)},e.prototype.onContinue=function(){var t=this;moosnow.platform.resumeRecord(),moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.ui.hideUIForm(c.default.RespawnForm,null),Lite.event.sendEventImmediately(s.default.GAME_STATE_RESPAWN,t.FormData)):e==moosnow.VIDEO_STATUS.NOTEND?Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND):Lite.ui.showToast(moosnow.VIDEO_MSG.ERR)})},e.prototype.onToHome=function(){this.closeForm(function(){moosnow.platform.stopRecord(function(){Lite.event.sendEventImmediately(s.default.GOTO_HOME,{isWin:!1}),Lite.ui.pushUIForm(c.default.HomeForm),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{showAd:a.AdType.BANNER|a.AdType.FLOAT,callback:function(){}})})})},e.prototype.onReplay=function(){Lite.event.sendEventImmediately(s.default.GAME_STATE_REPLAY,null),this.closeForm(function(){})},i([l(cc.Node)],e.prototype,"timeoutContinue",void 0),i([l(cc.Node)],e.prototype,"failContinue",void 0),i([l(cc.Node)],e.prototype,"btnHome",void 0),i([l(cc.Node)],e.prototype,"timeoutContainer",void 0),i([l(cc.Node)],e.prototype,"failContainer",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],setForm:[function(t,e,o){"use strict";cc._RF.push(e,"5f637P8LXhHU4/taccgiKtm","setForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../config/UIForms"),s=t("../../enum/AdType"),a=t("../../utils/EventType"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=t.call(this)||this;return e.closeBtn=null,e.btnVibrateOff=null,e.btnMusicOff=null,e.btnVibrateOn=null,e.btnMusicOn=null,e.isPopEffect=!1,e.isMask=!0,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.btnVibrateOff.on(cc.Node.EventType.TOUCH_END,this.vibrateSwitch,this),this.btnMusicOff.on(cc.Node.EventType.TOUCH_END,this.musicSwitch,this),this.btnVibrateOn.on(cc.Node.EventType.TOUCH_END,this.vibrateSwitch,this),this.btnMusicOn.on(cc.Node.EventType.TOUCH_END,this.musicSwitch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.close,this),this.initData()},e.prototype.initData=function(){this.btnVibrateOn.active=Lite.data.getVibrateSetting(),this.btnVibrateOff.active=!Lite.data.getVibrateSetting(),this.btnMusicOn.active=!Lite.audio.isMute,this.btnMusicOff.active=Lite.audio.isMute},e.prototype.vibrateSwitch=function(){Lite.data.setVibrateSetting(!Lite.data.getVibrateSetting()),Lite.data.getVibrateSetting()&&moosnow.platform.vibrateShort(),this.initData()},e.prototype.musicSwitch=function(){Lite.audio.isMute=!Lite.audio.isMute,Lite.audio.isMute?Lite.audio.stopMusic():Lite.audio.playMainMusic(),this.initData()},e.prototype.onShow=function(){moosnow.platform.showBanner(!1),moosnow.http.getAllConfig(function(t){1==t.setFormAd?Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{showAd:s.AdType.LEFT|s.AdType.RIGHT}):Lite.event.sendEventImmediately(a.default.ADFORM_CHANGE,{})})},e.prototype.willHide=function(){moosnow.platform.hideBanner()},e.prototype.close=function(t){-1==[this.btnMusicOff.name,this.btnMusicOn.name,this.btnVibrateOff.name,this.btnVibrateOn.name].indexOf(t.target.name)&&Lite.ui.hideUIForm(c.default.SetForm,null)},i([l(cc.Node)],e.prototype,"closeBtn",void 0),i([l(cc.Node)],e.prototype,"btnVibrateOff",void 0),i([l(cc.Node)],e.prototype,"btnMusicOff",void 0),i([l(cc.Node)],e.prototype,"btnVibrateOn",void 0),i([l(cc.Node)],e.prototype,"btnMusicOn",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/EventType":"EventType"}],shareFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"6252c/qOTBF0rm4a7L1rnIw","shareFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),s=t("../../utils/Common"),a=t("../../../sheets/vo/LevelCfg"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnShare=null,e.btnBack=null,e.btnVideo=null,e.txtCoinNum=null,e.isMask=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e.mShareing=!1,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.btnBack.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnShare.on(cc.Node.EventType.TOUCH_END,this.onShareVideo,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onVideo,this)},e.prototype.onBack=function(){Lite.ui.hideUIForm(r.default.ShareForm,null),Lite.ui.pushUIForm(r.default.OpenBoxForm,s.default.deepCopy(this.FormData))},e.prototype.onShow=function(){this.btnShare.active=!0;var t=a.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=t.coin,this.mLevelShareCoinNum=t.shareCoin,this.txtCoinNum.string=""+s.default.formatMoney(this.mLevelShareCoinNum),moosnow.platform.stopRecord()},e.prototype.onShareVideo=function(){this.onShare()},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?s.default.addCoin(t.node,t.getCoinNum(),function(){Lite.ui.hideUIForm(r.default.ShareForm,null),Lite.ui.pushUIForm(r.default.OpenBoxForm,s.default.deepCopy(t.FormData))}):e==moosnow.VIDEO_STATUS.NOTEND?Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND):Lite.ui.showToast(moosnow.VIDEO_MSG.ERR)})},e.prototype.onShare=function(){var t=this;moosnow.platform.share({channel:moosnow.SHARE_CHANNEL.VIDEO},function(e){e?s.default.addCoin(t.node,t.getCoinNum(),function(){Lite.ui.hideUIForm(r.default.ShareForm,null),Lite.ui.pushUIForm(r.default.OpenBoxForm,s.default.deepCopy(t.FormData))}):Lite.ui.showToast("\u5206\u4eab\u672a\u5b8c\u6210"),console.log("\u5206\u4eab\u7ed3\u675f",e)})},e.prototype.getCoinNum=function(){return s.default.randomNumBoth(500,600)},i([l(cc.Node)],e.prototype,"btnShare",void 0),i([l(cc.Node)],e.prototype,"btnBack",void 0),i([l(cc.Node)],e.prototype,"btnVideo",void 0),i([l(cc.Label)],e.prototype,"txtCoinNum",void 0),e=i([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],skinForm:[function(t,e,o){"use strict";cc._RF.push(e,"d5c50RVGQlB0bl2Vk1FUmhj","skinForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../../sheets/vo/Skin"),a=t("../../utils/Common"),u=t("../../utils/EventType"),p=t("../../config/UIForms"),l=t("../../enum/AdType"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinView=null,e.skinLayout=null,e.btnBack=null,e.btnVideo=null,e.btnCoin=null,e.isMask=!0,e}return n(e,t),e.prototype.willShow=function(){this.initSkin(),this.addListener(),this.onSkinChange(),moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM),moosnow.platform.hideBlock(),Lite.event.sendEventImmediately(u.default.ADFORM_CHANGE,{})},e.prototype.willHide=function(){moosnow.platform.showBlock(moosnow.BLOCK_HORIZONTAL.CENTER,moosnow.BLOCK_VERTICAL.TOP,1,5),this.removeListener(),moosnow.APP_PLATFORM.WX==moosnow.getAppPlatform()?(moosnow.platform.hideBanner(),Lite.event.sendEventImmediately(u.default.ADFORM_CHANGE,{showAd:l.AdType.BANNER|l.AdType.FLOAT,zIndex:9999})):(moosnow.platform.hideBanner(),moosnow.platform.showBanner(!1,function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM))},e.prototype.initSkin=function(){var t=this;Lite.entity.hideAllEntity("skinItem"),s.Skin.getAll().forEach(function(e){Lite.entity.showEntity("skinItem",t.skinLayout.node,i({},a.default.deepCopy(e)))})},e.prototype.addListener=function(){this.btnBack.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),Lite.event.addListener(u.default.SKIN_SELECT,this,this.onSkinChange)},e.prototype.removeListener=function(){this.btnBack.off(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.off(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),Lite.event.removeListener(u.default.SKIN_SELECT,this)},e.prototype.onSkinChange=function(){var t=Lite.data.getSelectSkin(),e=Lite.data.getUserSkinById(t);this.btnCoin.active=!e,this.btnVideo.active=!e},e.prototype.onBack=function(){Lite.ui.hideUIForm(p.default.SkinForm,null)},e.prototype.onCoinUnlock=function(){var t=Lite.data.getSelectSkin(),e=s.Skin.get(t),o=Lite.data.getCoin();e.coinNum<=o?(Lite.data.setCoin(o-e.coinNum),Lite.data.saveCoin(),Lite.data.addUserSkinCoin(t),Lite.data.setCurrentSkinId(t),Lite.event.sendEventImmediately(u.default.SKIN_CHANGE,t),this.onSkinChange()):Lite.ui.showToast("\u91d1\u5e01\u4e0d\u8db3")},e.prototype.onUnlock=function(){var t=this;moosnow.platform.showVideo(function(e){if(e==moosnow.VIDEO_STATUS.END){var o=Lite.data.getSelectSkin();Lite.data.addUserSkinVideo(o);var n=Lite.data.getUserSkinById(o);s.Skin.get(o).videoNum<=n.videoNum&&(Lite.data.setCurrentSkinId(o),Lite.event.sendEventImmediately(u.default.SKIN_CHANGE,o),t.onSkinChange())}else e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},r([f(cc.ScrollView)],e.prototype,"skinView",void 0),r([f(cc.Layout)],e.prototype,"skinLayout",void 0),r([f(cc.Node)],e.prototype,"btnBack",void 0),r([f(cc.Node)],e.prototype,"btnVideo",void 0),r([f(cc.Node)],e.prototype,"btnCoin",void 0),e=r([d],e)}(c.default);o.default=m,cc._RF.pop()},{"../../../sheets/vo/Skin":"Skin","../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],totalFormOPPO:[function(t,e,o){"use strict";cc._RF.push(e,"80d33SWN3tLCrf90y4Ci3HM","totalFormOPPO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/LevelCfg"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=t("../../enum/AdType"),p=t("../../utils/EventType"),l=t("../../config/Entitys"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnReceive=null,e.levelCoin=null,e.isMask=!1,e.mIsChecked=!0,e.mOpenVideo=!1,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e.mIsReceive=!1,e}return n(e,t),e.prototype.addEvent=function(){this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.btnReceive.active=!1},e.prototype.onShow=function(t){var e=this,o=c.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=o.coin,this.mLevelShareCoinNum=o.shareCoin,this.levelCoin.string=""+s.default.formatMoney(this.mLevelCoinNum),moosnow.platform.checkVersion("",function(t){e.btnReceive.active=!t,t?(moosnow.platform.hideBanner(),Lite.entity.showEntity(l.default.nativeAd,e.node,{x:0,y:-120,onClose:function(){e.onReceive()},onNullAd:function(){e.node.zIndex=7,Lite.event.sendEventImmediately(p.default.ADFORM_CHANGE,{showAd:u.AdType.END|u.AdType.BACK,zIndex:6,callback:function(){e.btnReceive.active=!t,e.onReceive()}}),Lite.entity.hideAllEntity(l.default.nativeAd)}})):(Lite.entity.hideAllEntity(l.default.nativeAd),moosnow.platform.showBanner(!1))}),this.addEvent(),this.mIsReceive=!1,moosnow.http.getAllConfig(function(t){if(t)if(1==t.totalFormVideo)e.showCheckedVideo();else if(2==t.totalFormVideo)e.showUnCheckedVideo();else{var o=t&&t.shareFormVideoPrecent?parseFloat(t.shareFormVideoPrecent):.5;s.default.randomNumBoth(0,100)/100<o?e.showCheckedVideo():e.showUnCheckedVideo()}else e.showCheckedVideo()})},e.prototype.showCheckedVideo=function(){this.mIsChecked=!0},e.prototype.showUnCheckedVideo=function(){this.mIsChecked=!1},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(s.default.addCoin(t.node,5*t.mLevelCoinNum,function(){}),t.scheduleOnce(function(){Lite.ui.hideUIForm(a.default.TotalForm,null),moosnow.http.getMisTouchNum(function(t){0==t?(Lite.ui.hideUIForm(a.default.TotalForm,null),Lite.ui.pushUIForm(a.default.HomeForm,null,function(){})):Lite.ui.pushUIForm(a.default.MistouchForm)})},2.1)):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onReceive=function(){var t=this;this.mIsReceive||(this.mIsReceive=!0,s.default.addCoin(this.node,this.mLevelCoinNum,function(){t.mIsReceive=!1,Lite.ui.hideUIForm(a.default.TotalForm,null),Lite.ui.pushUIForm(a.default.HomeForm,null,function(){})}))},e.prototype.onHide=function(){moosnow.platform.hideBanner(),Lite.event.sendEventImmediately(p.default.ADFORM_CHANGE,{})},i([f(cc.Node)],e.prototype,"btnReceive",void 0),i([f(cc.Label)],e.prototype,"levelCoin",void 0),e=i([d],e)}(r.default);o.default=m,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/Entitys":"Entitys","../../config/UIForms":"UIForms","../../enum/AdType":"AdType","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],totalFormQQ:[function(t,e,o){"use strict";cc._RF.push(e,"ed6canABvRNN4kkl4zRKcEF","totalFormQQ");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/LevelCfg"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnVideoReceive=null,e.btnReceive=null,e.btnReceive2=null,e.btnMore=null,e.levelCoin=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e}return n(e,t),e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnReceive2.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnVideoReceive.node.on(cc.Node.EventType.TOUCH_END,this.onVideoReceive,this),this.btnMore.on(cc.Node.EventType.TOUCH_END,this.showAppbox,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnReceive2.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnVideoReceive.node.off(cc.Node.EventType.TOUCH_END,this.onVideoReceive,this),this.btnMore.off(cc.Node.EventType.TOUCH_END,this.showAppbox,this)},e.prototype.showAppbox=function(){moosnow.platform.showAppBox(function(){},!1)},e.prototype.onVideoReceive=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?t.openEnd(5*t.mLevelCoinNum):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onReceive=function(){this.openEnd(this.mLevelCoinNum)},e.prototype.openEnd=function(t){Lite.data.addCoin(t),Lite.data.saveCoin(),Lite.ui.hideUIForm(a.default.TotalForm,null),Lite.ui.pushUIForm(a.default.HomeForm,null,function(){})},e.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.mCheckedVideo||moosnow.http.getAllConfig(function(t){t&&1==t.checkBoxMistouch&&moosnow.platform.showVideo(function(t){})}),this.showBtn()},e.prototype.showBtn=function(){this.mCheckedVideo?(this.btnVideoReceive.node.active=!0,this.btnReceive2.node.active=!1,this.checked.node.active=!0):(this.btnVideoReceive.node.active=!1,this.btnReceive2.node.active=!0,this.checked.node.active=!1)},e.prototype.onShow=function(t){var e=c.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=e.coin,this.mLevelShareCoinNum=e.shareCoin,this.levelCoin.string=""+s.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.mCheckedVideo=!0,this.showBtn(),moosnow.platform.stopRecord(),moosnow.platform.showBanner(!1),moosnow.platform.showAppBox(function(t){console.log("show app box call back res ",t)},!0)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},i([l(cc.Sprite)],e.prototype,"checked",void 0),i([l(cc.Sprite)],e.prototype,"unchecked",void 0),i([l(cc.Sprite)],e.prototype,"btnVideoReceive",void 0),i([l(cc.Sprite)],e.prototype,"btnReceive",void 0),i([l(cc.Sprite)],e.prototype,"btnReceive2",void 0),i([l(cc.Node)],e.prototype,"btnMore",void 0),i([l(cc.Label)],e.prototype,"levelCoin",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],totalFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"eca95GoUa5KGIh0iabKfJs1","totalFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/LevelCfg"),s=t("../../utils/Common"),a=t("../../config/UIForms"),u=t("../../utils/EventType"),p=t("../../utils/MathUtils"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnReceive=null,e.levelCoin=null,e.txtMemo=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e.mCanNum=0,e.mCheckBoxMistouch=!1,e.mCheckBoxVideoNum=3,e.mClickNum=0,e.mIsReceive=!1,e}return n(e,t),e.prototype.addEvent=function(){this.unchecked.on(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.unchecked.off(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.onShow=function(t){var e=this,o=c.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=o.coin,this.mLevelShareCoinNum=o.shareCoin,this.levelCoin.string=""+s.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.mIsReceive=!1,this.mCheckedVideo=!0,this.checked.active=this.mCheckedVideo,moosnow.http.getAllConfig(function(t){e.mCanNum=p.default.probabilitys(t.checkBoxProbabilitys)+1,e.mCheckBoxMistouch=1==t.checkBoxMistouch,e.mCheckBoxVideoNum=isNaN(t.checkBoxVideoNum)?3:t.checkBoxVideoNum})},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},e.prototype.checkToggle=function(){if(this.mCheckBoxMistouch)return this.mClickNum++,this.mClickNum==this.mCheckBoxVideoNum&&moosnow.platform.showVideo(function(){}),void(this.mClickNum>=this.mCanNum&&(this.mCheckedVideo=!this.mCheckedVideo,this.checked.active=this.mCheckedVideo,this.changeTxt()));this.mCheckedVideo=!this.mCheckedVideo,this.checked.active=this.mCheckedVideo,this.changeTxt()},e.prototype.changeTxt=function(){},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(s.default.addCoin(t.node,5*t.mLevelCoinNum,function(){}),t.scheduleOnce(function(){Lite.ui.hideUIForm(a.default.TotalForm,null),moosnow.http.getMisTouchNum(function(e){0==e?Lite.ui.pushUIForm(a.default.EndForm,t.FormData):Lite.ui.pushUIForm(a.default.MistouchForm)})},2.1)):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onVideoReceive=function(){var t=this;this.mIsReceive||moosnow.platform.showVideo(function(e){t.mIsReceive=!1,e==moosnow.VIDEO_STATUS.END?(s.default.addCoin(t.node,5*t.mLevelCoinNum,function(){}),t.scheduleOnce(function(){Lite.ui.hideUIForm(a.default.TotalForm,null),moosnow.http.getMisTouchNum(function(e){0==e?Lite.ui.pushUIForm(a.default.EndForm,t.FormData):Lite.ui.pushUIForm(a.default.MistouchForm)})},2.1)):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onReceive=function(){var t=this;this.mIsReceive||(this.mCheckedVideo?this.onVideoReceive():(this.mIsReceive=!0,s.default.addCoin(this.node,this.mLevelCoinNum,function(){t.mIsReceive=!1,Lite.ui.hideUIForm(a.default.TotalForm,null),Lite.ui.pushUIForm(a.default.EndForm,t.FormData)})))},e.prototype.onHide=function(){moosnow.platform.hideBanner(),Lite.event.sendEventImmediately(u.default.ADFORM_CHANGE,{})},i([d(cc.Node)],e.prototype,"checked",void 0),i([d(cc.Node)],e.prototype,"unchecked",void 0),i([d(cc.Node)],e.prototype,"btnReceive",void 0),i([d(cc.Label)],e.prototype,"levelCoin",void 0),i([d(cc.Label)],e.prototype,"txtMemo",void 0),e=i([h],e)}(r.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType","../../utils/MathUtils":"MathUtils"}],totalFormVIVO:[function(t,e,o){"use strict";cc._RF.push(e,"3ba12QmsfNNZKwG6vcsKXdS","totalFormVIVO");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./totalFormTT"),c=t("../../utils/Common"),s=t("../../config/UIForms"),a=t("../../config/Entitys"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnShortcut=null,e}return n(e,t),e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e),this.btnReceive.active=!1,this.scheduleOnce(function(){o.btnReceive.active=!0},c.default.randomNumBoth(3,5)),this.btnShortcut.runAction(cc.sequence(cc.rotateTo(.1,12),cc.rotateTo(.2,-12),cc.rotateTo(.1,0)).repeatForever()),Lite.data.getCurrentLevel()>0&&Lite.entity.showEntity(a.default.nativeAd,this.node,{x:0,y:0,onNullAd:function(){Lite.ui.showToast("\u62c9\u53d6\u95f4\u9694\u592a\u77ed\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}})},e.prototype.createShortcut=function(){moosnow.platform.hasShortcutInstalled(function(t){t||moosnow.platform.installShortcut(function(){})})},e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onCheckChange,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btnShortcut.on(cc.Node.EventType.TOUCH_END,this.createShortcut,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onCheckChange,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onReceive,this),this.btnVideo.off(cc.Node.EventType.TOUCH_END,this.onVideo),this.btnShortcut.off(cc.Node.EventType.TOUCH_END,this.createShortcut,this)},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){e==VIDEO_STATUS.END?c.default.addCoin(t.node,5*t.mLevelCoinNum,function(){Lite.ui.hideUIForm(s.default.TotalForm,null),Lite.ui.pushUIForm(s.default.EndForm,t.FormData)}):e==VIDEO_STATUS.ERR?Lite.ui.showToast(VIDEO_MSG.ERR):Lite.ui.showToast(VIDEO_MSG.NOTEND)})},i([l(cc.Node)],e.prototype,"btnShortcut",void 0),e=i([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../../config/Entitys":"Entitys","../../config/UIForms":"UIForms","../../utils/Common":"Common","./totalFormTT":"totalFormTT"}],totalForm:[function(t,e,o){"use strict";cc._RF.push(e,"a45d9TJiqxBT7QFlmY+i6EK","totalForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),s=t("../../../sheets/vo/LevelCfg"),a=t("../../utils/Common"),u=t("../../config/UIForms"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnReceive=null,e.levelCoin=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e}return n(e,t),e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?t.openEnd(5*t.mLevelCoinNum):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEnd(this.mLevelCoinNum)},e.prototype.openEnd=function(t){Lite.ui.hideUIForm(u.default.TotalForm,null),Lite.ui.pushUIForm(u.default.EndForm,i({coin:t,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData))},e.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.showBtn()},e.prototype.showBtn=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},e.prototype.onShow=function(t){var e=s.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=e.coin,this.mLevelShareCoinNum=e.shareCoin,this.levelCoin.string=""+a.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.showBtn(),this.mCheckedVideo=!0,this.showBtn(),moosnow.platform.stopRecord(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},r([h(cc.Sprite)],e.prototype,"checked",void 0),r([h(cc.Sprite)],e.prototype,"unchecked",void 0),r([h(cc.Sprite)],e.prototype,"btnReceive",void 0),r([h(cc.Label)],e.prototype,"levelCoin",void 0),e=r([l],e)}(c.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common"}],tryFormTT:[function(t,e,o){"use strict";cc._RF.push(e,"6d53cYPtSNDr62bf3aPiXf0","tryFormTT");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/Skin"),s=t("../../utils/EventType"),a=t("../../utils/Common"),u=t("../../config/UIForms"),p=t("../../utils/MathUtils"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.logo=null,e.btnTry=null,e.btnNoTry=null,e.isMask=!0,e.mCheckedVideo=!0,e.mCanNum=0,e.mCheckBoxMistouch=!1,e.mCheckBoxVideoNum=3,e.mClickNum=0,e}return n(e,t),e.prototype.onTry=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.mCheckedVideo=!0,this.addEvent(),this.showSkin()},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},e.prototype.showSkin=function(){var t=this,e=[];if(c.Skin.getAll().forEach(function(t){Lite.data.getUserSkinById(t.ID)||e.push(t)}),0!=e.length){var o=a.default.randomNumBoth(0,e.length-1);this.mTrySkin=e[o],Lite.resource.loadAsset("skin/"+this.mTrySkin.ID+"/7",cc.SpriteFrame,function(e,o){e||(t.logo.spriteFrame=o)}),moosnow.http.getAllConfig(function(e){t.mCanNum=p.default.probabilitys(e.checkBoxProbabilitys)+1,t.mCheckBoxMistouch=1==e.checkBoxMistouch,t.mCheckBoxVideoNum=isNaN(e.checkBoxVideoNum)?3:e.checkBoxVideoNum,t.showCheckbox()})}else this.closeTry()},e.prototype.addEvent=function(){this.unchecked.on(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnNoTry.on(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnTry.on(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.removeEvent=function(){this.unchecked.off(cc.Node.EventType.TOUCH_END,this.checkToggle,this),this.btnNoTry.off(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnTry.off(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.checkToggle=function(){this.mCheckedVideo=!this.mCheckedVideo,this.checked.active=this.mCheckedVideo,this.mCheckBoxMistouch&&!this.mCheckedVideo&&moosnow.platform.showVideo(function(){}),this.changeTxt()},e.prototype.changeTxt=function(){this.btnTry.active=this.checked.active,this.btnNoTry.active=!this.checked.active},e.prototype.showCheckbox=function(){this.mCheckedVideo?this.checked.active=!0:this.checked.active=!1},e.prototype.closeTry=function(){Lite.data.addTrying(0),Lite.ui.hideUIForm(u.default.TryForm,null),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.FormData.level)},e.prototype.openVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:Lite.data.addTrying(t.mTrySkin.ID),t.onTryed()}})},e.prototype.onTryed=function(){Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.FormData.level),Lite.ui.hideUIForm(u.default.TryForm,null)},i([d(cc.Node)],e.prototype,"checked",void 0),i([d(cc.Node)],e.prototype,"unchecked",void 0),i([d(cc.Sprite)],e.prototype,"logo",void 0),i([d(cc.Node)],e.prototype,"btnTry",void 0),i([d(cc.Node)],e.prototype,"btnNoTry",void 0),e=i([h],e)}(r.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/Skin":"Skin","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType","../../utils/MathUtils":"MathUtils"}],tryForm:[function(t,e,o){"use strict";cc._RF.push(e,"86e2a4UKVtPnpNiSf1JmWGi","tryForm");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../framework/ui/UIForm"),c=t("../../../sheets/vo/Skin"),s=t("../../utils/EventType"),a=t("../../utils/Common"),u=t("../../config/UIForms"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.txtNext=null,e.btnVideo=null,e.btnNext=null,e.txtTry=null,e.isMask=!0,e.mTryFromVideo=!1,e}return n(e,t),e.prototype.onTry=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.addEvent(),this.showTry(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},e.prototype.showTry=function(){var t=this,e=[];if(c.Skin.getAll().forEach(function(t){Lite.data.getUserSkinById(t.ID)||e.push(t)}),0!=e.length){var o=a.default.randomNumBoth(0,e.length-1);this.mTrySkin=e[o],Lite.resource.loadAsset("skin/"+this.mTrySkin.ID+"/7",cc.SpriteFrame,function(e,o){e||(t.logo.spriteFrame=o)}),this.txtTry.node.active=!1,moosnow.http.getAllConfig(function(e){t.mTryFromVideo=e&&1==e.tryFromVideo,t.showBtn()})}else this.closeTry()},e.prototype.addEvent=function(){this.txtNext.node.on(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.on(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.removeEvent=function(){this.btnNext.node.off(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.off(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.tryChange=function(){this.mTryFromVideo=!this.mTryFromVideo,this.showBtn()},e.prototype.showBtn=function(){this.mTryFromVideo?(this.txtNext.node.active=!1,this.txtTry.node.active=!0):(this.txtNext.node.active=!0,this.txtTry.node.active=!1)},e.prototype.closeTry=function(){Lite.data.addTrying(0),Lite.ui.hideUIForm(u.default.TryForm,null),Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.FormData.level)},e.prototype.openVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:Lite.data.addTrying(t.mTrySkin.ID),t.onTryed()}})},e.prototype.onTryed=function(){Lite.event.sendEventImmediately(s.default.ADFORM_CHANGE,{}),Lite.event.sendEventImmediately(s.default.GAME_STATE_START,this.FormData.level),Lite.ui.hideUIForm(u.default.TryForm,null)},i([h(cc.Sprite)],e.prototype,"logo",void 0),i([h(cc.Label)],e.prototype,"txtNext",void 0),i([h(cc.Sprite)],e.prototype,"btnVideo",void 0),i([h(cc.Sprite)],e.prototype,"btnNext",void 0),i([h(cc.Label)],e.prototype,"txtTry",void 0),e=i([l],e)}(r.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/Skin":"Skin","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../utils/Common":"Common","../../utils/EventType":"EventType"}],use_reversed_rotateTo:[function(t,e,o){"use strict";cc._RF.push(e,"e70b5jsw+VI9Imqg9hUuiSH","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["Loading","MainView","PhysicsSetting","Entitys","ModelMapping","PackingMapping","UIForms","UIMapping","AdViewItem","Coin","EasterEggAnim","EasterEggItem","GameCountdown","Level1Ex","LevelMap","MapItem","NativeAd","OpenBoxItem","PlayerBoom","PlayerCar","PlayerCarPart","SkinItem","TargetBox","TruckLoader","AdType","BannerClickType","BoxType","ElevatorMove","ElevatorType","LevelAdType","ScollType","BoxControl","ButtonEx","DoorControl","ElevatorControl","FloorControl","GameScene","MistouchPos","RockerControl","Rope","StopPropagation","SuckerControl","SwitchControl","TargetBoxControl","WaitingShow","physics-bound","GameDataCenter","ModelBulider","TouchManager","Entity3DLogic","EntityData","EntityLogic","AppConfig","AudioModule","BaseModule","EntityModule","EventModule","GameLogic","GameState","HttpModule","NodeModule","ResourceModule","SettingModule","UIModule","gameEntry","ToastForm","UIForm","adForm","adFormOPPO","adFormQQ","adFormTT","baseAdForm","coinForm","easterEggFormTT","endForm","endFormOPPO","endFormTT","endFormVIVO","gameForm","homeForm","mistouchForm","mistouchFormQQ","mistouchFormTT","openBoxFormTT","pauseForm","pauseFormOPPO","pauseFormTT","pauseFormVIVO","prevHomeForm","prizeForm","prizeFormQQ","prizeFormTT","respawnForm","respawnFormOPPO","respawnFormQQ","respawnFormTT","setForm","shareFormTT","skinForm","totalForm","totalFormOPPO","totalFormQQ","totalFormTT","totalFormVIVO","tryForm","tryFormTT","ArrayUtil","Common","Delay","EventType","LoaderManager","Logger","MathUtils","SheetManager","Utils3D","use_reversed_rotateTo","ConfigData","EasterEgg","LevelCfg","PrizeBox","Sheets","Sign","SignVo","Skin"]);